import{u as e,a as t}from"../vue-router@4.1.6_vue@3.2.47/vue-router@4.1.6_vue@3.2.47.018c715a.js";import{c as s,b as a,f as l,a as i,d as o,as as n,h as r,u as d,t as c,_ as u,k as p,l as v,at as g,af as C,au as h,g as m,av as k,n as w,aw as x,ax as f,ay as A,az as y,aA as b,aB as L,m as F,o as _,r as j,p as I}from"../main-bb4220d0.js";import{d as D,n as M,m as E,p as B,o as V,a as H,c as T,N as S,b as Z,F as N,Q as R,S as G,U,R as q,M as z,q as P,e as O,j as $,P as X,t as Q,J}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{e as Y,d as K,a6 as W,o as ee,p as te,q as se,r as ae,t as le,s as ie,P as oe,Q as ne,X as re,C as de,A as ce,H as ue,I as pe,J as ve,n as ge,T as Ce,U as he,a2 as me}from"../naive-ui@2.34.3_vue@3.2.47/naive-ui@2.34.3_vue@3.2.47.d79924d9.js";import{r as ke,x as we,j as xe,i as fe}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{n as Ae,J as ye,o as be}from"../@vue_shared@3.2.47/@vue_shared@3.2.47.9d8e617e.js";import{V as Le,p as Fe,w as _e,e as je,a as Ie,v as De,f as Me,_ as Ee,C as Be}from"../file/file.c060ea84.js";import{h as Ve}from"../html2canvas@1.4.1/html2canvas@1.4.1.e8bfce09.js";import{M as He}from"../markdown-it@13.0.1/markdown-it@13.0.1.9061a946.js";import{m as Te}from"../@traptitech_markdown-it-katex@3.6.0/@traptitech_markdown-it-katex@3.6.0.ade9370b.js";import{m as Se}from"../markdown-it-link-attributes@4.0.1/markdown-it-link-attributes@4.0.1.f815b672.js";import{H as Ze}from"../highlight.js@11.8.0/highlight.js@11.8.0.7981ccab.js";import{c as Ne}from"../index/index.a4f65e28.js";import"../@iconify_vue@4.1.1_vue@3.2.47/@iconify_vue@4.1.1_vue@3.2.47.612da1cd.js";import{w as Re,b as Ge}from"../@vue_runtime-dom@3.2.47/@vue_runtime-dom@3.2.47.298398d5.js";import{C as Ue}from"../@vicons_ionicons5@0.12.0/@vicons_ionicons5@0.12.0.5fe57882.js";import"../v-viewer@3.0.11_vue@3.2.47/v-viewer@3.0.11_vue@3.2.47.a81e5850.js";import"../viewerjs@1.11.3/viewerjs@1.11.3.a76d4126.js";import"../clientjs@0.2.1/clientjs@0.2.1.7f53d864.js";import"../@babel_runtime@7.21.5/@babel_runtime@7.21.5.35f69bd2.js";import"../crypto-js@4.1.1/crypto-js@4.1.1.7142fa56.js";import"../pinia@2.0.35_typescript@4.9.5_vue@3.2.47/pinia@2.0.35_typescript@4.9.5_vue@3.2.47.1425f1b3.js";import"../vue-demi@0.14.7_vue@3.2.47/vue-demi@0.14.7_vue@3.2.47.71ba0ef2.js";import"../axios@1.4.0/axios@1.4.0.5ae1da96.js";import"../vue-i18n@9.2.2_vue@3.2.47/vue-i18n@9.2.2_vue@3.2.47.f7da0a53.js";import"../@intlify_shared@9.2.2/@intlify_shared@9.2.2.76c1dc14.js";import"../@intlify_core-base@9.2.2/@intlify_core-base@9.2.2.72ca16dd.js";import"../@intlify_message-compiler@9.2.2/@intlify_message-compiler@9.2.2.9b2b247d.js";import"../@intlify_devtools-if@9.2.2/@intlify_devtools-if@9.2.2.1be0989c.js";import"../vooks@0.2.12_vue@3.2.47/vooks@0.2.12_vue@3.2.47.89d56bd5.js";import"../evtd@0.2.4/evtd@0.2.4.2789e4a1.js";import"../katex@0.16.7/katex@0.16.7.43835b5c.js";import"../@vueuse_core@9.13.0_vue@3.2.47/@vueuse_core@9.13.0_vue@3.2.47.770e5818.js";import"../@vueuse_shared@9.13.0_vue@3.2.47/@vueuse_shared@9.13.0_vue@3.2.47.58cbe97f.js";import"../mitt@3.0.1/mitt@3.0.1.f0e54764.js";import"../marked@4.3.0/marked@4.3.0.cb1ff4ec.js";import"../date-fns@2.30.0/date-fns@2.30.0.bcce45e8.js";import"../vue-clipboard3@2.0.0/vue-clipboard3@2.0.0.ebf9d56c.js";import"../clipboard@2.0.11/clipboard@2.0.11.6a7b8915.js";import"../@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47/@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47.a70167c7.js";import"../@vueuse_shared@10.2.0_vue@3.2.47/@vueuse_shared@10.2.0_vue@3.2.47.3d57d69b.js";import"../qrcode@1.5.3/qrcode@1.5.3.ae99ec0a.js";import"../encode-utf8@1.0.3/encode-utf8@1.0.3.2ec93547.js";import"../dijkstrajs@1.0.3/dijkstrajs@1.0.3.38d0b2a1.js";import"../seemly@0.3.6/seemly@0.3.6.21da59ee.js";import"../vueuc@0.4.51_vue@3.2.47/vueuc@0.4.51_vue@3.2.47.ce1cbfa6.js";import"../@css-render_vue3-ssr@0.15.12_vue@3.2.47/@css-render_vue3-ssr@0.15.12_vue@3.2.47.e49104bd.js";import"../vdirs@0.1.8_vue@3.2.47/vdirs@0.1.8_vue@3.2.47.bf970686.js";import"../@juggle_resize-observer@3.4.0/@juggle_resize-observer@3.4.0.80d14552.js";import"../css-render@0.15.12/css-render@0.15.12.af3f05a4.js";import"../@emotion_hash@0.8.0/@emotion_hash@0.8.0.b17c1a96.js";import"../lodash-es@4.17.21/lodash-es@4.17.21.6a776102.js";import"../treemate@0.3.11/treemate@0.3.11.05d63ee5.js";import"../async-validator@4.2.5/async-validator@4.2.5.8d480e59.js";import"../@css-render_plugin-bem@0.15.12_css-render@0.15.12/@css-render_plugin-bem@0.15.12_css-render@0.15.12.0c2c3e5c.js";import"../entities@3.0.1/entities@3.0.1.c39fe2fc.js";import"../uc.micro@1.0.6/uc.micro@1.0.6.0fea38b8.js";import"../mdurl@1.0.1/mdurl@1.0.1.da5ed258.js";import"../linkify-it@4.0.1/linkify-it@4.0.1.fecc599e.js";import"../punycode@2.3.0/punycode@2.3.0.7cad0e83.js";const qe=e=>(G("data-v-0e482f5e"),e=e(),U(),e),ze={class:"sidebar"},Pe={class:"sidebar_card_main"},Oe={class:"apply_list"},$e=qe((()=>Z("div",{style:{"font-size":"13px",margin:"20px 0 10px 20px"},class:"drak:text-[#484A4D] text-[#A3A5A6]"},"了解应用",-1))),Xe={class:"item_list"},Qe=[qe((()=>Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M6.77904 2.09332H3.73252C2.81205 2.09332 2.06586 2.83951 2.06586 3.75999V6.80651C2.06586 7.72698 2.81205 8.47318 3.73252 8.47318H6.77904C7.69952 8.47318 8.44571 7.72698 8.44571 6.80651V3.75999C8.44571 2.83951 7.69952 2.09332 6.77904 2.09332Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M6.77904 11.3871H3.73252C2.81205 11.3871 2.06586 12.1333 2.06586 13.0538V16.1003C2.06586 17.0207 2.81205 17.7669 3.73252 17.7669H6.77904C7.69952 17.7669 8.44571 17.0207 8.44571 16.1003V13.0538C8.44571 12.1333 7.69952 11.3871 6.77904 11.3871Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M16.7762 14.069C16.7762 12.5878 15.5754 11.3871 14.0943 11.3871C12.6131 11.3871 11.4124 12.5878 11.4124 14.069C11.4124 15.5502 12.6131 16.7509 14.0943 16.7509C15.5754 16.7509 16.7762 15.5502 16.7762 14.069Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M16.1255 2.09332H13.079C12.1585 2.09332 11.4124 2.83951 11.4124 3.75999V6.80651C11.4124 7.72698 12.1585 8.47318 13.079 8.47318H16.1255C17.046 8.47318 17.7922 7.72698 17.7922 6.80651V3.75999C17.7922 2.83951 17.046 2.09332 16.1255 2.09332Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M16.1091 16.0011L17.9431 17.7669",stroke:"#3378ED","stroke-width":"1.66667","stroke-linecap":"round"})],-1))),qe((()=>Z("div",null,"探索应用",-1)))],Je=[qe((()=>Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M7.1346 2.56708H3.6731C2.98274 2.56708 2.4231 3.12672 2.4231 3.81708V10.4271C2.4231 11.1174 2.98274 11.6771 3.6731 11.6771H7.1346C7.82496 11.6771 8.3846 11.1174 8.3846 10.4271V3.81708C8.3846 3.12672 7.82496 2.56708 7.1346 2.56708Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M16.3265 17.4329H12.865C12.1746 17.4329 11.615 16.8733 11.615 16.1829V9.57292C11.615 8.88256 12.1746 8.32292 12.865 8.32292H16.3265C17.0169 8.32292 17.5765 8.88256 17.5765 9.57292V16.1829C17.5765 16.8733 17.0169 17.4329 16.3265 17.4329Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M7.1346 14.4921H3.6731C2.98274 14.4921 2.4231 15.0518 2.4231 15.7421V16.1829C2.4231 16.8733 2.98274 17.4329 3.6731 17.4329H7.1346C7.82496 17.4329 8.3846 16.8733 8.3846 16.1829V15.7421C8.3846 15.0518 7.82496 14.4921 7.1346 14.4921Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M16.3265 5.50787H12.865C12.1746 5.50787 11.615 4.94823 11.615 4.25787V3.8171C11.615 3.12674 12.1746 2.5671 12.865 2.5671H16.3265C17.0169 2.5671 17.5765 3.12674 17.5765 3.8171V4.25787C17.5765 4.94823 17.0169 5.50787 16.3265 5.50787Z",stroke:"#3378ED","stroke-width":"1.67"})],-1))),qe((()=>Z("div",null,"对话列表",-1)))],Ye=[qe((()=>Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.08471 2.37322C9.36488 2.21812 9.67988 2.13675 10.0001 2.13675C10.3204 2.13675 10.6354 2.21812 10.9156 2.37322C11.1954 2.52814 11.4313 2.75154 11.6013 3.02249L13.2134 5.57363C13.4806 5.99634 13.9233 6.27678 14.4196 6.3376L16.2071 6.55661C16.5436 6.59482 16.8636 6.72387 17.1325 6.93C17.4023 7.13679 17.6106 7.41329 17.7347 7.72972C17.8591 8.04613 17.8946 8.39046 17.8376 8.72557C17.7806 9.06071 17.6332 9.37391 17.4112 9.63143L17.4091 9.63396L15.7646 11.52C15.4237 11.911 15.2843 12.4384 15.3876 12.9468L15.9317 15.6275L15.9325 15.6318C16.001 15.9828 15.9677 16.346 15.8369 16.6788C15.7061 17.0118 15.483 17.3002 15.1938 17.5107L15.1871 17.5155C14.8957 17.721 14.5526 17.8405 14.1966 17.8603C13.8408 17.88 13.4866 17.7995 13.1745 17.6277L10.8002 16.3284C10.3017 16.0556 9.69855 16.0556 9.20003 16.3284L6.82637 17.6273C6.51357 17.7995 6.15946 17.88 5.80374 17.8603C5.44776 17.8405 5.10451 17.721 4.81318 17.5155L4.80642 17.5107C4.51728 17.3002 4.29415 17.0118 4.16331 16.6788C4.03245 16.346 3.99929 15.9828 4.06774 15.6318L4.06858 15.6275L4.61272 12.9468C4.71592 12.4384 4.57651 11.911 4.23559 11.52L2.59116 9.63396L2.58897 9.63145C2.36709 9.37391 2.2197 9.06071 2.16268 8.72557C2.10567 8.39046 2.14121 8.04613 2.26545 7.72972C2.3897 7.41329 2.59795 7.13679 2.86775 6.93C3.13669 6.72387 3.45661 6.59482 3.79326 6.55661L5.58059 6.3376C6.07691 6.27679 6.51971 5.99635 6.78682 5.57364L8.39833 3.02347C8.56891 2.75154 8.80486 2.52814 9.08471 2.37322Z",stroke:"#3378ED","stroke-width":"1.67"})],-1))),qe((()=>Z("div",null,"我的应用",-1)))],Ke=[qe((()=>Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M6.7791 2.09329H3.73258C2.81211 2.09329 2.06592 2.83948 2.06592 3.75996V6.80648C2.06592 7.72695 2.81211 8.47314 3.73258 8.47314H6.7791C7.69958 8.47314 8.44577 7.72695 8.44577 6.80648V3.75996C8.44577 2.83948 7.69958 2.09329 6.7791 2.09329Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M6.7791 11.3871H3.73258C2.81211 11.3871 2.06592 12.1333 2.06592 13.0538V16.1003C2.06592 17.0207 2.81211 17.7669 3.73258 17.7669H6.7791C7.69958 17.7669 8.44577 17.0207 8.44577 16.1003V13.0538C8.44577 12.1333 7.69958 11.3871 6.7791 11.3871Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M16.1255 2.09329H13.079C12.1585 2.09329 11.4124 2.83948 11.4124 3.75996V6.80648C11.4124 7.72695 12.1585 8.47314 13.079 8.47314H16.1255C17.046 8.47314 17.7922 7.72695 17.7922 6.80648V3.75996C17.7922 2.83948 17.046 2.09329 16.1255 2.09329Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M14.6023 11.7558V17.3982",stroke:"#3378ED","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M17.4236 14.577L11.7812 14.577",stroke:"#3378ED","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),qe((()=>Z("div",null,"创建应用",-1)))],We={class:"apply_sort"},et=qe((()=>Z("div",{style:{"font-size":"13px",margin:"30px 0 10px 20px"},class:"drak:text-[#484A4D] text-[#A3A5A6]"},"应用分类",-1))),tt={class:"sort_list"},st=[qe((()=>Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M6.77904 2.09332H3.73252C2.81205 2.09332 2.06586 2.83951 2.06586 3.75999V6.80651C2.06586 7.72698 2.81205 8.47318 3.73252 8.47318H6.77904C7.69952 8.47318 8.44571 7.72698 8.44571 6.80651V3.75999C8.44571 2.83951 7.69952 2.09332 6.77904 2.09332Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M6.77904 11.3871H3.73252C2.81205 11.3871 2.06586 12.1333 2.06586 13.0538V16.1003C2.06586 17.0207 2.81205 17.7669 3.73252 17.7669H6.77904C7.69952 17.7669 8.44571 17.0207 8.44571 16.1003V13.0538C8.44571 12.1333 7.69952 11.3871 6.77904 11.3871Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M16.7762 14.069C16.7762 12.5878 15.5754 11.3871 14.0943 11.3871C12.6131 11.3871 11.4124 12.5878 11.4124 14.069C11.4124 15.5502 12.6131 16.7509 14.0943 16.7509C15.5754 16.7509 16.7762 15.5502 16.7762 14.069Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M16.1255 2.09332H13.079C12.1585 2.09332 11.4124 2.83951 11.4124 3.75999V6.80651C11.4124 7.72698 12.1585 8.47318 13.079 8.47318H16.1255C17.046 8.47318 17.7922 7.72698 17.7922 6.80651V3.75999C17.7922 2.83951 17.046 2.09332 16.1255 2.09332Z",stroke:"#3378ED","stroke-width":"1.66667"}),Z("path",{d:"M16.1091 16.0011L17.9431 17.7669",stroke:"#3378ED","stroke-width":"1.66667","stroke-linecap":"round"})],-1))),qe((()=>Z("div",null,"全部",-1)))],at=["onClick"],lt=["src"],it=r(D({__name:"index",setup(t){s(),e();const r=a(),d=l(),c=i();Y();const u=ke(null),p=ke(null);M((()=>c.userBalance)),K();const{isMobile:v}=o();M((()=>null==d?void 0:d.activeModelKeyDeductType)),M((()=>null==d?void 0:d.activeModelKeyPrice));const g=ke([]),C=ke(c.exploreAppIndex);c.setSelectSiderIndex(C);const h=ke(0),m=ke(0),k=ke(0),w=ke(0);ke(!1),ke(null),E((()=>c.userBalance.useModel3Token),((e,t)=>{var s;h.value=t||0,m.value=e||0,null==(s=u.value)||s.play()}),{immediate:!0,flush:"post"}),E((()=>c.userBalance.useModel4Token),((e,t)=>{var s;k.value=t||0,w.value=e||0,null==(s=p.value)||s.play()}),{immediate:!0,flush:"post"}),E(v,(e=>{d.setSiderCollapsed(e)}),{immediate:!0,flush:"post"}),ke(!1),ke(!1);const x=M((()=>d.siderCollapsed));function f(){d.setSiderCollapsed(!x.value)}function A(e){C.value=e,y(e)}function y(e){return C.value==e}return ke(""),B((()=>{d.queryMyGroup(),async function(){const e=await n({status:1});g.value=e.data.rows}()})),M((()=>r.theme)),(e,t)=>(V(),H("div",ze,[T(we(W),{collapsed:we(x),"collapsed-width":0,width:260,"show-trigger":!1,"collapse-mode":"transform",class:"dark:bg-[#1A1D21] bg-[#FFF]",onUpdateCollapsed:f},{default:S((()=>[Z("div",Pe,[Z("div",Oe,[$e,Z("div",Xe,[Z("div",{class:Ae(y(we(c).exploreAppIndex)?"app_item dark:bg-[#1C2635] bg-[#F5F8FE]":"def_app_item"),onClick:t[0]||(t[0]=e=>A(we(c).exploreAppIndex))},Qe,2),Z("div",{class:Ae(y(we(c).appListIndex)?"app_item dark:bg-[#1C2635] bg-[#F5F8FE]":"def_app_item"),onClick:t[1]||(t[1]=e=>A(we(c).appListIndex))},Je,2),Z("div",{class:Ae(y(we(c).mineAppIndex)?"app_item app_item dark:bg-[#1C2635] bg-[#F5F8FE]":"def_app_item"),onClick:t[2]||(t[2]=e=>A(we(c).mineAppIndex))},Ye,2),Z("div",{class:Ae(y(we(c).createAppIndex)?"app_item app_item dark:bg-[#1C2635] bg-[#F5F8FE]":"def_app_item"),onClick:t[3]||(t[3]=e=>we(c).updateCreateAppDialog(!0))},Ke,2)])]),Z("div",We,[et,Z("div",tt,[Z("div",{class:Ae(y(we(c).AppAllIndex)?"sort_item app_item dark:bg-[#1C2635] bg-[#F5F8FE]":"def_sort_item"),onClick:t[4]||(t[4]=e=>A(we(c).AppAllIndex))},st,2),(V(!0),H(N,null,R(g.value,(e=>(V(),H("div",{class:Ae(y(e.id)?"sort_item app_item dark:bg-[#1C2635] bg-[#F5F8FE]":"def_sort_item"),key:e.id,onClick:t=>A(e.id)},[Z("img",{src:e.groupLogo},null,8,lt),Z("div",null,ye(e.groupName),1)],10,at)))),128))])])])])),_:1},8,["collapsed"])]))}}),[["__scopeId","data-v-0e482f5e"]]),ot={class:"w-full md:min-w-[450px] flex justify-center items-center"},nt={class:"mt-5 text-2xl text-[17px]"},rt={style:{width:"100%"},class:"text-center mt-4 text-neutral-400 dark:text-[#484A4D] text-[#A3A5A6] text-[13px]"},dt={class:"md:min-w-[450px]"},ct={key:0,class:"dark:text-[#F4F4F4] text-[#03060C] text-[13px]"},ut={class:"grid grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 2xl:grid-cols-2 gap-4"},pt=["onClick"],vt=D({__name:"index",emits:["run"],setup(e,{emit:t}){i();const s=l(),{isMobile:a}=o(),n=M((()=>s.getChatByGroupInfo())),r=M((()=>{var e;if(!n.value||!n.value)return[];if(n.value){const t=null==(e=n.value.demoData)?void 0:e.slice(0,4);let s=[],a=[];return t?(t.forEach(((e,t)=>{t%2==0?s.push(e):a.push(e)})),[{children:s},{children:a}]):[]}}));return(e,s)=>{var l,i,o;return V(),H("div",{class:Ae([[we(a)?"mt-2":""],"px-4 py-4"])},[Z("div",ot,[Z("div",{style:{width:"85%"},class:Ae(["text-center text-sm",[we(a)?"w-full":"w-1/4 mt-4"]])},[T(we(ee),{style:{"border-radius":"12px"},size:60,round:"",src:null==(l=we(n))?void 0:l.logo},null,8,["src"]),Z("h2",nt,ye(null==(i=we(n))?void 0:i.title),1),Z("p",rt,ye((null==(o=we(n))?void 0:o.desc)||""),1)],2)]),Z("div",dt,[we(r).length?(V(),H("div",{key:0,style:{width:"100%"},class:Ae(["flex justify-center items-center",[we(a)?"mt-1":"mt-20"]])},[Z("div",{style:{width:"85%"},class:Ae([we(a)?"w-full":"w-1/2"])},[we(r).length?(V(),H("h2",ct,"示例提问内容")):q("",!0),(V(!0),H(N,null,R(we(r),(e=>(V(),H("div",ut,[(V(!0),H(N,null,R(e.children,(e=>(V(),H("div",null,[Z("div",{style:{"border-radius":"8px"},class:"dark:bg-[#1C2635] bg-[#F5F8FE] rounded mt-4 cursor-pointer",onClick:s=>{t("run",e)}},[Z("p",{class:Ae(["text-md px-2.5 py-2 dark:text-[#2960BE] text-[#3378ED] text-center select-none text-[13px]",[we(a)?"line-clamp-2 ":"line-clamp-1"]])},ye(e),3)],8,pt)])))),256))])))),256))],2)],2)):q("",!0)])],2)}}});function gt(){const e=Y(),t=d(),s=M((()=>t.usingContext));return{usingContext:s,toggleUsingContext:function(){t.setUsingContext(!s.value),s.value?e.success(c("chat.turnOnContext")):e.warning(c("chat.turnOffContext"))}}}const Ct={key:0,class:"sticky top-0 left-0 right-0 z-30 border-b dark:border-neutral-800 bg-white/80 dark:bg-black/20 backdrop-blur"},ht={class:"relative flex items-center justify-center min-w-0 overflow-hidden h-14"},mt={class:"max-w-screen-2xl flex w-full items-center px-4"},kt={class:"flex items-center"},wt=Z("div",{class:"flex-1 py-4 ele-drag"},null,-1),xt={class:"flex items-center space-x-2"},ft={class:"flex h-8 w-8 items-center justify-center rounded border transition hover:bg-[#eef0f3] dark:border-neutral-700 dark:hover:bg-[#33373c]"},At={class:"text-base text-slate-500 dark:text-slate-400"},yt={class:"flex items-center gap-4"},bt=D({__name:"index",props:{usingContext:{type:Boolean}},emits:["export","toggleUsingContext","clear","scrollBtn"],setup(e,{emit:t}){const n=i();gt(),Y(),ke({0:"死板",.1:"专业",.2:"准确",.8:"平衡",1:"创造性",1.3:"离谱",1.6:"荒谬"});const r=[{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}];M((()=>{if(!v.activeConfig)return;const{modelTypeInfo:e,modelInfo:t}=v.activeConfig;return e&&t?`${null==e?void 0:e.label} / ${t.modelName}`:void 0}));const c=l(),p=a(),v=d();s();const g=M((()=>c.siderCollapsed)),C=M((()=>v.getChatByGroupInfo())),{isMobile:h}=o(),m=M((()=>p.theme));function k(){c.setSiderCollapsed(!g.value)}function w(){const e=document.querySelector("#scrollRef");e&&P((()=>e.scrollTop=0))}return M((()=>n.isLogin)),(e,t)=>{var s;return we(h)?(V(),H("header",Ct,[Z("div",ht,[Z("div",mt,[Z("div",kt,[Z("button",{class:"flex items-center justify-center w-11 h-11",onClick:k},[we(g)?(V(),z(we(u),{key:0,class:"text-2xl",icon:"ri:align-justify"})):(V(),z(we(u),{key:1,class:"text-2xl",icon:"ri:align-right"}))])]),Z("h1",{class:"flex-1 px-4 ele-drag font-bold pr-6 overflow-hidden cursor-pointer select-none text-ellipsis whitespace-nowrap",onDblclick:w},ye((null==(s=we(C))?void 0:s.title)??""),33),wt,Z("div",xt,[we(h)?(V(),z(we(se),{key:0,trigger:"click"},{trigger:S((()=>[Z("button",ft,[Z("span",At,[T(we(u),{icon:"fluent:dark-theme-24-regular"})])])])),default:S((()=>[Z("div",null,[Z("div",yt,[(V(),H(N,null,R(r,(e=>T(we(te),{key:e.key,size:"small",type:e.key===we(m)?"info":void 0,onClick:t=>we(p).setTheme(e.key)},{icon:S((()=>[T(we(u),{icon:e.icon},null,8,["icon"])])),_:2},1032,["type","onClick"]))),64))])])])),_:1})):q("",!0)])])])])):q("",!0)}}}),Lt={key:1,class:"text-[28px] dark:text-white"},Ft={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32","aria-hidden":"true",width:"1em",height:"1em"},_t=[Z("path",{d:"M29.71,13.09A8.09,8.09,0,0,0,20.34,2.68a8.08,8.08,0,0,0-13.7,2.9A8.08,8.08,0,0,0,2.3,18.9,8,8,0,0,0,3,25.45a8.08,8.08,0,0,0,8.69,3.87,8,8,0,0,0,6,2.68,8.09,8.09,0,0,0,7.7-5.61,8,8,0,0,0,5.33-3.86A8.09,8.09,0,0,0,29.71,13.09Zm-12,16.82a6,6,0,0,1-3.84-1.39l.19-.11,6.37-3.68a1,1,0,0,0,.53-.91v-9l2.69,1.56a.08.08,0,0,1,.05.07v7.44A6,6,0,0,1,17.68,29.91ZM4.8,24.41a6,6,0,0,1-.71-4l.19.11,6.37,3.68a1,1,0,0,0,1,0l7.79-4.49V22.8a.09.09,0,0,1,0,.08L13,26.6A6,6,0,0,1,4.8,24.41ZM3.12,10.53A6,6,0,0,1,6.28,7.9v7.57a1,1,0,0,0,.51.9l7.75,4.47L11.85,22.4a.14.14,0,0,1-.09,0L5.32,18.68a6,6,0,0,1-2.2-8.18Zm22.13,5.14-7.78-4.52L20.16,9.6a.08.08,0,0,1,.09,0l6.44,3.72a6,6,0,0,1-.9,10.81V16.56A1.06,1.06,0,0,0,25.25,15.67Zm2.68-4-.19-.12-6.36-3.7a1,1,0,0,0-1.05,0l-7.78,4.49V9.2a.09.09,0,0,1,0-.09L19,5.4a6,6,0,0,1,8.91,6.21ZM11.08,17.15,8.38,15.6a.14.14,0,0,1-.05-.08V8.1a6,6,0,0,1,9.84-4.61L18,3.6,11.61,7.28a1,1,0,0,0-.53.91ZM12.54,14,16,12l3.47,2v4L16,20l-3.47-2Z",fill:"currentColor"},null,-1)],jt=D({__name:"Avatar",props:{image:{type:Boolean}},setup(e){const t=l(),s=M((()=>t.getChatByGroupInfo())),{isMobile:a}=o(),n=i(),r=M((()=>n.userInfo.avatar)),d=M((()=>n.globalConfig.robotAvatar));return(t,l)=>e.image?(V(),H(N,{key:0},[we(p)(we(r))&&we(r).length>0?(V(),z(we(ee),{key:0,style:{width:"60px",height:"60px","border-radius":"12px","margin-right":"0.5rem"},size:we(a)?32:42,src:we(r),"fallback-src":we(v)},null,8,["size","src","fallback-src"])):(V(),z(we(ee),{key:1,style:{width:"60px",height:"60px","border-radius":"12px","margin-right":"0.5rem"},size:we(a)?32:42,src:we(v)},null,8,["size","src"]))],64)):(V(),H("span",Lt,[we(p)(we(d))&&we(d).length>0?(V(),z(we(ee),{key:0,style:{"background-color":"transparent",width:"60px",height:"60px","border-radius":"12px"},size:(we(a),32),src:we(s).logo,"fallback-src":we(v)},null,8,["size","src","fallback-src"])):(V(),H("svg",Ft,_t))]))}}),It={key:0,class:"flex flex-col items-start"},Dt={class:"w-full"},Mt={class:"dark:bg-[#1C2635] bg-[#F5F8FE] dark:text-[#2960B] text-[#3378ED]",style:{padding:"10px","border-radius":"8px"}},Et=["innerHTML"],Bt=["textContent"],Vt={class:"mt-4 flex items-center"},Ht=O('<svg class="mr-1" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 20 20" fill="none"><g clip-path="url(#clip0_357_574)"><path d="M9.99999 18.3334C14.6024 18.3334 18.3333 14.6024 18.3333 10C18.3333 5.39765 14.6024 1.66669 9.99999 1.66669C5.39761 1.66669 1.66666 5.39765 1.66666 10C1.66666 11.1299 1.89152 12.2073 2.29894 13.1898C2.50929 13.6971 2.76831 14.1791 3.07017 14.63C3.17148 14.7813 2.98142 15.738 2.49999 17.5C4.26203 17.0186 5.2187 16.8285 5.37003 16.9299C5.82095 17.2317 6.30295 17.4907 6.81024 17.7011C7.79274 18.1085 8.87012 18.3334 9.99999 18.3334Z" stroke="#A3A5A6" stroke-width="1.67" stroke-linejoin="round"></path><path d="M6.91855 8.25836H13.9099" stroke="#A3A5A6" stroke-width="1.67" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.10278 6.55743L7.88873 13.4426" stroke="#A3A5A6" stroke-width="1.67" stroke-linecap="round" stroke-linejoin="round"></path><path d="M12.0195 6.55743L10.8054 13.4426" stroke="#A3A5A6" stroke-width="1.67" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.08521 11.6667H13.0766" stroke="#A3A5A6" stroke-width="1.67" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_357_574"><rect width="20" height="20" fill="white"></rect></clipPath></defs></svg>',1),Tt={class:"text-xs dark:text-[#484A4D] text-[#A3A5A6]"},St={class:"flex mt-2",style:{"align-items":"center","justify-content":"space-between"}},Zt=Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M15.3033 15.3033C13.9461 16.6605 12.0711 17.5 10 17.5C5.85787 17.5 2.5 14.1421 2.5 10C2.5 5.85787 5.85787 2.5 10 2.5C12.0711 2.5 13.9461 3.33947 15.3033 4.69671C15.9941 5.38754 17.5 7.08333 17.5 7.08333",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M17.5 3.33331V7.08331H13.75",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Nt=Z("span",{class:"text-xs leading-none mt-0.5"},"重新回答",-1),Rt=Z("span",{class:"ml-4"},null,-1),Gt=Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none"},[Z("rect",{x:"2.07745",y:"5.34167",width:"12.4709",height:"12.5559",rx:"4",stroke:"#A3A5A6","stroke-width":"1.67"}),Z("path",{d:"M5.43121 5.84316V5.84316C5.43121 3.75122 7.12707 2.05536 9.21902 2.05536H13.9021C16.1113 2.05536 17.9021 3.84622 17.9021 6.05536V10.7936C17.9021 12.902 16.1929 14.6113 14.0844 14.6113V14.6113",stroke:"#A3A5A6","stroke-width":"1.67"})],-1),Ut=Z("span",{class:"text-xs leading-none mt-0.5"},"复制",-1),qt=Z("span",{class:"ml-4"},null,-1),zt=Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M4.65503 4.99585V13.5249C4.65503 15.7341 6.44589 17.5249 8.65503 17.5249H11.3449C13.554 17.5249 15.3449 15.7341 15.3449 13.5249V4.99585H4.65503Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"}),Z("path",{d:"M8.57471 8.55914V13.1914",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M11.4253 8.55914V13.1914",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M2.87341 4.99585H17.1265",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M6.49884 4.9958L6.91386 4.26902C7.5473 3.15972 8.72672 2.47504 10.0041 2.47504V2.47504C11.2926 2.47504 12.4805 3.17153 13.1096 4.29596L13.5012 4.9958H6.49884Z",stroke:"#A3A5A6 ","stroke-width":"1.67","stroke-linejoin":"round"})],-1),Pt=Z("span",{class:"text-xs leading-none mt-0.5"},"删除",-1),Ot={class:"dark:text-[#484A4D] text-[#A3A5A6]"},$t={key:1},Xt={class:"dark:bg-[#15171A] bg-[#F4F4F4]",style:{padding:"10px","border-radius":"8px"}},Qt=["innerHTML"],Jt=["textContent"],Yt={class:"flex mt-2",style:{"align-items":"center","justify-content":"space-between"}},Kt=Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M15.3033 15.3033C13.9461 16.6605 12.0711 17.5 10 17.5C5.85787 17.5 2.5 14.1421 2.5 10C2.5 5.85787 5.85787 2.5 10 2.5C12.0711 2.5 13.9461 3.33947 15.3033 4.69671C15.9941 5.38754 17.5 7.08333 17.5 7.08333",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M17.5 3.33331V7.08331H13.75",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Wt=Z("span",{class:"text-xs leading-none mt-0.5"},"重新提问",-1),es=Z("span",{class:"ml-4"},null,-1),ts=Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none"},[Z("rect",{x:"2.07745",y:"5.34167",width:"12.4709",height:"12.5559",rx:"4",stroke:"#A3A5A6","stroke-width":"1.67"}),Z("path",{d:"M5.43121 5.84316V5.84316C5.43121 3.75122 7.12707 2.05536 9.21902 2.05536H13.9021C16.1113 2.05536 17.9021 3.84622 17.9021 6.05536V10.7936C17.9021 12.902 16.1929 14.6113 14.0844 14.6113V14.6113",stroke:"#A3A5A6","stroke-width":"1.67"})],-1),ss=Z("span",{class:"text-xs leading-none mt-0.5"},"复制",-1),as=Z("span",{class:"ml-4"},null,-1),ls=Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M4.65503 4.99585V13.5249C4.65503 15.7341 6.44589 17.5249 8.65503 17.5249H11.3449C13.554 17.5249 15.3449 15.7341 15.3449 13.5249V4.99585H4.65503Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"}),Z("path",{d:"M8.57471 8.55914V13.1914",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M11.4253 8.55914V13.1914",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M2.87341 4.99585H17.1265",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M6.49884 4.9958L6.91386 4.26902C7.5473 3.15972 8.72672 2.47504 10.0041 2.47504V2.47504C11.2926 2.47504 12.4805 3.17153 13.1096 4.29596L13.5012 4.9958H6.49884Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"})],-1),is=Z("span",{class:"text-xs leading-none mt-0.5"},"删除",-1),os={class:"dark:text-[#484A4D] text-[#A3A5A6]"},ns=D({__name:"Text",props:{inversion:{type:Boolean},error:{type:Boolean},text:null,loading:{type:Boolean},asRawText:{type:Boolean},dateTime:null,chatTail:null},emits:["regenerate","delete","copy"],setup(e,{expose:t,emit:s}){const a=e;function l(e){var t=36e5,s=24*t;var a=(new Date).getTime()-Date.parse(e.replace(/-/gi,"-")),l=a/2592e6,i=a/(7*s),o=a/s,n=a/t,r=a/6e4;return l>=1?parseInt(l)+"个月前":i>=1?"发表于"+parseInt(i)+"周前":o>=1?parseInt(o)+"天前":n>=1?parseInt(n)+"个小时前":r>=1?parseInt(r)+"分钟前":"刚刚"}o();const i=ke(),n=new He({linkify:!0,html:!0,highlight(e,t){if(!(!t||!Ze.getLanguage(t))){const s=t??"";return u(Ze.highlight(e,{language:s}).value,s)}return u(Ze.highlightAuto(e).value,"")}}).enable("image");n.use(Se,{attrs:{target:"_blank",rel:"noopener"}}),n.use(Te,{blockClass:"katexmath-block rounded-md p-[10px]",errorColor:" #cc0000"});const r=M((()=>{})),d=M((()=>{const e=a.text??"";if(!a.asRawText){if(e.includes("uploaded")){const t=(e=>{const t=e.match(/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g);return t&&t.length>0?t[0]:""})(e);if(Le.isImg(e)){const s=e.replace(` ${t}`,`[![${t}](${t}#pic_center)](${t})`);return n.render(s)}if(Le.isPdf(e)){const s=e.replace(` ${t}`,`[![${t}](${Fe})](${t})`);return n.render(s)}if(Le.isWord(e)){const s=e.replace(` ${t}`,`[![${t}](${_e})](${t})`);return n.render(s)}if(Le.isExcel(e)){const s=e.replace(` ${t}`,`[![${t}](${je})](${t})`);return n.render(s)}if(Le.isPPt(e)){const s=e.replace(` ${t}`,`[![${t}](${Ie})](${t})`);return n.render(s)}if(Le.isVoice(e)){const s=e.replace(` ${t}`,`<audio id="audio" controls  controlslist="noplaybackrate nodownload" poster="${De}" preload="none"> <source id="mp3" src="${t}"></audio>\n `);return n.render(s)}const s=e.replace(` ${t}`,`[![${t}](${Me})](${t})`);return n.render(s)}return n.render(e)}return e}));function u(e,t){return`<pre class="code-block-wrapper"><div class="code-block-header"><span class="code-block-header__lang">${t}</span><span class="code-block-header__copy">${c("chat.copyCode")}</span></div><code class="hljs code-block-body ${t}">${e}</code></pre>`}function p(){s("regenerate")}function v(){s("copy")}function g(){s("delete")}return t({textRef:i}),(t,s)=>(V(),H("div",{style:{width:"100%"},class:Ae([we(r),"w-full"])},[Z("div",{ref_key:"textRef",ref:i,class:"leading-relaxed break-words"},[e.inversion?(V(),H("div",$t,[Z("div",Xt,[e.asRawText?(V(),H("div",{key:1,class:"w-full whitespace-pre-wrap",textContent:ye(we(d))},null,8,Jt)):(V(),H("div",{key:0,class:Ae(["w-full markdown-body",{"markdown-body-generate dark:text[#fff]":e.loading}]),innerHTML:we(d)},null,10,Qt))]),Z("div",Yt,[Z("div",null,[T(we(te),{style:{"border-radius":"8px",padding:"0 12px"},class:"dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#F4F4F4] text-[#03060C]",text:"",onClick:p},{icon:S((()=>[Kt])),default:S((()=>[Wt])),_:1}),es,T(we(te),{style:{"border-radius":"8px",padding:"0 12px"},class:"ml-2 dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#F4F4F4] text-[#03060C]",text:"",onClick:v},{icon:S((()=>[ts])),default:S((()=>[ss])),_:1}),as,T(we(te),{style:{"border-radius":"8px",padding:"0 12px"},class:"dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#F4F4F4] text-[#03060C]",text:"",onClick:g},{icon:S((()=>[ls])),default:S((()=>[is])),_:1})]),Z("div",os,ye(l(e.dateTime)),1)])])):(V(),H("div",It,[Z("div",Dt,[Z("div",Mt,[e.asRawText?(V(),H("div",{key:1,class:"w-full dark:text-[#2960B] text-[#3378ED]",textContent:ye(we(d))},null,8,Bt)):(V(),H("div",{key:0,class:Ae(["w-full",{"dark:text-[#2960B] text-[#3378ED]":e.loading}]),innerHTML:we(d)},null,10,Et))]),Z("div",Vt,[Ht,Z("p",Tt,ye(e.chatTail),1)]),Z("div",St,[Z("div",null,[T(we(te),{style:{"border-radius":"8px",padding:"0 12px"},class:"dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#F4F4F4] text-[#03060C]",text:"",onClick:p},{icon:S((()=>[Zt])),default:S((()=>[Nt])),_:1}),Rt,T(we(te),{style:{"border-radius":"8px",padding:"0 12px"},class:"dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#F4F4F4] text-[#03060C] ml-2",text:"",onClick:v},{icon:S((()=>[Gt])),default:S((()=>[Ut])),_:1}),qt,T(we(te),{style:{"border-radius":"8px",padding:"0 12px"},class:"dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#F4F4F4] text-[#03060C]",text:"",onClick:g},{icon:S((()=>[zt])),default:S((()=>[Pt])),_:1})]),Z("div",Ot,ye(l(e.dateTime)),1)])])]))],512)],2))}}),rs=D({__name:"index",props:{dateTime:null,text:null,inversion:{type:Boolean},error:{type:Boolean},loading:{type:Boolean},chatTail:null},emits:["regenerate","delete"],setup(e,{emit:t}){var s;const a=e,l=Y();o();const i=ke(),n=ke(a.inversion&&!(null==(s=a.text)?void 0:s.includes("https://"))&&!((r=null==a?void 0:a.text)&&/(.*)\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png)$/.test(r)));var r;const d=ke();function c(){t("delete")}function u(){Ne({text:a.text??""}),a.text&&l.success("复制成功！")}function p(){var e;null==(e=d.value)||e.scrollIntoView(),t("regenerate")}return(t,s)=>(V(),H("div",{ref_key:"messageRef",ref:d,class:"flex w-full mb-6 overflow-hidden items-start mt-5"},[Z("div",{class:Ae(["flex-shrink-0 mt-2 ml-8",[e.inversion?"ml-2":"mr-2"]])},[T(jt,{image:e.inversion},null,8,["image"])],2),Z("div",{style:{width:"100%"},class:Ae(["overflow-hidden text-sm",[e.inversion?"items-end":"items-start"]])},[Z("div",{class:Ae(["flex items-end gap-1 mt-2",[e.inversion?"flex-row-reverse":"flex-row"]])},[T(ns,{ref_key:"textRef",ref:i,chatTail:e.chatTail,dateTime:e.dateTime,inversion:e.inversion,error:e.error,text:e.text,loading:e.loading,"as-raw-text":n.value,onRegenerate:p,onCopy:u,onDelete:c},null,8,["chatTail","dateTime","inversion","error","text","loading","as-raw-text"])],2)],2)],512))}});const ds=e=>(G("data-v-933c49f7"),e=e(),U(),e),cs={class:"app_list"},us={style:{display:"flex"}},ps=["src"],vs={style:{width:"100%"}},gs={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Cs={style:{"font-size":"16px","margin-right":"5px","white-space":"nowrap",width:"8em",overflow:"hidden","text-overflow":"ellipsis"}},hs=["onClick"],ms=ds((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9016 2.84785C11.2379 2.66173 11.6159 2.56409 12.0002 2.56409C12.3844 2.56409 12.7625 2.66173 13.0987 2.84785C13.4345 3.03375 13.7176 3.30183 13.9216 3.62698L15.8561 6.68835C16.1767 7.1956 16.708 7.53213 17.3036 7.60511L19.4485 7.86792C19.8524 7.91377 20.2363 8.06864 20.559 8.31599C20.8828 8.56414 21.1328 8.89594 21.2817 9.27565C21.4309 9.65535 21.4735 10.0685 21.4051 10.4707C21.3367 10.8728 21.1599 11.2487 20.8935 11.5577L20.8909 11.5607L18.9176 13.824C18.5085 14.2932 18.3412 14.9261 18.4651 15.5362L19.1181 18.753L19.119 18.7582C19.2012 19.1794 19.1613 19.6152 19.0043 20.0146C18.8473 20.4141 18.5796 20.7603 18.2326 21.0128L18.2246 21.0186C17.8749 21.2652 17.4631 21.4086 17.0359 21.4324C16.609 21.456 16.184 21.3594 15.8094 21.1532L12.9603 19.5941C12.3621 19.2667 11.6383 19.2667 11.04 19.5941L8.19165 21.1528C7.81629 21.3594 7.39135 21.456 6.96449 21.4324C6.53731 21.4086 6.12542 21.2652 5.77582 21.0186L5.76771 21.0129C5.42074 20.7603 5.15298 20.4141 4.99597 20.0146C4.83894 19.6152 4.79915 19.1794 4.88129 18.7582L4.8823 18.753L5.53527 15.5362C5.65911 14.9261 5.49181 14.2932 5.08271 13.824L3.10939 11.5607L3.10677 11.5577C2.84051 11.2487 2.66364 10.8728 2.59522 10.4707C2.52681 10.0685 2.56945 9.65535 2.71854 9.27565C2.86764 8.89594 3.11754 8.56414 3.44131 8.31599C3.76403 8.06864 4.14794 7.91377 4.55191 7.86792L6.69671 7.60511C7.2923 7.53214 7.82365 7.19561 8.14419 6.68836L10.078 3.62816C10.2827 3.30183 10.5658 3.03375 10.9016 2.84785Z",fill:"#2960BE",stroke:"#2960BE","stroke-width":"2"},null,-1))),ks=[ms],ws=["onClick"],xs=ds((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7017 2.84785C12.0379 2.66173 12.4159 2.56409 12.8002 2.56409C13.1845 2.56409 13.5625 2.66173 13.8987 2.84785C14.2345 3.03375 14.5176 3.30183 14.7216 3.62698L16.6561 6.68835C16.9767 7.1956 17.508 7.53213 18.1036 7.60511L20.2485 7.86792C20.6524 7.91377 21.0363 8.06864 21.359 8.31599C21.6828 8.56414 21.9328 8.89594 22.0817 9.27565C22.2309 9.65535 22.2735 10.0685 22.2051 10.4707C22.1367 10.8728 21.9599 11.2487 21.6935 11.5577L21.6909 11.5607L19.7176 13.824C19.3085 14.2932 19.1412 14.9261 19.2651 15.5362L19.9181 18.753L19.919 18.7582C20.0012 19.1794 19.9613 19.6152 19.8043 20.0146C19.6473 20.4141 19.3796 20.7603 19.0326 21.0128L19.0246 21.0186C18.6749 21.2652 18.2631 21.4086 17.8359 21.4324C17.409 21.456 16.984 21.3594 16.6094 21.1532L13.7603 19.5941C13.1621 19.2667 12.4383 19.2667 11.8401 19.5941L8.9917 21.1528C8.61634 21.3594 8.1914 21.456 7.76454 21.4324C7.33736 21.4086 6.92547 21.2652 6.57587 21.0186L6.56776 21.0129C6.22079 20.7603 5.95303 20.4141 5.79602 20.0146C5.63899 19.6152 5.5992 19.1794 5.68134 18.7582L5.68235 18.753L6.33532 15.5362C6.45916 14.9261 6.29186 14.2932 5.88276 13.824L3.90944 11.5607L3.90681 11.5577C3.64056 11.2487 3.46368 10.8728 3.39527 10.4707C3.32686 10.0685 3.3695 9.65535 3.51859 9.27565C3.66769 8.89594 3.91759 8.56414 4.24135 8.31599C4.56408 8.06864 4.94799 7.91377 5.35196 7.86792L7.49676 7.60511C8.09235 7.53214 8.6237 7.19561 8.94424 6.68836L10.878 3.62816C11.0827 3.30183 11.3659 3.03375 11.7017 2.84785Z",stroke:"#484A4D","stroke-width":"2.004"},null,-1))),fs=[xs],As={style:{display:"flex","align-items":"center","justify-content":"space-between"}},ys={class:"type dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#484A4D] text-[#A3A5A6]"},bs={key:0,class:"title_tag dark:bg-[#1C2F1E] bg-[#EAFAE6] dark:text-[#2ECD06] text-[#2ECD06]"},Ls={class:"describe"},Fs={style:{display:"flex","align-items":"center","justify-content":"space-between"}},_s=["onClick"],js=["onClick"],Is=O('<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none" data-v-933c49f7><path d="M6.18604 5.995V17.0299C6.18604 19.239 7.9769 21.0299 10.186 21.0299H15.0139C17.223 21.0299 19.0139 19.239 19.0139 17.0299V5.995H6.18604Z" stroke="#FF5B5B" stroke-width="2.004" stroke-linejoin="round" data-v-933c49f7></path><path d="M10.8896 10.2709V15.8297" stroke="#FF5B5B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-933c49f7></path><path d="M14.3105 10.2709V15.8297" stroke="#FF5B5B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-933c49f7></path><path d="M4.04834 5.995H21.1521" stroke="#FF5B5B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-933c49f7></path><path d="M8.39868 5.99501L8.8967 5.12287C9.65683 3.79171 11.0721 2.97009 12.605 2.97009V2.97009C14.1512 2.97009 15.5766 3.80589 16.3316 5.1552L16.8016 5.99501H8.39868Z" stroke="#FF5B5B" stroke-width="2" stroke-linejoin="round" data-v-933c49f7></path></svg>',1),Ds=[Is],Ms=D({__name:"aiGptsCom",props:{q:null},setup(t){e();const s=Y();d();const a=l(),o=i();ke([]),ke({loadPage:!1,q:"",tab:"",search:!1,hasMore:!0}),ke([]),ke(0);const n=M((()=>o.selectSiderIndex)),r=M((()=>o.appListIndex)),c=ke([]);async function u(){const e=await g();200==e.code&&(c.value=e.data)}async function p(e){const t=await C({appId:e});200==t.code?(s.success(t.data),u()):s.error(t.data)}return E(n,(e=>{n.value==r.value&&u()}),{immediate:!0}),(e,t)=>(V(),H("div",cs,[(V(!0),H(N,null,R(c.value,(e=>(V(),H("div",{class:"app_item dark:bg-[#1A1D21] bg-[#FFF]",key:e.id},[Z("div",us,[Z("div",null,[Z("img",{class:"app_avatar",src:e.logo},null,8,ps)]),Z("div",vs,[Z("div",gs,[Z("div",Cs,ye(e.modelName),1),1==e.collected?(V(),H("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",onClick:t=>p(e.modelId)},ks,8,hs)):(V(),H("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",onClick:t=>p(e.modelId)},fs,8,ws))]),Z("div",As,[Z("div",ys,ye(e.groupName),1),1==e.gptsApp?(V(),H("div",bs,"gpts")):q("",!0)])])]),Z("div",Ls,ye(e.desc),1),Z("div",Fs,[Z("div",{class:"attempt_btn dark:bg-[#2960BE] bg-[#3378ED] dark:text-[#FFF] text-[#FFF]",onClick:t=>async function(e){console.log(e),a.setActiveGroup(e.id),o.selectAppListIndex=1}(e)},"立即使用 ",8,_s),Z("div",{onClick:t=>async function(e){const t=await h({groupId:e});console.log(t),200==t.code?(s.success("对话组删除成功"),u()):s.error(t.data)}(e.id)},Ds,8,js)])])))),128))]))}}),Es=r(Ms,[["__scopeId","data-v-933c49f7"]]),Bs=e=>(G("data-v-40800380"),e=e(),U(),e),Vs={class:"search_card dark:bg-[#1A1D21] bg-[#FFF]"},Hs=Bs((()=>Z("div",{class:"search_tag dark:bg-[#1C2635] bg-[#F5F8FE]"},[Z("div",null," 站内搜索 "),Z("div",{style:{"margin-left":"5px"}},[Z("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAICAYAAADJEc7MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB2SURBVHgBjc+xEYAgDAXQhMY1LHUMSrdgNLawkzXozBpWSEAPgRxnGrj/eRzgao4T4gS4tLcbwWAWs88Ik+O9erIUcPEDpTMqAOq40gg3iNhgLlwswqcoz5aQt5qw3NpjziWU8+pJNX7/36IOChgkJMIGg4R4bjGsSovCjcuzAAAAAElFTkSuQmCC"})])],-1))),Ts={style:{width:"88%"}},Ss=Bs((()=>Z("div",{style:{position:"absolute",right:"20px"}},[Z("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIJSURBVHgB1VXRbdswEH0kLaNpgSIjaIOmG8h/RJAC7gRJJmg7gZMRMkHVDRQgcAXkI+wE9QjqBgFaxGlq8coj5URyZEcy+tG8D0HQnfjuyHePwP+CJEl2tR7H6AmxKaj1QQIpDkFIXGb88BPNCGIG++c0z/OiN4HWOoaIPrto0ggQijpRhfT25ucnY8x1JwK/uIyu3GtMwLWr9gx2kOZ5VqDemcARhOsuoHDdjNq6EesWB5G5nQ/eG5O1Vhby3ZmI8oq74m2b3/warXYiG3/IaLJcPP96Mdq0OMN3RWrEW+fOZO/Fy9cfV3Nko224tnmfaXCMjggk5PNdFx9Yba0EXi0+CVl9v7uRXBju2p3Z7s7Oq6N2AgTFLBblF2wDYf1/lmSyjiDmx+XldIZtYIfG80i8eURQm9AC/xieoLbnMbZEKe/84RLRWpkW/KjU1BsKas+/kPjRSuAkdh7iGGMbEN2rsJWAbAhIN/5+ontA779j20j8DEGZVgLWMvsOa5ntoitJlTcJ1duz1RlqWMV8ODgJVSDuQsLnRSr6jkocRGW2mtPipg8GVn1KBdH5YmELpYaVQu6cm6rDpZ0H1wWr6JGrrr1w9P7BiQtPsAG8sCR7ShRltaIKdz+8XbrqEzcaD2DpqmWFiPi+KoGZJXz7PVfp0nGbnZfH+XSaPknQF0xCohzXiZ8//gJize+nu33EtwAAAABJRU5ErkJggg=="})],-1))),Zs=D({__name:"Search",setup(e){const t=i(),s=ke(0),a=ke("");async function l(){const e=await m({page:0,size:0,modelName:a.value,modelId:"",groupId:0});console.log(e),200==e.code&&t.updateSearchAppList(e.data.rows)}return B((()=>{!async function(){const e=await m({page:0,size:0,modelName:0,modelId:"",groupId:0});s.value=e.data.count}()})),(e,t)=>(V(),H("div",Vs,[Hs,Z("div",Ts,[T(we(ae),{class:"dark:bg-[#1A1D21] bg-[#FFF] bark:text-[#484A4D] text-[#A3A5A6] border-[0]",placeholder:"搜索"+s.value+"个应用",value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),onKeyup:Re(l,["enter"])},null,8,["placeholder","value","onKeyup"])]),Ss]))}}),Ns=r(Zs,[["__scopeId","data-v-40800380"]]),Rs=e=>(G("data-v-dbf7d732"),e=e(),U(),e),Gs={class:"recommend_app"},Us={class:"title"},qs={style:{"margin-right":"10px"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},zs=Rs((()=>Z("path",{d:"M6.77904 2.09329H3.73252C2.81205 2.09329 2.06586 2.83948 2.06586 3.75996V6.80648C2.06586 7.72695 2.81205 8.47314 3.73252 8.47314H6.77904C7.69952 8.47314 8.44571 7.72695 8.44571 6.80648V3.75996C8.44571 2.83948 7.69952 2.09329 6.77904 2.09329Z",stroke:"#A3A5A6","stroke-width":"1.67"},null,-1))),Ps=Rs((()=>Z("path",{d:"M6.77904 11.3871H3.73252C2.81205 11.3871 2.06586 12.1333 2.06586 13.0538V16.1003C2.06586 17.0207 2.81205 17.7669 3.73252 17.7669H6.77904C7.69952 17.7669 8.44571 17.0207 8.44571 16.1003V13.0538C8.44571 12.1333 7.69952 11.3871 6.77904 11.3871Z",stroke:"#A3A5A6","stroke-width":"1.67"},null,-1))),Os=Rs((()=>Z("path",{d:"M16.1255 11.3871H13.079C12.1585 11.3871 11.4124 12.1333 11.4124 13.0538V16.1003C11.4124 17.0207 12.1585 17.7669 13.079 17.7669H16.1255C17.046 17.7669 17.7922 17.0207 17.7922 16.1003V13.0538C17.7922 12.1333 17.046 11.3871 16.1255 11.3871Z",stroke:"#A3A5A6","stroke-width":"1.67"},null,-1))),$s=Rs((()=>Z("path",{d:"M16.1255 2.09329H13.079C12.1585 2.09329 11.4124 2.83948 11.4124 3.75996V6.80648C11.4124 7.72695 12.1585 8.47314 13.079 8.47314H16.1255C17.046 8.47314 17.7922 7.72695 17.7922 6.80648V3.75996C17.7922 2.83948 17.046 2.09329 16.1255 2.09329Z",stroke:"#A3A5A6","stroke-width":"1.67"},null,-1))),Xs=[zs,Ps,Os,$s],Qs=Rs((()=>Z("div",{class:"dark:text-[#F4F4F4] text-[#03060C]"},"推荐应用",-1))),Js={class:"app_list"},Ys=["src"],Ks={style:{width:"100%"}},Ws={class:"title_card"},ea={style:{display:"flex","align-items":"center"}},ta={style:{"font-size":"16px","margin-right":"5px"}},sa={key:0,class:"title_tag dark:bg-[#1C2F1E] bg-[#EAFAE6] dark:text-[#2ECD06] text-[#2ECD06]"},aa=["onClick"],la=Rs((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9016 2.84785C11.2379 2.66173 11.6159 2.56409 12.0002 2.56409C12.3844 2.56409 12.7625 2.66173 13.0987 2.84785C13.4345 3.03375 13.7176 3.30183 13.9216 3.62698L15.8561 6.68835C16.1767 7.1956 16.708 7.53213 17.3036 7.60511L19.4485 7.86792C19.8524 7.91377 20.2363 8.06864 20.559 8.31599C20.8828 8.56414 21.1328 8.89594 21.2817 9.27565C21.4309 9.65535 21.4735 10.0685 21.4051 10.4707C21.3367 10.8728 21.1599 11.2487 20.8935 11.5577L20.8909 11.5607L18.9176 13.824C18.5085 14.2932 18.3412 14.9261 18.4651 15.5362L19.1181 18.753L19.119 18.7582C19.2012 19.1794 19.1613 19.6152 19.0043 20.0146C18.8473 20.4141 18.5796 20.7603 18.2326 21.0128L18.2246 21.0186C17.8749 21.2652 17.4631 21.4086 17.0359 21.4324C16.609 21.456 16.184 21.3594 15.8094 21.1532L12.9603 19.5941C12.3621 19.2667 11.6383 19.2667 11.04 19.5941L8.19165 21.1528C7.81629 21.3594 7.39135 21.456 6.96449 21.4324C6.53731 21.4086 6.12542 21.2652 5.77582 21.0186L5.76771 21.0129C5.42074 20.7603 5.15298 20.4141 4.99597 20.0146C4.83894 19.6152 4.79915 19.1794 4.88129 18.7582L4.8823 18.753L5.53527 15.5362C5.65911 14.9261 5.49181 14.2932 5.08271 13.824L3.10939 11.5607L3.10677 11.5577C2.84051 11.2487 2.66364 10.8728 2.59522 10.4707C2.52681 10.0685 2.56945 9.65535 2.71854 9.27565C2.86764 8.89594 3.11754 8.56414 3.44131 8.31599C3.76403 8.06864 4.14794 7.91377 4.55191 7.86792L6.69671 7.60511C7.2923 7.53214 7.82365 7.19561 8.14419 6.68836L10.078 3.62816C10.2827 3.30183 10.5658 3.03375 10.9016 2.84785Z",fill:"#2960BE",stroke:"#2960BE","stroke-width":"2"},null,-1))),ia=[la],oa=["onClick"],na=Rs((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7017 2.84785C12.0379 2.66173 12.4159 2.56409 12.8002 2.56409C13.1845 2.56409 13.5625 2.66173 13.8987 2.84785C14.2345 3.03375 14.5176 3.30183 14.7216 3.62698L16.6561 6.68835C16.9767 7.1956 17.508 7.53213 18.1036 7.60511L20.2485 7.86792C20.6524 7.91377 21.0363 8.06864 21.359 8.31599C21.6828 8.56414 21.9328 8.89594 22.0817 9.27565C22.2309 9.65535 22.2735 10.0685 22.2051 10.4707C22.1367 10.8728 21.9599 11.2487 21.6935 11.5577L21.6909 11.5607L19.7176 13.824C19.3085 14.2932 19.1412 14.9261 19.2651 15.5362L19.9181 18.753L19.919 18.7582C20.0012 19.1794 19.9613 19.6152 19.8043 20.0146C19.6473 20.4141 19.3796 20.7603 19.0326 21.0128L19.0246 21.0186C18.6749 21.2652 18.2631 21.4086 17.8359 21.4324C17.409 21.456 16.984 21.3594 16.6094 21.1532L13.7603 19.5941C13.1621 19.2667 12.4383 19.2667 11.8401 19.5941L8.9917 21.1528C8.61634 21.3594 8.1914 21.456 7.76454 21.4324C7.33736 21.4086 6.92547 21.2652 6.57587 21.0186L6.56776 21.0129C6.22079 20.7603 5.95303 20.4141 5.79602 20.0146C5.63899 19.6152 5.5992 19.1794 5.68134 18.7582L5.68235 18.753L6.33532 15.5362C6.45916 14.9261 6.29186 14.2932 5.88276 13.824L3.90944 11.5607L3.90681 11.5577C3.64056 11.2487 3.46368 10.8728 3.39527 10.4707C3.32686 10.0685 3.3695 9.65535 3.51859 9.27565C3.66769 8.89594 3.91759 8.56414 4.24135 8.31599C4.56408 8.06864 4.94799 7.91377 5.35196 7.86792L7.49676 7.60511C8.09235 7.53214 8.6237 7.19561 8.94424 6.68836L10.878 3.62816C11.0827 3.30183 11.3659 3.03375 11.7017 2.84785Z",stroke:"#484A4D","stroke-width":"2.004"},null,-1))),ra=[na],da={class:"type dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#484A4D] text-[#A3A5A6]"},ca={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-top":"10px"}},ua={class:"describe"},pa=["onClick"],va=D({__name:"Recommend",setup(e){const t=i(),s=l(),a=Y(),o=ke([]),n=M((()=>s.collectApps)),r=M((()=>t.selectSiderIndex)),d=M((()=>t.exploreAppIndex));async function c(){const e=await k({type:"recommend"});200==e.code&&(o.value=e.data)}async function u(e){const t=await C({appId:e});200==t.code?(s.refreshCollect(),a.success(t.data),c()):a.error(t.data)}return E(r,(e=>{r.value==d.value&&c()}),{immediate:!0}),(e,a)=>(V(),H("div",Gs,[Z("div",Us,[Z("div",null,[(V(),H("svg",qs,Xs))]),Qs]),Z("div",Js,[(V(!0),H(N,null,R(o.value,(e=>(V(),H("div",{class:"app_item dark:bg-[#1A1D21] bg-[#FFF]",key:e.id},[Z("div",null,[Z("img",{class:"app_avatar",src:e.logo},null,8,Ys)]),Z("div",Ks,[Z("div",Ws,[Z("div",ea,[Z("div",ta,ye(e.modelName),1),1==e.gptsApp?(V(),H("div",sa,"gpts")):q("",!0)]),Z("div",null,[we(n).includes(e.id)?(V(),H("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",onClick:t=>u(e.id)},ia,8,aa)):(V(),H("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",onClick:t=>u(e.id)},ra,8,oa))])]),Z("div",da,ye(e.groupName),1),Z("div",ca,[Z("div",ua,ye(e.desc),1),Z("div",{class:"attempt_btn dark:bg-[#2960BE] bg-[#3378ED] dark:text-[#FFF] text-[#FFF]",onClick:a=>async function(e){const a=await s.isSession(e);0==a?(await s.addNewChat(e),s.updateGptsStore(!1)):s.setActiveGroup(a),t.selectAppListIndex=1,t.setSelectSiderIndex(t.appListIndex)}(e.id)},"立即使用 ",8,pa)])])])))),128))])]))}}),ga=r(va,[["__scopeId","data-v-dbf7d732"]]),Ca=e=>(G("data-v-b4db933f"),e=e(),U(),e),ha={class:"popular_card"},ma={class:"title"},ka={style:{"margin-right":"10px"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},wa=Ca((()=>Z("path",{d:"M10 18.3333C13.4311 18.3333 16.2499 15.6142 16.2499 12.1242C16.2499 11.2674 16.2064 10.349 15.7315 8.9215C15.2565 7.49408 15.1609 7.30983 14.6587 6.42829C14.4442 8.22725 13.2963 8.977 13.0046 9.20108C13.0046 8.96796 12.3102 6.38996 11.2573 4.84746C10.2237 3.33333 8.81808 2.33996 7.99388 1.66666C7.99388 2.94574 7.63413 4.84746 7.11892 5.81641C6.60371 6.78537 6.50696 6.82066 5.86342 7.54175C5.21992 8.26283 4.92454 8.48554 4.38642 9.36046C3.84832 10.2354 3.75 11.4007 3.75 12.2575C3.75 15.7476 6.56888 18.3333 10 18.3333Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"},null,-1))),xa=Ca((()=>Z("path",{d:"M10.0338 10C8.44846 11.441 7.77275 12.7746 8.00675 14.0011C8.20817 15.0569 9.00925 15.57 9.61267 15.7355C10.0805 15.8638 10.8904 15.9355 11.6141 15.291C12.3807 14.6083 12.0753 13.6377 10.9636 12.437C10.4947 11.9305 10.1848 11.1182 10.0338 10Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"},null,-1))),fa=[wa,xa],Aa=Ca((()=>Z("div",{class:"dark:text-[#F4F4F4] text-[#03060C]"},"受欢迎的",-1))),ya={class:"app_list"},ba=["src"],La={class:"title_card"},Fa={style:{display:"flex","align-items":"center",width:"180px"}},_a={style:{"font-size":"16px","margin-right":"5px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},ja={key:0,class:"title_tag dark:bg-[#1C2F1E] bg-[#EAFAE6] dark:text-[#2ECD06] text-[#2ECD06]"},Ia=["onClick"],Da=Ca((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9016 2.84785C11.2379 2.66173 11.6159 2.56409 12.0002 2.56409C12.3844 2.56409 12.7625 2.66173 13.0987 2.84785C13.4345 3.03375 13.7176 3.30183 13.9216 3.62698L15.8561 6.68835C16.1767 7.1956 16.708 7.53213 17.3036 7.60511L19.4485 7.86792C19.8524 7.91377 20.2363 8.06864 20.559 8.31599C20.8828 8.56414 21.1328 8.89594 21.2817 9.27565C21.4309 9.65535 21.4735 10.0685 21.4051 10.4707C21.3367 10.8728 21.1599 11.2487 20.8935 11.5577L20.8909 11.5607L18.9176 13.824C18.5085 14.2932 18.3412 14.9261 18.4651 15.5362L19.1181 18.753L19.119 18.7582C19.2012 19.1794 19.1613 19.6152 19.0043 20.0146C18.8473 20.4141 18.5796 20.7603 18.2326 21.0128L18.2246 21.0186C17.8749 21.2652 17.4631 21.4086 17.0359 21.4324C16.609 21.456 16.184 21.3594 15.8094 21.1532L12.9603 19.5941C12.3621 19.2667 11.6383 19.2667 11.04 19.5941L8.19165 21.1528C7.81629 21.3594 7.39135 21.456 6.96449 21.4324C6.53731 21.4086 6.12542 21.2652 5.77582 21.0186L5.76771 21.0129C5.42074 20.7603 5.15298 20.4141 4.99597 20.0146C4.83894 19.6152 4.79915 19.1794 4.88129 18.7582L4.8823 18.753L5.53527 15.5362C5.65911 14.9261 5.49181 14.2932 5.08271 13.824L3.10939 11.5607L3.10677 11.5577C2.84051 11.2487 2.66364 10.8728 2.59522 10.4707C2.52681 10.0685 2.56945 9.65535 2.71854 9.27565C2.86764 8.89594 3.11754 8.56414 3.44131 8.31599C3.76403 8.06864 4.14794 7.91377 4.55191 7.86792L6.69671 7.60511C7.2923 7.53214 7.82365 7.19561 8.14419 6.68836L10.078 3.62816C10.2827 3.30183 10.5658 3.03375 10.9016 2.84785Z",fill:"#2960BE",stroke:"#2960BE","stroke-width":"2"},null,-1))),Ma=[Da],Ea=["onClick"],Ba=Ca((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7017 2.84785C12.0379 2.66173 12.4159 2.56409 12.8002 2.56409C13.1845 2.56409 13.5625 2.66173 13.8987 2.84785C14.2345 3.03375 14.5176 3.30183 14.7216 3.62698L16.6561 6.68835C16.9767 7.1956 17.508 7.53213 18.1036 7.60511L20.2485 7.86792C20.6524 7.91377 21.0363 8.06864 21.359 8.31599C21.6828 8.56414 21.9328 8.89594 22.0817 9.27565C22.2309 9.65535 22.2735 10.0685 22.2051 10.4707C22.1367 10.8728 21.9599 11.2487 21.6935 11.5577L21.6909 11.5607L19.7176 13.824C19.3085 14.2932 19.1412 14.9261 19.2651 15.5362L19.9181 18.753L19.919 18.7582C20.0012 19.1794 19.9613 19.6152 19.8043 20.0146C19.6473 20.4141 19.3796 20.7603 19.0326 21.0128L19.0246 21.0186C18.6749 21.2652 18.2631 21.4086 17.8359 21.4324C17.409 21.456 16.984 21.3594 16.6094 21.1532L13.7603 19.5941C13.1621 19.2667 12.4383 19.2667 11.8401 19.5941L8.9917 21.1528C8.61634 21.3594 8.1914 21.456 7.76454 21.4324C7.33736 21.4086 6.92547 21.2652 6.57587 21.0186L6.56776 21.0129C6.22079 20.7603 5.95303 20.4141 5.79602 20.0146C5.63899 19.6152 5.5992 19.1794 5.68134 18.7582L5.68235 18.753L6.33532 15.5362C6.45916 14.9261 6.29186 14.2932 5.88276 13.824L3.90944 11.5607L3.90681 11.5577C3.64056 11.2487 3.46368 10.8728 3.39527 10.4707C3.32686 10.0685 3.3695 9.65535 3.51859 9.27565C3.66769 8.89594 3.91759 8.56414 4.24135 8.31599C4.56408 8.06864 4.94799 7.91377 5.35196 7.86792L7.49676 7.60511C8.09235 7.53214 8.6237 7.19561 8.94424 6.68836L10.878 3.62816C11.0827 3.30183 11.3659 3.03375 11.7017 2.84785Z",stroke:"#484A4D","stroke-width":"2.004"},null,-1))),Va=[Ba],Ha={class:"type dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#484A4D] text-[#A3A5A6]"},Ta={class:"describe"},Sa=["onClick"],Za=D({__name:"Popular",setup(e){const t=i(),s=l(),a=Y(),o=ke([]),n=M((()=>s.collectApps)),r=M((()=>t.selectSiderIndex)),d=M((()=>t.exploreAppIndex));async function c(){const e=await k({type:"popular"});200==e.code&&(o.value=e.data)}async function u(e){const t=await C({appId:e});200==t.code?(s.refreshCollect(),a.success(t.data),c()):a.error(t.data)}return E(r,(e=>{r.value==d.value&&c()}),{immediate:!0}),(e,a)=>(V(),H("div",ha,[Z("div",ma,[Z("div",null,[(V(),H("svg",ka,fa))]),Aa]),Z("div",ya,[(V(!0),H(N,null,R(o.value,(e=>(V(),H("div",{class:"app_item dark:bg-[#1A1D21] bg-[#FFF]",key:e.id},[Z("div",null,[Z("img",{class:"app_avatar",src:e.logo},null,8,ba)]),Z("div",La,[Z("div",Fa,[Z("div",_a,ye(e.modelName),1),1==e.gptsApp?(V(),H("div",ja,"gpts ")):q("",!0)]),Z("div",null,[we(n).includes(e.id)?(V(),H("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",onClick:t=>u(e.id)},Ma,8,Ia)):(V(),H("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",onClick:t=>u(e.id)},Va,8,Ea))])]),Z("div",Ha,ye(e.groupName),1),Z("div",Ta,ye(e.desc),1),Z("div",{class:"attempt_btn dark:bg-[#2960BE] bg-[#3378ED] dark:text-[#FFF] text-[#FFF]",onClick:a=>async function(e){const a=await s.isSession(e);0==a?(await s.addNewChat(e),s.updateGptsStore(!1)):s.setActiveGroup(a),t.selectAppListIndex=1,t.setSelectSiderIndex(t.appListIndex)}(e.id)},"立即使用 ",8,Sa)])))),128))])]))}}),Na=r(Za,[["__scopeId","data-v-b4db933f"]]),Ra=e=>(G("data-v-6dd78df2"),e=e(),U(),e),Ga={class:"publish_card"},Ua={class:"title"},qa={style:{"margin-right":"10px"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},za=Ra((()=>Z("path",{d:"M9.82714 8.05087C9.90429 7.91841 10.0956 7.91841 10.1728 8.05087L11.2755 9.94417C11.3038 9.99269 11.3512 10.0271 11.406 10.039L13.5474 10.5027C13.6972 10.5351 13.7564 10.7171 13.6542 10.8314L12.1944 12.4653C12.157 12.5071 12.1389 12.5628 12.1445 12.6187L12.3652 14.7986C12.3807 14.9511 12.2259 15.0635 12.0856 15.0017L10.0806 14.1182C10.0292 14.0956 9.97069 14.0956 9.91931 14.1182L7.91431 15.0017C7.77404 15.0635 7.61924 14.9511 7.63468 14.7986L7.85539 12.6187C7.86105 12.5628 7.84296 12.5071 7.80555 12.4653L6.34568 10.8314C6.24354 10.7171 6.30267 10.5351 6.45249 10.5027L8.59389 10.039C8.64877 10.0271 8.69613 9.99269 8.72439 9.94417L9.82714 8.05087Z",stroke:"#A3A5A6","stroke-width":"1.67"},null,-1))),Pa=Ra((()=>Z("path",{d:"M7.94165 5.32599H11.8532",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round"},null,-1))),Oa=Ra((()=>Z("rect",{x:"2.18396",y:"2.17487",width:"15.5754",height:"15.6125",rx:"4",stroke:"#A3A5A6","stroke-width":"1.67"},null,-1))),$a=[za,Pa,Oa],Xa=Ra((()=>Z("div",{class:"dark:text-[#F4F4F4] text-[#03060C]"},"最新发布",-1))),Qa={class:"app_list"},Ja={style:{display:"flex"}},Ya=["src"],Ka={style:{width:"100%"}},Wa={style:{display:"flex","align-items":"center","justify-content":"space-between"}},el={style:{"font-size":"16px","margin-right":"5px"}},tl=["onClick"],sl=[Ra((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9016 2.84785C11.2379 2.66173 11.6159 2.56409 12.0002 2.56409C12.3844 2.56409 12.7625 2.66173 13.0987 2.84785C13.4345 3.03375 13.7176 3.30183 13.9216 3.62698L15.8561 6.68835C16.1767 7.1956 16.708 7.53213 17.3036 7.60511L19.4485 7.86792C19.8524 7.91377 20.2363 8.06864 20.559 8.31599C20.8828 8.56414 21.1328 8.89594 21.2817 9.27565C21.4309 9.65535 21.4735 10.0685 21.4051 10.4707C21.3367 10.8728 21.1599 11.2487 20.8935 11.5577L20.8909 11.5607L18.9176 13.824C18.5085 14.2932 18.3412 14.9261 18.4651 15.5362L19.1181 18.753L19.119 18.7582C19.2012 19.1794 19.1613 19.6152 19.0043 20.0146C18.8473 20.4141 18.5796 20.7603 18.2326 21.0128L18.2246 21.0186C17.8749 21.2652 17.4631 21.4086 17.0359 21.4324C16.609 21.456 16.184 21.3594 15.8094 21.1532L12.9603 19.5941C12.3621 19.2667 11.6383 19.2667 11.04 19.5941L8.19165 21.1528C7.81629 21.3594 7.39135 21.456 6.96449 21.4324C6.53731 21.4086 6.12542 21.2652 5.77582 21.0186L5.76771 21.0129C5.42074 20.7603 5.15298 20.4141 4.99597 20.0146C4.83894 19.6152 4.79915 19.1794 4.88129 18.7582L4.8823 18.753L5.53527 15.5362C5.65911 14.9261 5.49181 14.2932 5.08271 13.824L3.10939 11.5607L3.10677 11.5577C2.84051 11.2487 2.66364 10.8728 2.59522 10.4707C2.52681 10.0685 2.56945 9.65535 2.71854 9.27565C2.86764 8.89594 3.11754 8.56414 3.44131 8.31599C3.76403 8.06864 4.14794 7.91377 4.55191 7.86792L6.69671 7.60511C7.2923 7.53214 7.82365 7.19561 8.14419 6.68836L10.078 3.62816C10.2827 3.30183 10.5658 3.03375 10.9016 2.84785Z",fill:"#2960BE",stroke:"#2960BE","stroke-width":"2"},null,-1)))],al=["onClick"],ll=[Ra((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7017 2.84785C12.0379 2.66173 12.4159 2.56409 12.8002 2.56409C13.1845 2.56409 13.5625 2.66173 13.8987 2.84785C14.2345 3.03375 14.5176 3.30183 14.7216 3.62698L16.6561 6.68835C16.9767 7.1956 17.508 7.53213 18.1036 7.60511L20.2485 7.86792C20.6524 7.91377 21.0363 8.06864 21.359 8.31599C21.6828 8.56414 21.9328 8.89594 22.0817 9.27565C22.2309 9.65535 22.2735 10.0685 22.2051 10.4707C22.1367 10.8728 21.9599 11.2487 21.6935 11.5577L21.6909 11.5607L19.7176 13.824C19.3085 14.2932 19.1412 14.9261 19.2651 15.5362L19.9181 18.753L19.919 18.7582C20.0012 19.1794 19.9613 19.6152 19.8043 20.0146C19.6473 20.4141 19.3796 20.7603 19.0326 21.0128L19.0246 21.0186C18.6749 21.2652 18.2631 21.4086 17.8359 21.4324C17.409 21.456 16.984 21.3594 16.6094 21.1532L13.7603 19.5941C13.1621 19.2667 12.4383 19.2667 11.8401 19.5941L8.9917 21.1528C8.61634 21.3594 8.1914 21.456 7.76454 21.4324C7.33736 21.4086 6.92547 21.2652 6.57587 21.0186L6.56776 21.0129C6.22079 20.7603 5.95303 20.4141 5.79602 20.0146C5.63899 19.6152 5.5992 19.1794 5.68134 18.7582L5.68235 18.753L6.33532 15.5362C6.45916 14.9261 6.29186 14.2932 5.88276 13.824L3.90944 11.5607L3.90681 11.5577C3.64056 11.2487 3.46368 10.8728 3.39527 10.4707C3.32686 10.0685 3.3695 9.65535 3.51859 9.27565C3.66769 8.89594 3.91759 8.56414 4.24135 8.31599C4.56408 8.06864 4.94799 7.91377 5.35196 7.86792L7.49676 7.60511C8.09235 7.53214 8.6237 7.19561 8.94424 6.68836L10.878 3.62816C11.0827 3.30183 11.3659 3.03375 11.7017 2.84785Z",stroke:"#484A4D","stroke-width":"2.004"},null,-1)))],il={style:{display:"flex","align-items":"center","justify-content":"space-between"}},ol={class:"type dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#484A4D] text-[#A3A5A6]"},nl={key:0,class:"title_tag dark:bg-[#1C2F1E] bg-[#EAFAE6] dark:text-[#2ECD06] text-[#2ECD06]"},rl={class:"describe"},dl=["onClick"],cl=r(D({__name:"Publish",setup(e){const t=i(),s=l(),a=Y(),o=ke([]),n=M((()=>s.collectApps)),r=M((()=>t.selectSiderIndex)),d=M((()=>t.exploreAppIndex));async function c(){const e=await k({type:"latest"});200==e.code&&(o.value=e.data)}async function u(e){const t=await C({appId:e});200==t.code?(s.refreshCollect(),a.success(t.data),c()):a.error(t.data)}return E(r,(e=>{r.value==d.value&&c()}),{immediate:!0}),(e,a)=>(V(),H("div",Ga,[Z("div",Ua,[Z("div",null,[(V(),H("svg",qa,$a))]),Xa]),Z("div",Qa,[(V(!0),H(N,null,R(o.value,(e=>(V(),H("div",{class:"app_item dark:bg-[#1A1D21] bg-[#FFF]",key:e.id},[Z("div",Ja,[Z("div",null,[Z("img",{class:"app_avatar",src:e.logo},null,8,Ya)]),Z("div",Ka,[Z("div",Wa,[Z("div",el,ye(e.modelName),1),we(n).includes(e.id)?(V(),H("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",onClick:t=>u(e.id)},sl,8,tl)):(V(),H("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",onClick:t=>u(e.id)},ll,8,al))]),Z("div",il,[Z("div",ol,ye(e.groupName),1),1==e.gptsApp?(V(),H("div",nl,"gpts")):q("",!0)])])]),Z("div",rl,ye(e.desc),1),Z("div",{class:"attempt_btn dark:bg-[#2960BE] bg-[#3378ED] dark:text-[#FFF] text-[#FFF]",onClick:a=>async function(e){const a=await s.isSession(e);0==a?(await s.addNewChat(e),s.updateGptsStore(!1)):s.setActiveGroup(a),t.selectAppListIndex=1,t.setSelectSiderIndex(t.appListIndex)}(e.id)},"立即使用 ",8,dl)])))),128))])]))}}),[["__scopeId","data-v-6dd78df2"]]),ul=e=>(G("data-v-b4f0cc62"),e=e(),U(),e),pl={class:"ranking_card"},vl={class:"title"},gl={style:{"margin-right":"10px"},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},Cl=[ul((()=>Z("path",{d:"M7.08335 7.5H3.66669C2.56212 7.5 1.66669 8.39543 1.66669 9.5V17.5H7.08335V7.5Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),ul((()=>Z("path",{d:"M12.5 4.5C12.5 3.39543 11.6045 2.5 10.5 2.5H9.08331C7.97874 2.5 7.08331 3.39543 7.08331 4.5V17.5H12.5V4.5Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"},null,-1))),ul((()=>Z("path",{d:"M17.9167 12.8333C17.9167 11.7287 17.0212 10.8333 15.9167 10.8333H12.5V17.5H17.9167V12.8333Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)))],hl=ul((()=>Z("div",{class:"dark:text-[#F4F4F4] text-[#03060C]"},"应用排行",-1))),ml={class:"ranking_list"},kl={class:"hot_list"},wl={style:{width:"100%"}},xl={style:{display:"flex"}},fl=["src"],Al={style:{width:"100%"}},yl={style:{width:"100%",display:"flex","align-items":"center","justify-content":"space-between"}},bl={style:{display:"flex","align-items":"center"}},Ll={style:{"font-size":"16px","margin-right":"5px"}},Fl={key:0,class:"title_tag dark:bg-[#1C2F1E] bg-[#EAFAE6] dark:text-[#2ECD06] text-[#2ECD06]"},_l={style:{display:"flex","align-items":"center"}},jl=["onClick"],Il=[ul((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9016 2.84785C11.2379 2.66173 11.6159 2.56409 12.0002 2.56409C12.3844 2.56409 12.7625 2.66173 13.0987 2.84785C13.4345 3.03375 13.7176 3.30183 13.9216 3.62698L15.8561 6.68835C16.1767 7.1956 16.708 7.53213 17.3036 7.60511L19.4485 7.86792C19.8524 7.91377 20.2363 8.06864 20.559 8.31599C20.8828 8.56414 21.1328 8.89594 21.2817 9.27565C21.4309 9.65535 21.4735 10.0685 21.4051 10.4707C21.3367 10.8728 21.1599 11.2487 20.8935 11.5577L20.8909 11.5607L18.9176 13.824C18.5085 14.2932 18.3412 14.9261 18.4651 15.5362L19.1181 18.753L19.119 18.7582C19.2012 19.1794 19.1613 19.6152 19.0043 20.0146C18.8473 20.4141 18.5796 20.7603 18.2326 21.0128L18.2246 21.0186C17.8749 21.2652 17.4631 21.4086 17.0359 21.4324C16.609 21.456 16.184 21.3594 15.8094 21.1532L12.9603 19.5941C12.3621 19.2667 11.6383 19.2667 11.04 19.5941L8.19165 21.1528C7.81629 21.3594 7.39135 21.456 6.96449 21.4324C6.53731 21.4086 6.12542 21.2652 5.77582 21.0186L5.76771 21.0129C5.42074 20.7603 5.15298 20.4141 4.99597 20.0146C4.83894 19.6152 4.79915 19.1794 4.88129 18.7582L4.8823 18.753L5.53527 15.5362C5.65911 14.9261 5.49181 14.2932 5.08271 13.824L3.10939 11.5607L3.10677 11.5577C2.84051 11.2487 2.66364 10.8728 2.59522 10.4707C2.52681 10.0685 2.56945 9.65535 2.71854 9.27565C2.86764 8.89594 3.11754 8.56414 3.44131 8.31599C3.76403 8.06864 4.14794 7.91377 4.55191 7.86792L6.69671 7.60511C7.2923 7.53214 7.82365 7.19561 8.14419 6.68836L10.078 3.62816C10.2827 3.30183 10.5658 3.03375 10.9016 2.84785Z",fill:"#2960BE",stroke:"#2960BE","stroke-width":"2"},null,-1)))],Dl=["onClick"],Ml=[ul((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7017 2.84785C12.0379 2.66173 12.4159 2.56409 12.8002 2.56409C13.1845 2.56409 13.5625 2.66173 13.8987 2.84785C14.2345 3.03375 14.5176 3.30183 14.7216 3.62698L16.6561 6.68835C16.9767 7.1956 17.508 7.53213 18.1036 7.60511L20.2485 7.86792C20.6524 7.91377 21.0363 8.06864 21.359 8.31599C21.6828 8.56414 21.9328 8.89594 22.0817 9.27565C22.2309 9.65535 22.2735 10.0685 22.2051 10.4707C22.1367 10.8728 21.9599 11.2487 21.6935 11.5577L21.6909 11.5607L19.7176 13.824C19.3085 14.2932 19.1412 14.9261 19.2651 15.5362L19.9181 18.753L19.919 18.7582C20.0012 19.1794 19.9613 19.6152 19.8043 20.0146C19.6473 20.4141 19.3796 20.7603 19.0326 21.0128L19.0246 21.0186C18.6749 21.2652 18.2631 21.4086 17.8359 21.4324C17.409 21.456 16.984 21.3594 16.6094 21.1532L13.7603 19.5941C13.1621 19.2667 12.4383 19.2667 11.8401 19.5941L8.9917 21.1528C8.61634 21.3594 8.1914 21.456 7.76454 21.4324C7.33736 21.4086 6.92547 21.2652 6.57587 21.0186L6.56776 21.0129C6.22079 20.7603 5.95303 20.4141 5.79602 20.0146C5.63899 19.6152 5.5992 19.1794 5.68134 18.7582L5.68235 18.753L6.33532 15.5362C6.45916 14.9261 6.29186 14.2932 5.88276 13.824L3.90944 11.5607L3.90681 11.5577C3.64056 11.2487 3.46368 10.8728 3.39527 10.4707C3.32686 10.0685 3.3695 9.65535 3.51859 9.27565C3.66769 8.89594 3.91759 8.56414 4.24135 8.31599C4.56408 8.06864 4.94799 7.91377 5.35196 7.86792L7.49676 7.60511C8.09235 7.53214 8.6237 7.19561 8.94424 6.68836L10.878 3.62816C11.0827 3.30183 11.3659 3.03375 11.7017 2.84785Z",stroke:"#484A4D","stroke-width":"2.004"},null,-1)))],El=["onClick"],Bl={class:"type dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#484A4D] text-[#A3A5A6]"},Vl={class:"describe"},Hl=r(D({__name:"Ranking",setup(e){const t=i(),s=l(),a=Y(),o=ke([]),n=M((()=>s.collectApps)),r=M((()=>t.selectSiderIndex)),d=M((()=>t.exploreAppIndex));async function c(){const e=await k({type:"latest"});200==e.code&&(o.value=e.data)}async function u(e){const t=await C({appId:e});200==t.code?(s.refreshCollect(),a.success(t.data),c()):a.error(t.data)}return E(r,(e=>{r.value==d.value&&c()}),{immediate:!0}),(e,a)=>(V(),H("div",pl,[Z("div",vl,[Z("div",null,[(V(),H("svg",gl,Cl))]),hl]),Z("div",ml,[Z("div",kl,[(V(!0),H(N,null,R(o.value,(e=>(V(),H("div",{class:"hot_item dark:bg-[#1A1D21] bg-[#FFF]",key:e.id},[Z("div",wl,[Z("div",xl,[Z("div",null,[Z("img",{class:"app_avatar",src:e.logo},null,8,fl)]),Z("div",Al,[Z("div",yl,[Z("div",bl,[Z("div",Ll,ye(e.modelName),1),1==e.gptsApp?(V(),H("div",Fl,"gpts")):q("",!0)]),Z("div",_l,[we(n).includes(e.id)?(V(),H("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",onClick:t=>u(e.id)},Il,8,jl)):(V(),H("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",onClick:t=>u(e.id)},Ml,8,Dl)),Z("div",{class:"attempt_btn dark:bg-[#2960BE] bg-[#3378ED] dark:text-[#FFF] text-[#FFF]",onClick:a=>async function(e){const a=await s.isSession(e);0==a?(await s.addNewChat(e),s.updateGptsStore(!1)):s.setActiveGroup(a),t.selectAppListIndex=1,t.setSelectSiderIndex(t.appListIndex)}(e.id)},"立即使用",8,El)])]),Z("div",Bl,ye(e.groupName),1)])]),Z("div",Vl,ye(e.desc),1)])])))),128))])])]))}}),[["__scopeId","data-v-b4f0cc62"]]),Tl=e=>(G("data-v-7618b54c"),e=e(),U(),e),Sl={class:"app_list"},Zl={style:{display:"flex"}},Nl=["src"],Rl={style:{width:"100%"}},Gl={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ul={style:{"font-size":"16px","margin-right":"5px","white-space":"nowrap",width:"8em",overflow:"hidden","text-overflow":"ellipsis"}},ql=["onClick"],zl=[Tl((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9016 2.84785C11.2379 2.66173 11.6159 2.56409 12.0002 2.56409C12.3844 2.56409 12.7625 2.66173 13.0987 2.84785C13.4345 3.03375 13.7176 3.30183 13.9216 3.62698L15.8561 6.68835C16.1767 7.1956 16.708 7.53213 17.3036 7.60511L19.4485 7.86792C19.8524 7.91377 20.2363 8.06864 20.559 8.31599C20.8828 8.56414 21.1328 8.89594 21.2817 9.27565C21.4309 9.65535 21.4735 10.0685 21.4051 10.4707C21.3367 10.8728 21.1599 11.2487 20.8935 11.5577L20.8909 11.5607L18.9176 13.824C18.5085 14.2932 18.3412 14.9261 18.4651 15.5362L19.1181 18.753L19.119 18.7582C19.2012 19.1794 19.1613 19.6152 19.0043 20.0146C18.8473 20.4141 18.5796 20.7603 18.2326 21.0128L18.2246 21.0186C17.8749 21.2652 17.4631 21.4086 17.0359 21.4324C16.609 21.456 16.184 21.3594 15.8094 21.1532L12.9603 19.5941C12.3621 19.2667 11.6383 19.2667 11.04 19.5941L8.19165 21.1528C7.81629 21.3594 7.39135 21.456 6.96449 21.4324C6.53731 21.4086 6.12542 21.2652 5.77582 21.0186L5.76771 21.0129C5.42074 20.7603 5.15298 20.4141 4.99597 20.0146C4.83894 19.6152 4.79915 19.1794 4.88129 18.7582L4.8823 18.753L5.53527 15.5362C5.65911 14.9261 5.49181 14.2932 5.08271 13.824L3.10939 11.5607L3.10677 11.5577C2.84051 11.2487 2.66364 10.8728 2.59522 10.4707C2.52681 10.0685 2.56945 9.65535 2.71854 9.27565C2.86764 8.89594 3.11754 8.56414 3.44131 8.31599C3.76403 8.06864 4.14794 7.91377 4.55191 7.86792L6.69671 7.60511C7.2923 7.53214 7.82365 7.19561 8.14419 6.68836L10.078 3.62816C10.2827 3.30183 10.5658 3.03375 10.9016 2.84785Z",fill:"#2960BE",stroke:"#2960BE","stroke-width":"2"},null,-1)))],Pl=["onClick"],Ol=[Tl((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7017 2.84785C12.0379 2.66173 12.4159 2.56409 12.8002 2.56409C13.1845 2.56409 13.5625 2.66173 13.8987 2.84785C14.2345 3.03375 14.5176 3.30183 14.7216 3.62698L16.6561 6.68835C16.9767 7.1956 17.508 7.53213 18.1036 7.60511L20.2485 7.86792C20.6524 7.91377 21.0363 8.06864 21.359 8.31599C21.6828 8.56414 21.9328 8.89594 22.0817 9.27565C22.2309 9.65535 22.2735 10.0685 22.2051 10.4707C22.1367 10.8728 21.9599 11.2487 21.6935 11.5577L21.6909 11.5607L19.7176 13.824C19.3085 14.2932 19.1412 14.9261 19.2651 15.5362L19.9181 18.753L19.919 18.7582C20.0012 19.1794 19.9613 19.6152 19.8043 20.0146C19.6473 20.4141 19.3796 20.7603 19.0326 21.0128L19.0246 21.0186C18.6749 21.2652 18.2631 21.4086 17.8359 21.4324C17.409 21.456 16.984 21.3594 16.6094 21.1532L13.7603 19.5941C13.1621 19.2667 12.4383 19.2667 11.8401 19.5941L8.9917 21.1528C8.61634 21.3594 8.1914 21.456 7.76454 21.4324C7.33736 21.4086 6.92547 21.2652 6.57587 21.0186L6.56776 21.0129C6.22079 20.7603 5.95303 20.4141 5.79602 20.0146C5.63899 19.6152 5.5992 19.1794 5.68134 18.7582L5.68235 18.753L6.33532 15.5362C6.45916 14.9261 6.29186 14.2932 5.88276 13.824L3.90944 11.5607L3.90681 11.5577C3.64056 11.2487 3.46368 10.8728 3.39527 10.4707C3.32686 10.0685 3.3695 9.65535 3.51859 9.27565C3.66769 8.89594 3.91759 8.56414 4.24135 8.31599C4.56408 8.06864 4.94799 7.91377 5.35196 7.86792L7.49676 7.60511C8.09235 7.53214 8.6237 7.19561 8.94424 6.68836L10.878 3.62816C11.0827 3.30183 11.3659 3.03375 11.7017 2.84785Z",stroke:"#484A4D","stroke-width":"2.004"},null,-1)))],$l={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Xl={class:"type dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#484A4D] text-[#A3A5A6]"},Ql={key:0,class:"title_tag dark:bg-[#1C2F1E] bg-[#EAFAE6] dark:text-[#2ECD06] text-[#2ECD06]"},Jl={class:"describe"},Yl=["onClick"],Kl=r(D({__name:"AppList",emits:["update","delete","sticky","select"],setup(e,{emit:t}){const s=Y(),a=i(),o=l(),n=M((()=>a.selectSiderIndex)),r=M((()=>a.AppAllIndex));M((()=>a.appListIndex));const d=ke([]);async function c(){if(n.value==r.value){const e=await m({page:0,size:0,modelName:0,modelId:"",groupId:0});200==e.code&&(d.value=e.data.rows)}else{const e=await m({page:0,size:0,modelName:0,modelId:"",groupId:n.value});200==e.code&&(d.value=e.data.rows)}}async function u(e){const t=await C({appId:e});200==t.code?(s.success(t.data),c()):s.error(t.data)}return E(n,(e=>{c()}),{immediate:!0}),(e,t)=>(V(),H("div",Sl,[(V(!0),H(N,null,R(d.value,(e=>(V(),H("div",{class:"app_item dark:bg-[#1A1D21] bg-[#FFF]",key:e.id},[Z("div",Zl,[Z("div",null,[Z("img",{class:"app_avatar",src:e.logo},null,8,Nl)]),Z("div",Rl,[Z("div",Gl,[Z("div",Ul,ye(e.modelName),1),1==e.collected?(V(),H("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",onClick:t=>u(e.id)},zl,8,ql)):(V(),H("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 25 24",fill:"none",onClick:t=>u(e.id)},Ol,8,Pl))]),Z("div",$l,[Z("div",Xl,ye(e.groupName),1),1==e.gptsApp?(V(),H("div",Ql,"gpts")):q("",!0)])])]),Z("div",Jl,ye(e.desc),1),Z("div",{class:"attempt_btn dark:bg-[#2960BE] bg-[#3378ED] dark:text-[#FFF] text-[#FFF]",onClick:t=>async function(e){const t=await o.isSession(e);0==t?(await o.addNewChat(e),o.updateGptsStore(!1)):o.setActiveGroup(t),a.selectAppListIndex=1,a.setSelectSiderIndex(a.appListIndex)}(e.id)},"立即使用 ",8,Yl)])))),128))]))}}),[["__scopeId","data-v-7618b54c"]]),Wl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAErSURBVHgBhVLBTcNAENzxRYIf0IE7IFSQ5INsSBDpIKmApAJKSAkpIX5YssXLdEA6cAl+gYWIh707jpDwyD0s787s7O3sQY5OkoyHEsnQBZ1UZZlXf3EcErEWsqbIFpBGKAMBYuk4D4VRIDPCxgFFPgIlc+r635FLGmycYCiwyhG9Snr/sNK+z6q8TtPJ6qXIM+w4dd0t1VVS6kIBmyC5aD960/bM3BCysDl3Hb2q5UZuQPA1zNK+m6uqyprzz68nLX77HRaytdyeV5XLAFhycjeZadcZaEYhr0Y0fgYdDoLrA2871hAuyzKrZV8xsNzox644uODaG/T1G4f4Nh0/2thyvUvqENRWD2i4MxlgqmA5/H7m/xcHZ11tTSBxoWDfdhfuFwc5Oqeexjd7Iph/UCsDnwAAAABJRU5ErkJggg==",ei=e=>(G("data-v-12f731e8"),e=e(),U(),e),ti={class:"add_app_Dialog"},si={class:"title"},ai=ei((()=>Z("div",{style:{display:"flex","align-items":"center"}},[Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M6.7791 2.09329H3.73258C2.81211 2.09329 2.06592 2.83948 2.06592 3.75996V6.80648C2.06592 7.72695 2.81211 8.47314 3.73258 8.47314H6.7791C7.69958 8.47314 8.44577 7.72695 8.44577 6.80648V3.75996C8.44577 2.83948 7.69958 2.09329 6.7791 2.09329Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M6.7791 11.3871H3.73258C2.81211 11.3871 2.06592 12.1333 2.06592 13.0538V16.1003C2.06592 17.0207 2.81211 17.7669 3.73258 17.7669H6.7791C7.69958 17.7669 8.44577 17.0207 8.44577 16.1003V13.0538C8.44577 12.1333 7.69958 11.3871 6.7791 11.3871Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M16.1255 2.09329H13.079C12.1585 2.09329 11.4124 2.83948 11.4124 3.75996V6.80648C11.4124 7.72695 12.1585 8.47314 13.079 8.47314H16.1255C17.046 8.47314 17.7922 7.72695 17.7922 6.80648V3.75996C17.7922 2.83948 17.046 2.09329 16.1255 2.09329Z",stroke:"#3378ED","stroke-width":"1.67"}),Z("path",{d:"M14.6023 11.7558V17.3982",stroke:"#3378ED","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M17.4236 14.577L11.7812 14.577",stroke:"#3378ED","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})]),Z("div",{style:{"margin-left":"10px","font-size":"15px"}},"新增应用")],-1))),li=[ei((()=>Z("path",{d:"M5.83301 5.83334L14.1663 14.1667",stroke:"#A3A5A6","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),ei((()=>Z("path",{d:"M5.83301 14.1667L14.1663 5.83334",stroke:"#A3A5A6","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)))],ii={class:"add_main"},oi={class:"item_form"},ni={class:"item_form"},ri=["src"],di={class:"item_form"},ci={class:"switch_list"},ui={class:"switch_item"},pi=ei((()=>Z("div",null,"是否绘画",-1))),vi=ei((()=>Z("img",{src:Wl},null,-1))),gi={class:"switch_item"},Ci=ei((()=>Z("div",null,"启用上传",-1))),hi=ei((()=>Z("img",{src:Wl},null,-1))),mi={class:"switch_item"},ki=ei((()=>Z("div",null,"启用语音",-1))),wi=ei((()=>Z("img",{src:Wl},null,-1))),xi={class:"botton_card"},fi=r(D({__name:"CreateAppDialog",setup(e){const t=i();ke(!1);const s=M((()=>t.createAppDialog)),a=ke([{label:"Drive My Car",value:"song1"},{label:"Norwegian Wood",value:"song2"}]),l=ke([{label:"是",value:"true"},{label:"否",value:"false"}]),o=ke({sortId:"",desc:"",logo:"",demoData:"",gptsApp:!1,modelId:"",isDraw:!0,canUpload:!0,canAudio:!0}),n={};function r(e){o.value.sortId=e}function d(e){o.value.gptsApp=e}return(e,i)=>{const c=X("NModel"),u=X("NBotton");return V(),z(we(de),{show:we(s),style:{width:"55%","border-radius":"12px"},"mask-closable":!1,class:"dark:bg-[#1A1D21] bg-[#FFF]"},{default:S((()=>[Z("div",ti,[Z("div",si,[ai,Z("div",null,[(V(),H("svg",{onClick:i[0]||(i[0]=e=>we(t).updateCreateAppDialog(!1)),xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},li))])]),Z("div",ii,[T(we(le),{model:o.value,rules:n,ref:"createFormRef","label-placement":"left","label-width":"auto"},{default:S((()=>[Z("div",oi,[T(we(ie),{label:"所属分类"},{default:S((()=>[T(we(oe),{options:a.value,"on-update:value":r},null,8,["options"])])),_:1}),T(we(ie),{label:"应用描述"},{default:S((()=>[T(we(ae),{value:o.value.desc,"onUpdate:value":i[1]||(i[1]=e=>o.value.desc=e),tabindex:"1",placeholder:"请输入应用的描述"},null,8,["value"])])),_:1})]),Z("div",ni,[T(we(ie),{label:"应用Logo"},{default:S((()=>[T(we(ne),{action:"https://www.mocky.io/v2/5e4bafc63100007100d8b70f","default-file-list":e.previewFileList,"list-type":"image-card",onPreview:e.handlePreview},null,8,["default-file-list","onPreview"]),T(c,{show:e.showModal,"onUpdate:show":i[2]||(i[2]=t=>e.showModal=t),preset:"card",style:{width:"600px"},title:"一张很酷的图片"},{default:S((()=>[Z("img",{src:o.value.logo,style:{width:"100%"}},null,8,ri)])),_:1},8,["show"])])),_:1}),T(we(ie),{label:"实列内容"},{default:S((()=>[T(we(ae),{type:"textarea",value:o.value.demoData,"onUpdate:value":i[3]||(i[3]=e=>o.value.demoData=e),tabindex:"1",placeholder:"请填写应用的demo示例数据、每换行一次表示一个新的示例..."},null,8,["value"])])),_:1})]),Z("div",di,[T(we(ie),{label:"是否GPTS应用"},{default:S((()=>[T(we(oe),{options:l.value,"on-update:value":d},null,8,["options"])])),_:1}),T(we(ie),{label:"GPTS模型ID"},{default:S((()=>[T(we(ae),{value:o.value.modelId,"onUpdate:value":i[4]||(i[4]=e=>o.value.modelId=e),tabindex:"1",placeholder:"请填写GPTS模型ID号(官网创建后产生的ID)"},null,8,["value"])])),_:1})])])),_:1},8,["model"]),Z("div",ci,[Z("div",ui,[pi,Z("div",null,[T(we(re),{value:o.value.isDraw,"onUpdate:value":i[5]||(i[5]=e=>o.value.isDraw=e)},null,8,["value"])]),vi]),Z("div",gi,[Ci,Z("div",null,[T(we(re),{value:o.value.canUpload,"onUpdate:value":i[6]||(i[6]=e=>o.value.canUpload=e)},null,8,["value"])]),hi]),Z("div",mi,[ki,Z("div",null,[T(we(re),{value:o.value.canAudio,"onUpdate:value":i[7]||(i[7]=e=>o.value.canAudio=e)},null,8,["value"])]),wi])]),Z("div",xi,[T(u,{class:"cancel dark:bg-[#15171A] bg-[#F4F4F4] bark:text-[#F4F4F4] text-[#03060C]"},{default:S((()=>[Q("取消")])),_:1}),T(u,{class:"confirm dark:bg-[#484A4D] bg-[#D1D2D3] bark:text-[#A3A5A6] text-[#A3A5A6]"},{default:S((()=>[Q("确认新增")])),_:1})])])])])),_:1},8,["show"])}}}),[["__scopeId","data-v-12f731e8"]]),Ai=e=>(G("data-v-1313d293"),e=e(),U(),e),yi={class:"py-3 px-5 rounded dark:bg-[#2D2D4F] bg-white"},bi=Ai((()=>Z("div",{class:"flex font-bold mb-[20px] bg-currentflex items-center"},[Z("span",{class:"text-lg text-[#808080] dark:text-[#fff]"},"切换聊天模型")],-1))),Li={class:"model_list"},Fi=["onClick"],_i={class:"model_name text-[#808080] dark:text-[#fff]"},ji={style:{display:"flex",width:"70%"}},Ii={key:0,class:"model_name_img",src:A},Di={key:1,class:"model_name_img",src:y},Mi={class:"text-[#808080] dark:text-[#fff]",style:{"font-size":"15px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},Ei={style:{display:"flex","align-items":"center","font-size":"12px","white-space":"nowrap"}},Bi=Ai((()=>Z("div",null,[Z("img",{style:{"margin-right":"3px","margin-bottom":"3px","min-height":"14px","min-width":"14px"},src:b})],-1))),Vi=Ai((()=>Z("div",{class:"model_desc text-[#808080] dark:text-[#A1A1A1]",style:{"font-size":"12px"}}," 使用最多的模型，能够进行广泛领域的自然对话和问题解答开通会员 无限使用 ",-1))),Hi={class:"mt-5 bg-[#fafbfc] px-2 py-2 dark:bg-[#2D2D4F]"},Ti=Ai((()=>Z("div",{class:"dark:text-[#EEEEEE] text-[#808080]"},[Q(" 高级配置 "),Z("span",{class:"text-xs text-neutral-500"},"（不了解不需要修改）")],-1))),Si=["onClick"],Zi={class:"mt-2"},Ni={class:"w-full flex justify-between"},Ri=Ai((()=>Z("span",{class:"w-[150px]"},"话题随机性",-1))),Gi={class:"flex w-[200px] items-center"},Ui={class:"w-[55px] text-right"},qi=Ai((()=>Z("div",{style:{color:"#AFAFAF"},class:"mt-2 text-xs text-slate-500 dark:text-slate-400"}," 较高的数值会使同问题每次输出的结果更随机 ",-1))),zi={class:"mt-4"},Pi={class:"w-full flex justify-between"},Oi=Ai((()=>Z("span",{class:"w-[150px]"},"回复Token数",-1))),$i={class:"flex w-[200px] items-center"},Xi={class:"w-[55px] text-right"},Qi=Ai((()=>Z("div",{style:{color:"#AFAFAF"},class:"mt-2 text-xs text-slate-500 dark:text-slate-400"},"单条回复数，但也会消耗更多的额度 ",-1))),Ji={class:"mt-4"},Yi={class:"w-full flex justify-between"},Ki=Ai((()=>Z("span",{class:"w-[150px]"},"关联上下文数量",-1))),Wi={class:"flex w-[200px] items-center"},eo={class:"w-[55px] text-right"},to=Ai((()=>Z("div",{style:{color:"#AFAFAF"},class:"mt-2 text-xs text-slate-500 dark:text-slate-400"},"单条回复数，但也会消耗更多的额度 ",-1))),so={class:"mt-4 flex items-center justify-end space-x-4"},ao=r(D({__name:"modelDialog",setup(e,{expose:t}){const o=Y(),n=s();i();const r=l(),d=ke(!1),c=a(),u=M((()=>c.theme)),p=M((()=>r.activeConfig)),v=M((()=>r.active)),g=M((()=>n.appModelDialog));M((()=>{var e,t;return 1!==Number(null==(t=null==(e=p.value)?void 0:e.modelTypeInfo)?void 0:t.val)||Number(v.value)>0}));const C=M((()=>1===Number(r.activeModelKeyType)?1.2:1)),h=M((()=>r.active));E(p,(e=>{e&&U(e)}));const m=ke(0),k=ke(0),A=ke(.8),y=ke(""),b=ke(""),L=ke(),F=ke(8),_=ke(""),j=Y(),I=ke(!1);let D=ke({}),G=ke([]);function U(e){const{modelInfo:t,modelTypeInfo:s}=e;t&&s&&(m.value=t.maxModelTokens,k.value=t.maxResponseTokens,A.value=t.topN,b.value=t.systemMessage,y.value=`${s.val}----${t.model}`,L.value=t.maxRounds,F.value=t.rounds>t.maxRounds?t.maxRounds:t.rounds)}B((()=>{O(),null!=p.value&&(_.value=p.value.modelInfo.modelName)}));const P=M((()=>{const e=v.value?G.filter((e=>1===Number(e.val))):G,t=[];return e.forEach((e=>{const{val:s}=e;D[s].forEach((e=>{const{model:a,modelName:l}=e;t.push({label:l,deduct:e.deduct,deductType:e.deductType,value:`${s}----${a}`})}))})),t}));async function O(){try{const e=await w();if(!e.success)return;const{modelMaps:t,modelTypeList:s}=e.data;let a={};if(t)for(let l in t)a[l]=t[l].filter(((e,s)=>t[l].findIndex((t=>t.model===e.model))===s));D=a,G=s}catch(e){console.log("error: ",e)}}function $(){O()}async function X(){U(r.baseConfig)}function J(e){I.value=e.includes("1")}function K(e){return G.find((t=>t.val===e))}async function W(){var e;if(!p.value||x(p.value))return void o.warning("当前未选中对话，请选中任意一个对话组后重试！");const[t,s]=y.value.split("----"),{maxModelTokens:a}=null==(e=p.value)?void 0:e.modelInfo,l=function(e,t){return D[e].find((e=>e.model===t))}(t,s),{modelName:i,deductType:c,deduct:u,maxRounds:v,canAudio:g,canUpload:C}=l,m={modelInfo:{canAudio:g,canUpload:C,keyType:t,modelName:i,model:s,maxModelTokens:a,maxResponseTokens:k.value,systemMessage:null==b?void 0:b.value,topN:A.value,deductType:c,deduct:u,maxRounds:v,rounds:F.value},modelTypeInfo:K(t)},w={groupId:h.value,config:JSON.stringify(m)};try{d.value=!0,await f(w),d.value=!1,j.success("修改当前对话组自定义模型配置成功！"),await r.queryMyGroup(),n.updateAppModelDialog(!1)}catch(L){d.value=!1}}function ee(){I.value=!1}return t({handleUpdateConfig:W}),(e,t)=>(V(),z(we(de),{show:we(g),style:{width:"50%"},"on-after-enter":$,"on-after-leave":ee},{default:S((()=>[Z("div",yi,[Z("div",{class:"absolute top-3 right-3 cursor-pointer",onClick:t[0]||(t[0]=e=>we(n).updateAppModelDialog(!1))},[T(we(ce),{size:"20",color:"dark"===we(u)?"#fff":"#333"},{default:S((()=>[T(we(Ue))])),_:1},8,["color"])]),bi,Z("div",Li,[(V(!0),H(N,null,R(we(P),((e,t)=>(V(),H("div",{class:Ae(["bg-[#E8E8E8] dark:bg-[#3B3B5C]",_.value==e.label?"model_item":"def_model_item"]),key:e.id,onClick:t=>{return s=e.label,a=e.value,_.value=s,void(y.value=a);var s,a}},[Z("div",_i,[Z("div",ji,[_.value==e.label?(V(),H("img",Ii)):(V(),H("img",Di)),Z("div",Mi,ye(e.label),1)]),Z("div",Ei,[Bi,Z("div",null,ye(e.deduct)+ye(1==e.deductType?"基础":"高级")+"积分/次",1)])]),Vi],10,Fi)))),128))]),Z("div",Hi,[T(we(ve),{"default-expanded-names":"",accordion:"","on-update:expanded-names":J},{default:S((()=>[T(we(ue),{name:"1"},{header:S((()=>[Ti])),"header-extra":S((()=>[Z("div",{onClick:Ge(X,["stop"])},[I.value?(V(),z(we(te),{key:0,text:"",type:"error"},{default:S((()=>[Q(" 重置 ")])),_:1})):q("",!0)],8,Si)])),default:S((()=>[Z("div",Zi,[Z("div",null,[Z("div",Ni,[Ri,Z("div",Gi,[T(we(pe),{value:A.value,"onUpdate:value":t[1]||(t[1]=e=>A.value=e),step:.1,max:we(C)},null,8,["value","step","max"]),Z("span",Ui,ye(A.value),1)])]),qi]),Z("div",zi,[Z("div",Pi,[Oi,Z("div",$i,[T(we(pe),{value:k.value,"onUpdate:value":t[2]||(t[2]=e=>k.value=e),step:100,max:m.value},null,8,["value","max"]),Z("span",Xi,ye(k.value),1)])]),Qi]),Z("div",Ji,[Z("div",Yi,[Ki,Z("div",Wi,[T(we(pe),{value:F.value,"onUpdate:value":t[3]||(t[3]=e=>F.value=e),step:1,max:L.value},null,8,["value","max"]),Z("span",eo,ye(F.value),1)])]),to])])])),_:1})])),_:1})]),Z("div",so,[T(we(te),{style:{"border-radius":"5px"},onClick:t[4]||(t[4]=e=>we(n).updateModelDialog(!1))},{default:S((()=>[Q(" 取消 ")])),_:1}),T(we(te),{style:{background:"#00A8EC","border-radius":"5px",color:"#FFFFFF"},type:"primary",onClick:W,loading:d.value},{default:S((()=>[Q(" 保存 ")])),_:1},8,["loading"])])])])),_:1},8,["show"]))}}),[["__scopeId","data-v-1313d293"]]),lo={class:"app_list"},io={style:{display:"flex"}},oo=["src"],no={style:{width:"100%"}},ro={style:{display:"flex","align-items":"center","justify-content":"space-between"}},co={style:{"font-size":"16px","margin-right":"5px","white-space":"nowrap",width:"8em",overflow:"hidden","text-overflow":"ellipsis"}},uo=["onClick"],po=[(e=>(G("data-v-c4fa56c3"),e=e(),U(),e))((()=>Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.9016 2.84785C11.2379 2.66173 11.6159 2.56409 12.0002 2.56409C12.3844 2.56409 12.7625 2.66173 13.0987 2.84785C13.4345 3.03375 13.7176 3.30183 13.9216 3.62698L15.8561 6.68835C16.1767 7.1956 16.708 7.53213 17.3036 7.60511L19.4485 7.86792C19.8524 7.91377 20.2363 8.06864 20.559 8.31599C20.8828 8.56414 21.1328 8.89594 21.2817 9.27565C21.4309 9.65535 21.4735 10.0685 21.4051 10.4707C21.3367 10.8728 21.1599 11.2487 20.8935 11.5577L20.8909 11.5607L18.9176 13.824C18.5085 14.2932 18.3412 14.9261 18.4651 15.5362L19.1181 18.753L19.119 18.7582C19.2012 19.1794 19.1613 19.6152 19.0043 20.0146C18.8473 20.4141 18.5796 20.7603 18.2326 21.0128L18.2246 21.0186C17.8749 21.2652 17.4631 21.4086 17.0359 21.4324C16.609 21.456 16.184 21.3594 15.8094 21.1532L12.9603 19.5941C12.3621 19.2667 11.6383 19.2667 11.04 19.5941L8.19165 21.1528C7.81629 21.3594 7.39135 21.456 6.96449 21.4324C6.53731 21.4086 6.12542 21.2652 5.77582 21.0186L5.76771 21.0129C5.42074 20.7603 5.15298 20.4141 4.99597 20.0146C4.83894 19.6152 4.79915 19.1794 4.88129 18.7582L4.8823 18.753L5.53527 15.5362C5.65911 14.9261 5.49181 14.2932 5.08271 13.824L3.10939 11.5607L3.10677 11.5577C2.84051 11.2487 2.66364 10.8728 2.59522 10.4707C2.52681 10.0685 2.56945 9.65535 2.71854 9.27565C2.86764 8.89594 3.11754 8.56414 3.44131 8.31599C3.76403 8.06864 4.14794 7.91377 4.55191 7.86792L6.69671 7.60511C7.2923 7.53214 7.82365 7.19561 8.14419 6.68836L10.078 3.62816C10.2827 3.30183 10.5658 3.03375 10.9016 2.84785Z",fill:"#2960BE",stroke:"#2960BE","stroke-width":"2"},null,-1)))],vo={style:{display:"flex","align-items":"center","justify-content":"space-between"}},go={class:"type dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#484A4D] text-[#A3A5A6]"},Co={key:0,class:"title_tag dark:bg-[#1C2F1E] bg-[#EAFAE6] dark:text-[#2ECD06] text-[#2ECD06]"},ho={class:"describe"},mo=["onClick"],ko=r(D({__name:"MineApp",setup(e){const t=Y(),s=i(),a=l(),o=M((()=>s.selectSiderIndex)),n=M((()=>s.mineAppIndex)),r=ke([]);async function d(){const e=await L();console.log(e),200==e.code&&(r.value=e.data.rows)}return console.log(123),E(o,(e=>{o.value==n.value&&(console.log(123),d(),async function(){const e=await k({type:"mine"});console.log(e),200==e.code&&(r.value=e.data)}())}),{immediate:!0}),(e,l)=>(V(),H("div",lo,[(V(!0),H(N,null,R(r.value,(e=>(V(),H("div",{class:"app_item dark:bg-[#1A1D21] bg-[#FFF]",key:e.id},[Z("div",io,[Z("div",null,[Z("img",{class:"app_avatar",src:e.logo},null,8,oo)]),Z("div",no,[Z("div",ro,[Z("div",co,ye(e.modelName),1),(V(),H("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",onClick:s=>async function(e){const s=await C({appId:e});200==s.code?(t.success(s.data),d()):t.error(s.data)}(e.id)},po,8,uo))]),Z("div",vo,[Z("div",go,ye(e.groupName),1),1==e.gptsApp?(V(),H("div",Co,"gpts")):q("",!0)])])]),Z("div",ho,ye(e.desc),1),Z("div",{class:"attempt_btn dark:bg-[#2960BE] bg-[#3378ED] dark:text-[#FFF] text-[#FFF]",onClick:t=>async function(e){const t=await a.isSession(e);0==t?(await a.addNewChat(e),a.updateGptsStore(!1)):a.setActiveGroup(t),s.selectAppListIndex=1,s.setSelectSiderIndex(s.appListIndex)}(e.id)},"立即使用 ",8,mo)])))),128))]))}}),[["__scopeId","data-v-c4fa56c3"]]),wo=e=>(G("data-v-c51be00f"),e=e(),U(),e),xo={key:0},fo={key:1},Ao={key:2},yo={key:4,class:"flex-1 overflow-hidden"},bo={id:"image-wrapper",class:"w-full h-full"},Lo={key:0},Fo={key:1,class:"dark:bg-[#1A1D21] bg-[#FFF]",style:{height:"100%"}},_o=wo((()=>Z("div",null,[Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M5.71521 10H15.8828",stroke:"#A3A5A6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M9.10441 13.3892L5.71521 9.99999L9.10441 6.61078",stroke:"#A3A5A6","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))),jo={style:{"font-size":"12px","margin-left":"10px"}},Io={key:1,class:"dark:bg-[#1A1D21] bg-[#FFF] pr-10"},Do={class:"sticky bottom-0 left-0 flex justify-center"},Mo={key:5,class:"footer-dialog dark:bg-[#1A1D21] bg-[#FFFFFF]"},Eo={class:Ae(["m-auto"]),style:{padding:"0 30px"}},Bo={class:"flex justify-between"},Vo={class:"flex mb-2"},Ho=wo((()=>Z("span",{class:"flex justify-center items-center"},[Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",class:"mb-1 mr-1"},[Z("path",{d:"M4.92145 8.44626C3.0869 8.88255 1.72241 10.5319 1.72241 12.5C1.72241 14.8012 3.58789 16.6667 5.88908 16.6667C6.28383 16.6667 6.66575 16.6118 7.02762 16.5092",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M15.0785 8.44626C16.9131 8.88255 18.2776 10.5319 18.2776 12.5C18.2776 14.8012 16.4121 16.6667 14.1109 16.6667C13.7162 16.6667 13.3343 16.6118 12.9724 16.5092",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M15.0558 8.33334C15.0558 5.57193 12.8172 3.33334 10.0558 3.33334C7.29434 3.33334 5.05576 5.57193 5.05576 8.33334",stroke:"#F4F4F4","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M7.16635 11.6172L10.0557 8.71826L13.0274 11.6668",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M10.0558 15.8334V10.1925",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})]),Z("span",{style:{"font-size":"13px"}},"上传")],-1))),To=wo((()=>Z("span",{class:"flex justify-center items-center"},[Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M2.48219 6.06211C2.48219 4.08493 4.08491 2.48221 6.06209 2.48221H6.26579C6.48041 2.48224 6.6901 2.54658 6.86781 2.66693C7.04552 2.78727 7.1831 2.9581 7.26279 3.15738L8.1456 5.36403C8.2497 5.62421 8.27517 5.90922 8.21885 6.18374C8.16254 6.45826 8.02691 6.71022 7.82878 6.9084L6.72724 8.00994C6.55075 8.18643 6.47665 8.44311 6.54896 8.68225C6.89225 9.80692 7.50666 10.83 8.33815 11.6615C9.16963 12.493 10.1927 13.1074 11.3174 13.4507C11.5565 13.5234 11.8132 13.4489 11.9897 13.2724L13.0912 12.1709C13.2894 11.9727 13.5414 11.8371 13.8159 11.7808C14.0904 11.7245 14.3754 11.7499 14.6356 11.854L16.8426 12.7368C17.0419 12.8165 17.2127 12.9541 17.3331 13.1318C17.4534 13.3095 17.5178 13.5192 17.5178 13.7339V13.9379C17.5178 15.9151 15.9151 17.5178 13.9379 17.5178H13.7589C7.63367 17.5178 2.64901 12.6341 2.48613 6.54826C2.48613 6.54648 2.48541 6.54469 2.48434 6.54361C2.48368 6.54302 2.48315 6.54231 2.48278 6.54151C2.48241 6.54071 2.48221 6.53984 2.48219 6.53896V6.06211Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"})]),Z("span",null,"语音")],-1))),So={class:"flex justify-center items-center"},Zo=wo((()=>Z("svg",{class:"mb-1",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M16.6666 8.33332C16.6666 11.1699 14.8951 13.5927 12.3981 14.5557H9.99998H7.60185C5.10481 13.5927 3.33331 11.1699 3.33331 8.33332C3.33331 4.65141 6.31806 1.66666 9.99998 1.66666C13.6819 1.66666 16.6666 4.65141 16.6666 8.33332Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M12.3982 14.5557L12.2502 16.2773C12.1502 17.4402 11.1771 18.3333 10.0098 18.3333V18.3333C8.85224 18.3333 7.88378 17.4545 7.77176 16.3023L7.60193 14.5557",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M9.80112 5.73129L8.69409 8.10935H11.3182L10.0061 10.9384",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})],-1))),No={style:{color:"#0a0a0a"},class:"text-white mr-0.5 dark:text-[#03060C] text-[#03060C] ml-2"},Ro={key:0,class:"mb-2"},Go=wo((()=>Z("span",{class:"flex justify-center items-center"},[Z("span",null,"清空"),Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 20 20",fill:"none"},[Z("path",{d:"M4.65503 4.99582V14.1916C4.65503 16.0325 6.14741 17.5249 7.98836 17.5249H12.0115C13.8525 17.5249 15.3449 16.0325 15.3449 14.1916V4.99582H4.65503Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"}),Z("path",{d:"M8.57471 8.55911V13.1914",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M11.4253 8.55911V13.1914",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M2.87341 4.99582H17.1265",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),Z("path",{d:"M6.49878 4.99583L6.9138 4.26905C7.54724 3.15975 8.72666 2.47507 10.0041 2.47507V2.47507C11.2926 2.47507 12.4804 3.17156 13.1096 4.29599L13.5012 4.99583H6.49878Z",stroke:"#A3A5A6","stroke-width":"1.67","stroke-linejoin":"round"})])],-1))),Uo={class:"input_card flex items-stretch space-x-2"},qo={class:"relative flex-1 dark:bg-[#15171A] bg-[#F4F4F4]",style:{"border-radius":"8px"}},zo={class:"absolute bottom-2 right-2 w-[28px]"},Po={class:"flex justify-end items-center"},Oo=O('<span class="dark:bg-[#1C2635] bg-[#F5F8FE]" style="padding:6px 6px;border-radius:8px;margin-right:10px;" data-v-c51be00f><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" data-v-c51be00f><path d="M14.8248 6.75388C14.8248 5.19376 13.5601 3.92904 12 3.92904C10.4399 3.92904 9.17517 5.19376 9.17517 6.75388V12C9.17517 13.5601 10.4399 14.8248 12 14.8248C13.5601 14.8248 14.8248 13.5601 14.8248 12V6.75388Z" stroke="#A3A5A6" stroke-width="2" stroke-linejoin="round" data-v-c51be00f></path><path d="M5.94678 11.5965C5.94678 14.9396 8.65689 17.6497 12 17.6497C15.3431 17.6497 18.0532 14.9396 18.0532 11.5965" stroke="#A3A5A6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c51be00f></path><path d="M12 17.6497V20.071" stroke="#A3A5A6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-c51be00f></path></svg></span>',1),$o=wo((()=>Z("span",{class:"ml-1"},[Z("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[Z("path",{d:"M7.95721 12.9128L7.9572 12.9128C7.81154 13.0159 7.62203 13.0335 7.4599 12.9591L3.98974 11.3669C3.59039 11.1836 3.6046 10.6114 4.01256 10.4482L21.6627 3.38806L21.6627 3.38805L18.7104 17.9007L19.2004 18.0004L18.7104 17.9007C18.6421 18.2367 18.2635 18.4058 17.9677 18.2324L17.9677 18.2324L14.3604 16.1186C13.6645 15.7107 12.7708 15.9263 12.3372 16.6063L12.3372 16.6063L10.3608 19.7062V14.9168C10.3608 14.7778 10.4187 14.6451 10.5204 14.5505L15.9859 9.47092C16.3754 9.10892 16.3767 8.49274 15.9888 8.12908C15.6707 7.83094 15.1868 7.7976 14.8309 8.04942L7.95721 12.9128Z",fill:"white",stroke:"white"})])],-1))),Xo=r(D({__name:"chatBase",setup(e){const n=s(),r=i(),p=t();let v=new AbortController;const g=K(),C=Y(),h=a(),m=ke(),k=l(),w=ke(!1),x=ke(!0),f=M((()=>r.selectSiderIndex)),A=M((()=>r.selectAppListIndex)),{addGroupChat:y,updateGroupChat:b,updateGroupChatSome:L}=function(){const e=l();return{addGroupChat:t=>{e.addGroupChat(t)},updateGroupChat:(t,s)=>{e.updateGroupChat(t,s)},updateGroupChatSome:(t,s)=>{e.updateGroupChatSome(t,s)}}}(),D=M((()=>p.query.appId)),G=M((()=>p.query.trade_status)),U=M((()=>p.query.token));!function(){function e(){document.querySelectorAll(".code-block-wrapper").forEach((e=>{const t=e.querySelector(".code-block-header__copy"),s=e.querySelector(".code-block-body");t&&s&&t.addEventListener("click",(()=>{var e;(null==(e=navigator.clipboard)?void 0:e.writeText)?navigator.clipboard.writeText(s.textContent??""):Ne({text:s.textContent??"",origin:!0})}))}))}B((()=>e())),$((()=>e()))}();const{isMobile:O}=o(),{scrollRef:X,scrollToBottom:W,scrollToBottomIfAtBottom:ee}=function(){const e=ke(null);return{scrollRef:e,scrollToBottom:async()=>{await P(),e.value&&(e.value.scrollTop=e.value.scrollHeight)},scrollToTop:async()=>{await P(),e.value&&(e.value.scrollTop=0)},scrollToBottomIfAtBottom:async()=>{if(await P(),e.value){const t=150;e.value.scrollHeight-e.value.scrollTop-e.value.clientHeight<=t&&(e.value.scrollTop=e.value.scrollHeight)}}}}(),{usingContext:se,toggleUsingContext:le}=gt(),{usingNetwork:ie,toggleUsingNetwork:oe}=function(){const e=Y(),t=d(),s=M((()=>t.usingNetwork));return{usingNetwork:s,toggleUsingNetwork:function(){t.setUsingNetwork(!s.value),s.value?e.success("已开启联网模式、上下文状态失效！"):e.warning("已关闭联网模式！")}}}(),ne=M((()=>k.chatList)),re=M((()=>k.groupList));M((()=>k.activeModelName));const de=M((()=>k.canUpload)),ce=M((()=>k.canAudio)),{selectFile:ue,upload:pe}=F(),ve=M((()=>ne.value.filter((e=>!e.inversion&&!e.error)))),Ce=ke(""),he=ke(!1),me=ke(null),fe=ke(!0),Le=ke(""),Fe=M((()=>k.active)),_e=M((()=>k.groupList.find((e=>e.uuid===Fe.value)))),je=M((()=>k.activeConfig));ke([]),M((()=>Number(null==k?void 0:k.activeModelKeyType)));const Ie=M((()=>he.value||!Ce.value||""===Ce.value.trim()||!x.value));async function De(){n.updateRecordDialog(!0)}async function Me(e=1){let t;if(1===e){if(t=await ue(),!t)return void C.error("选择文件错误")}else t=e;n.updateUploadDialog(!0);const s=await pe({purpose:"assistants",file:t},(e=>{const{progress:t,loaded:s,total:a}=e;t&&100*Number(t.toFixed(2))<=99&&n.updateUploadProgress(100*Number(t.toFixed(2)))}));s.data&&(n.updateUploadProgress(100),n.updateUploadDialog(!1),Ce.value=1===e?"请分析一下上传的这个文件 "+s.data:"请将语音转换成文本 "+s.data),1!==e&&n.updateRecordDialog(!1)}function He(e){Ce.value=e,Te()}async function Te(e){if(0===k.groupList.length||he.value||!x.value)return;let t="";if(e&&"number"==typeof e){const{requestOptions:s}=ne.value[e];t=(null==s?void 0:s.prompt)??""}!async function(e){var t;let s=e||Ce.value;if(he.value)return;if(!s||""===s.trim())return;v=new AbortController,y({dateTime:(new Date).toLocaleString(),text:s,inversion:!0,error:!1,conversationOptions:null,requestOptions:{prompt:s,options:null}}),W(),he.value=!0,Ce.value="";let a={groupId:+Fe.value,type:"gpts",usingNetwork:ie.value};const l=null==(t=ve.value[ve.value.length-1])?void 0:t.conversationOptions;l&&se.value&&!ie.value&&(a={...l,...a});y({dateTime:(new Date).toLocaleString(),text:"AI思考中",loading:!0,inversion:!1,error:!1,conversationOptions:null,requestOptions:{prompt:s,options:{...a}}}),W();let i=null,o="",d="",u=0,p=null;w.value=!0;let g={};n.updateIsChatIn(!0);try{const e=async()=>{i=setInterval((async()=>{var e;o[u]&&d.length<o.length&&(d+=o[u]),o[u]&&(x.value=!1,b(ne.value.length-1,{dateTime:(new Date).toLocaleString(),text:d,inversion:!1,usage:null==(e=null==p?void 0:p.detail)?void 0:e.usage,error:!1,loading:!0,conversationOptions:{conversationId:null==p?void 0:p.conversationId,parentMessageId:null==p?void 0:p.id},requestOptions:{prompt:s,options:{...a}}}),ee(),u++),!w.value&&d.length>=o.length&&(u=0,d="",i&&clearInterval(i),i=null,x.value=!0,L(ne.value.length-1,{loading:!1}),n.updateIsChatIn(!1),g&&r.updateUserBanance(g),ee())}),16),await _({prompt:s,appId:_e.value?_e.value.appId:0,options:a,signal:v.signal,onDownloadProgress:({event:e})=>{var t;const s=e.target,{responseText:a}=s,l=a.lastIndexOf("\n",a.length-2);let i=a;-1!==l&&(i=a.substring(l));try{p=JSON.parse(i)}catch(n){console.log("parse data erro from openai: ",n,i),i.includes("OpenAI timed out waiting for response")&&(console.log("绘画超时了~"),C.warning("会话超时了、告知管理员吧~~~"))}try{o=p.text,w.value=!p.is_end,(null==(t=null==p?void 0:p.detail)?void 0:t.usage)&&(x.value=p.is_end,g=null==p?void 0:p.userBanance)}catch(n){console.log(n)}}})};await e()}catch(h){console.log("chat error catch",h),n.updateIsChatIn(!1),clearInterval(i),w.value=!1,(402===h.code||(null==h?void 0:h.message.includes("余额不足"))||(null==h?void 0:h.message.includes("免费额度已经使用完毕")))&&n.updateVipDialog(!0);let e=(null==h?void 0:h.message)??c("common.wrong");if("Request failed with status code 401"===e&&(e="非法操作、请先登录后再进行问答使用！"),null==h?void 0:h.message.includes("canceled"))return L(ne.value.length-1,{loading:!1}),ee(),void setTimeout((()=>{r.getUserBalance()}),200);const t=ne.value[ne.value.length-1];if((null==t?void 0:t.text)&&""!==t.text)return void L(ne.value.length-1,{text:`${"AI思考中"===t.text?"":t.text}\n[${e}]`,error:!1,loading:!1});b(ne.value.length-1,{dateTime:(new Date).toLocaleString(),text:e,inversion:!1,error:!0,loading:!1,conversationOptions:null,requestOptions:{prompt:s,options:{...a}}}),ee()}finally{console.log("finally",he.value),he.value=!1,w.value=!1}}(t)}function Se(){if(he.value)return;const e=g.create({title:c("chat.exportImage"),content:c("chat.exportImageConfirm"),positiveText:c("common.yes"),negativeText:c("common.no"),onPositiveClick:async()=>{try{e.loading=!0;const t=document.getElementById("image-wrapper"),s=(await Ve(t,{useCORS:!0})).toDataURL("image/png"),a=document.createElement("a");return a.style.display="none",a.href=s,a.setAttribute("download","chat-shot.png"),void 0===a.download&&a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s),e.loading=!1,C.success(c("chat.exportSuccess")),Promise.resolve(!0)}catch(t){C.error(c("chat.exportFailed"))}finally{e.loading=!1}}})}function Ze(){he.value||g.create({title:c("chat.clearChat"),content:c("chat.clearChatConfirm"),positiveText:c("common.yes"),negativeText:c("common.no"),onPositiveClick:async()=>{await k.clearChatByGroupId(),C.success("删除当前页面对话完成")}})}function Re(e){O.value?"Enter"===e.key&&e.ctrlKey&&(e.preventDefault(),Te()):"Enter"!==e.key||e.shiftKey||(e.preventDefault(),Te())}function Ge(){he.value&&(v.abort(),he.value=!1,w.value=!1,x.value=!0)}E(Fe,(e=>{var t;e&&(fe.value=!0),me.value&&!O.value&&(null==(t=me.value)||t.focus())}),{immediate:!0}),E(ne,(e=>{0!==e.length&&fe.value&&(fe.value=!1,W())}),{immediate:!0});const Ue=M((()=>O.value?c("chat.placeholderMobile"):c("chat.placeholder")));B((async()=>{D.value&&await async function(e){const t=+e,s=k.groupList.find((e=>e.appId===t));s?await k.setActiveGroup(s.uuid):(await k.addNewChatGroup(t),await k.queryMyGroup()),Ce.value&&He(Ce.value)}(Number(D.value)),U.value&&await async function(e){r.setToken(e),await j.replace({name:"Chat",query:{}}),C.success("账户登录成功、开始体验吧！"),await r.getUserInfo()}(U.value),G.value&&(G.value.toLowerCase().includes("success")?(C.success("感谢你的购买、祝您使用愉快~",{duration:5e3}),r.getUserInfo(),j.replace({name:"Chat",query:{}})):C.error("您还没有购买成功哦~")),await P((async()=>{var e;await k.queryActiveChatLogList(),await W(),me.value&&!O.value&&(null==(e=me.value)||e.focus())})),I(["dialogueTail"]).then((e=>{Le.value=e.data}))}));const qe=M((()=>"dark"===h.theme)),ze=M((()=>n.recordDialog)),Pe=M((()=>{})),Oe=M((()=>O.value?"tiny":"small")),$e=xe({query:""}),Xe=ke();J((()=>{he.value&&v.abort()}));const Qe=()=>{if(n.isChatIn)return C.warning("请等待聊天结束后修改模型信息！");n.updateAppModelDialog(!0)};return(e,t)=>{var s;return V(),H("div",{style:be([{},we(Pe)]),class:"app_chat_card flex flex-col"},[we(f)==we(r).exploreAppIndex?(V(),H("div",xo,[T(Ns),T(ga),T(Na),T(cl),T(Hl)])):q("",!0),we(f)!=we(r).appListIndex?(V(),H("div",fo,[T(Kl)])):q("",!0),we(f)==we(r).mineAppIndex?(V(),H("div",Ao,[T(ko)])):q("",!0),1==we(r).createAppDialog?(V(),z(fi,{key:3})):q("",!0),T(ao),T(Ee,{visible:we(ze),onSubmit:Me},null,8,["visible"]),T(bt,{"using-context":we(se),"dark-mode":we(qe),onExport:Se,onToggleUsingContext:we(le),onClear:Ze},null,8,["using-context","dark-mode","onToggleUsingContext"]),we(f)==we(r).appListIndex?(V(),H("main",yo,[Z("div",{id:"scrollRef",ref_key:"scrollRef",ref:X,class:"relative h-full overflow-hidden overflow-y-auto scroll-smooth"},[Z("div",bo,[0==we(A)?(V(),H("div",Lo,[T(Es,{ref_key:"gptsItemRef",ref:Xe,q:$e.query},null,8,["q"])])):(V(),H("div",Fo,[Z("div",{style:{display:"flex","align-items":"center","padding-top":"20px","padding-left":"20px"},onClick:t[0]||(t[0]=e=>we(r).selectAppListIndex=0)},[_o,Z("div",jo,ye(null==(s=we(_e))?void 0:s.title),1)]),!we(ne).length&&we(re).length>0?(V(),z(vt,{key:0,onRun:He})):(V(),H("div",Io,[(V(!0),H(N,null,R(we(ne),((e,t)=>(V(),z(we(rs),{chatTail:Le.value,key:e.chatId,"date-time":e.dateTime,text:e.text,inversion:e.inversion,error:e.error,loading:e.loading,onRegenerate:e=>Te(t),onDelete:t=>function({chatId:e}){he.value?C.warning("对话中，不可进行删除操作"):g.warning({title:c("chat.deleteMessage"),content:c("chat.deleteMessageConfirm"),positiveText:c("common.yes"),negativeText:c("common.no"),onPositiveClick:()=>{k.deleteChatById(e)}})}(e)},null,8,["chatTail","date-time","text","inversion","error","loading","onRegenerate","onDelete"])))),128)),Z("div",Do,[he.value?(V(),z(we(te),{key:0,onClick:Ge},{icon:S((()=>[T(we(u),{icon:"ri:stop-circle-line"})])),default:S((()=>[Q(" 停止输出 ")])),_:1})):q("",!0)]),Z("div",{ref_key:"bottomContainer",ref:m,class:"bottom"},null,512)]))]))])],512)])):q("",!0),we(f)==we(r).appListIndex&&0!=we(A)?(V(),H("footer",Mo,[Z("div",Eo,[Z("div",Bo,[Z("div",Vo,[we(de)?(V(),z(we(ge),{key:0,trigger:"hover",disabled:we(O)},{trigger:S((()=>[T(we(te),{class:"dark:bg-[#15171A] bg-[#FFFFFF]",tertiary:"",round:"",size:we(Oe),onClick:t[1]||(t[1]=e=>Me(1)),style:{diplay:"block","margin-right":"1rem","border-radius":"8px",border:"none"}},{default:S((()=>[Ho])),_:1},8,["size"])])),default:S((()=>[Q(" 上传文件 ")])),_:1},8,["disabled"])):q("",!0),we(ce)?(V(),z(we(ge),{key:1,trigger:"hover",disabled:we(O)},{trigger:S((()=>[T(we(te),{tertiary:"",size:we(Oe),onClick:De,round:"",class:"ml-4 dark:bg-[#15171A] bg-[#FFFFFF]",style:{"border-radius":"8px"}},{default:S((()=>[To])),_:1},8,["size"])])),default:S((()=>[Q(" 语音助手 ")])),_:1},8,["disabled"])):q("",!0),1!=we(_e).gptsApp?(V(),z(we(ge),{key:2,trigger:"hover",disabled:we(O)},{trigger:S((()=>[Z("button",{style:{"border-radius":"8px",background:"linear-gradient(101deg, #FF75C3 4%, #FFA647 24.47%, #FFE83F 42.67%, #9FFF5B 63.9%, #CD93FF 94.22%)"},onClick:Qe,class:Ae([[we(O)?"px-1 scale-75":"px-3"],"mr-2 py-1 ml-4 bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r"])},[Z("span",So,[Zo,Z("span",No,ye(we(je).modelInfo.modelName),1)])],2)])),default:S((()=>[Q(" 模型切换 ")])),_:1},8,["disabled"])):q("",!0)]),we(ne).length>0?(V(),H("div",Ro,[T(we(ge),{trigger:"hover",disabled:we(O)},{trigger:S((()=>[T(we(te),{class:"dark:bg-[#15171A] bg-[#FFFFFF]",tertiary:"",round:"",size:we(Oe),onClick:Ze,style:{"border-radius":"8px"}},{default:S((()=>[Go])),_:1},8,["size"])])),default:S((()=>[Q(" 清空聊天记录 ")])),_:1},8,["disabled"])])):q("",!0)]),Z("div",Uo,[Z("div",qo,[T(we(ae),{style:{background:"transparent"},ref_key:"inputRef",ref:me,value:Ce.value,"onUpdate:value":t[2]||(t[2]=e=>Ce.value=e),type:"textarea",class:"pb-10 dark:bg-[#15171A] bg-[#F4F4F4]",clearable:"",placeholder:we(Ue),autosize:{minRows:we(O)?1:2,maxRows:we(O)?3:4},onKeypress:Re},null,8,["value","placeholder","autosize"]),Z("div",zo,[Z("div",Po,[Oo,T(we(te),{style:{"border-radius":"8px"},type:"primary",disabled:we(Ie),round:"",onClick:Te},{default:S((()=>[Q(" 发送 "),$o])),_:1},8,["disabled"])])])])])])])):q("",!0),we(f)==we(r).appListIndex&&0!=we(A)?(V(),z(Be,{key:6,class:"footer-copyright-bar dark:bg-[#1A1D21] bg-[#FFFFFF]"})):q("",!0)],4)}}}),[["__scopeId","data-v-c51be00f"]]),Qo={class:"flex justify-between items-center w-full"},Jo={class:"flex justify-between items-center"},Yo=Z("div",{class:"pr-4"},"GPT store",-1),Ko={class:"max-w-[500px]"},Wo=D({__name:"aiGpts",setup(e){const t=l(),{isMobile:s}=o(),a=M((()=>t.showGptsStore)),i=ke(),n=ke({showImg:!1,query:""}),r=e=>{"clear"===e&&(n.value.query=""),i.value.search(n.value.query)},d=e=>{n.value.query=e.q};return(e,l)=>(V(),z(we(he),{show:we(a),"onUpdate:show":l[6]||(l[6]=e=>fe(a)?a.value=e:null),"mask-closable":!1,placement:we(s)?"bottom":"right",class:Ae(we(s)?["!h-[90vh]"]:["!w-[80vw]"]),style:{"--n-body-padding":"0"}},{default:S((()=>[T(we(Ce),{class:"mydrawer"},{header:S((()=>[Z("div",Qo,[Z("div",Jo,[Yo,Z("div",Ko,[T(we(ae),{round:"",placeholder:"GPTs名字(enter搜索)",class:"w-full",onClear:l[1]||(l[1]=e=>r("clear")),clearable:"",value:n.value.query,"onUpdate:value":l[2]||(l[2]=e=>n.value.query=e),onKeyup:l[3]||(l[3]=Re((e=>r()),["enter"]))},{prefix:S((()=>[T(we(u),{icon:"uil:search"})])),suffix:S((()=>[Z("div",{class:"cursor-pointer",onClick:l[0]||(l[0]=e=>r())},"搜索")])),_:1},8,["value"])])]),Z("div",null,[Z("button",{circle:"",onClick:l[4]||(l[4]=e=>we(t).updateGptsStore(!1))},[T(we(u),{icon:"ic:round-close",class:"pr-2 text-[32px] cursor-pointer"})])])])])),default:S((()=>[T(Es,{ref_key:"gptsItemRef",ref:i,onClose:l[5]||(l[5]=e=>we(t).updateGptsStore(!1)),q:n.value.query,onToq:d},null,8,["q"])])),_:1})])),_:1},8,["show","placement","class"]))}}),en={style:{},class:"h-full dark:bg-[#15171A] bg-[#F4F4F4] transition-all"},tn=r(D({__name:"index",setup(e){a();const t=l(),s=i(),{isMobile:n}=o(),r=M((()=>s.isLogin));E(r,(async(e,s)=>{e&&!s&&await t.queryMyGroup()}));const d=M((()=>n.value?["rounded-none","shadow-none"]:["rounded-md","shadow-md","dark:border-neutral-800"])),c=M((()=>["h-full"]));return B((()=>{t.refreshCollect()})),(e,t)=>(V(),H("div",en,[Z("div",{class:Ae(["h-full",we(d)])},[T(Wo),T(we(me),{style:{background:"transparent"},class:Ae(["z-40 transition dark:bg-[#15171A] bg-[#F4F4F4]",we(c)]),"has-sider":!0,"sider-placement":"left"},{default:S((()=>[T(it,{style:{background:"transparent"}}),T(Xo)])),_:1},8,["class"])],2)]))}}),[["__scopeId","data-v-fa691826"]]);export{tn as default};
