import{d as e,v as a,f as t,y as s,c as n,e as d,W as l,z as o,aF as i,i as r,M as c,j as u,l as m,cA as p,o as v,aJ as f}from"../main-647e77a2.js";import"../punycode@2.3.0/punycode@2.3.0.8a62a219.js";const g={class:"w-full h-full relative"},h={class:"loading"},w=[f('<span class="loading-text-words">内</span><span class="loading-text-words">容</span><span class="loading-text-words">正</span><span class="loading-text-words">在</span><span class="loading-text-words">加</span><span class="loading-text-words">载</span><span class="loading-text-words">中</span>',7)],x=["src"],y=e({__name:"index",setup(e){const f=a(),y=t(),E=s(!1),b=n((()=>y.iframeUrl)),k=d(),L=n((()=>"dark"===k.theme));const I=n((()=>k.theme));function j(e){const{type:a,data:t}=e.data;"theme"===a&&k.setTheme("dark"===t?"dark":"light")}function B(e){document.getElementById("iframe").contentWindow.postMessage(e,"*")}function M(){B({type:"theme",data:I.value});const e=p();e&&B({type:"token",data:e}),E.value=!1}return l(I,(e=>{B({type:"theme",data:e})})),o((()=>{if(!b.value)return f.push("/");E.value=!0,function(){const e=document.getElementById("iframe");(null==e?void 0:e.addEventListener)||null==e||e.attachEvent("onload",M),null==e||e.addEventListener("load",M,!0)}(),window.addEventListener("message",j)})),i((()=>{y.updateIframeUrl("");const e=document.getElementById("iframe");null==e||e.removeEventListener("load",M),window.removeEventListener("message",j)})),(e,a)=>(v(),r("div",g,[E.value?(v(),r("div",{key:0,class:c(["main-container absolute left-0 right-0 bottom-0 top-0 backdrop-blur",[L.value?"dark:bg-black/20":"bg-white/80"]])},[u("div",h,[u("div",{class:c(["loading-text ",L.value?"text-[#fff]":"text-[#000]"]),id:"loading-text"},w,2)])],2)):m("",!0),u("iframe",{id:"iframe",src:b.value,style:{width:"100%",height:"100%",border:"none"}},null,8,x)]))}});export{y as default};
