var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var o=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(o,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),o}const n=2147483647,r=36,c=/^xn--/,i=/[^\0-\x7F]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=Math.floor,l=String.fromCharCode;function d(e){throw new RangeError(s[e])}function a(e,t){const o=e.split("@");let n="";o.length>1&&(n=o[0]+"@",e=o[1]);const r=function(e,t){const o=[];let n=e.length;for(;n--;)o[n]=t(e[n]);return o}((e=e.replace(f,".")).split("."),t).join(".");return n+r}function p(e){const t=[];let o=0;const n=e.length;for(;o<n;){const r=e.charCodeAt(o++);if(r>=55296&&r<=56319&&o<n){const n=e.charCodeAt(o++);56320==(64512&n)?t.push(((1023&r)<<10)+(1023&n)+65536):(t.push(r),o--)}else t.push(r)}return t}const h=e=>String.fromCodePoint(...e),g=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},v=function(e,t,o){let n=0;for(e=o?u(e/700):e>>1,e+=u(e/t);e>455;n+=r)e=u(e/35);return u(n+36*e/(e+38))},b=function(e){const t=[],o=e.length;let c=0,i=128,f=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let n=0;n<s;++n)e.charCodeAt(n)>=128&&d("not-basic"),t.push(e.charCodeAt(n));for(let a=s>0?s+1:0;a<o;){const s=c;for(let t=1,i=r;;i+=r){a>=o&&d("invalid-input");const s=(l=e.charCodeAt(a++))>=48&&l<58?l-48+26:l>=65&&l<91?l-65:l>=97&&l<123?l-97:r;s>=r&&d("invalid-input"),s>u((n-c)/t)&&d("overflow"),c+=s*t;const p=i<=f?1:i>=f+26?26:i-f;if(s<p)break;const h=r-p;t>u(n/h)&&d("overflow"),t*=h}const p=t.length+1;f=v(c-s,p,0==s),u(c/p)>n-i&&d("overflow"),i+=u(c/p),c%=p,t.splice(c++,0,i)}var l;return String.fromCodePoint(...t)},w=function(e){const t=[],o=(e=p(e)).length;let c=128,i=0,f=72;for(const n of e)n<128&&t.push(l(n));const s=t.length;let a=s;for(s&&t.push("-");a<o;){let o=n;for(const t of e)t>=c&&t<o&&(o=t);const p=a+1;o-c>u((n-i)/p)&&d("overflow"),i+=(o-c)*p,c=o;for(const h of e)if(h<c&&++i>n&&d("overflow"),h===c){let e=i;for(let o=r;;o+=r){const n=o<=f?1:o>=f+26?26:o-f;if(e<n)break;const c=e-n,i=r-n;t.push(l(g(n+c%i,0))),e=u(c/i)}t.push(l(g(e,0))),f=v(i,p,a===s),i=0,++a}++i,++c}return t.join("")},y=function(e){return a(e,(function(e){return c.test(e)?b(e.slice(4).toLowerCase()):e}))},C=function(e){return a(e,(function(e){return i.test(e)?"xn--"+w(e):e}))},O={version:"2.1.0",ucs2:{decode:p,encode:h},decode:b,encode:w,toASCII:C,toUnicode:y},_=o(Object.freeze(Object.defineProperty({__proto__:null,decode:b,default:O,encode:w,toASCII:C,toUnicode:y,ucs2decode:p,ucs2encode:h},Symbol.toStringTag,{value:"Module"})));export{t as a,e as c,o as g,_ as r};
