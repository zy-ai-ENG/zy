import{d as e,b as a,v as s,f as t,c as l,y as i,L as n,z as u,o as c,i as r,j as x,k as p,w as d,X as f,h as o,N as m,l as v,n as y,H as k,m as w,u as g,g as b,bu as _,ao as h,bv as C,bw as I,aF as z,aG as L,bx as j,by as T,ab as B,bz as M,bA as D,ap as U,K as $,a0 as A,a6 as S,bB as O,bC as W,t as N}from"../main-4e4d4648.js";import{_ as P}from"../titleBar.vue_vue_type_script_setup_true_lang/titleBar.vue_vue_type_script_setup_true_lang.ec794b08.js";import{N as F}from"../LayoutSider/LayoutSider.546ce60d.js";const G={class:"flex flex-col justify-center items-center"},H={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},K=x("span",null,"Profile",-1),X={class:"mt-3 text-lg text-[#555]"},q={class:"text-[#95aac9] mt-2"},E={class:"text-[#555] mt-3 px-4"},J={class:"self-start"},Q=x("div",{class:"flex pl-3 pt-3 text-base font-bold text-primary"},[x("span",null,"我的账户余额")],-1),R={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},V=x("span",null,"会员过期时间：",-1),Y={class:"flex items-center space-x-4 pl-3 mt-3"},Z=x("span",{class:"flex-shrink-0 w-24 text-primary"},"基础模型余额:",-1),ee={class:"w-[200px]"},ae={class:"flex items-center space-x-4 pl-3 mt-3"},se=x("span",{class:"flex-shrink-0 w-24 text-primary"},"高级模型余额:",-1),te={class:"w-[200px]"},le={class:"flex items-center space-x-4 pl-3 mt-3"},ie=x("span",{class:"flex-shrink-0 w-24 text-primary"},"绘画余额:",-1),ne={class:"w-[200px]"},ue={class:"flex items-center space-x-4 pl-3 mt-3"},ce=x("span",{class:"flex-shrink-0 w-24 text-primary"},"绑定微信:",-1),re={class:"w-[200px]"},xe={key:1},pe=e({__name:"detail",setup(e){const g=a(),b=s(),{userBalance:_}=g,h=t(),C=l((()=>g.userInfo.email||"")),I=l((()=>g.userInfo.isBindWx)),z=i(g.userInfo.avatar??n),L=i(g.userInfo.username??"未登录"),j=i(g.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。");function T(){g.logOut(),b.push("/")}const B=l((()=>g.isLogin));return u((()=>{B.value||g.setLoginDialog(!0)})),(e,a)=>(c(),r("div",G,[x("div",H,[K,B.value?(c(),p(o(m),{key:0,tertiary:"",type:"error",onClick:T},{default:d((()=>[f(" 退出登录 ")])),_:1})):v("",!0),B.value?v("",!0):(c(),p(o(m),{key:1,tertiary:"",type:"success",onClick:a[0]||(a[0]=e=>o(g).setLoginDialog(!0))},{default:d((()=>[f(" 点击登入 ")])),_:1}))]),y(o(k),{size:148,src:z.value,"fallback-src":o(n)},null,8,["src","fallback-src"]),x("b",X,w(L.value),1),x("span",q,w(C.value),1),x("div",E,w(j.value),1),x("div",J,[Q,o(_).expirationTime?(c(),r("div",R,[V,x("span",null,w(o(_).expirationTime),1)])):v("",!0),x("div",Y,[Z,x("div",ee,w(o(_).sumModel3Count||"0")+" 积分 ",1)]),x("div",ae,[se,x("div",te,w(o(_).sumModel4Count||"0")+" 积分 ",1)]),x("div",le,[ie,x("div",ne,w(o(_).sumDrawMjCount||"0")+" 积分 ",1)]),x("div",ue,[ce,x("div",re,[I.value?(c(),r("span",xe,"已绑定微信")):(c(),p(o(m),{key:0,text:"",onClick:a[1]||(a[1]=e=>o(h).updateBindwxDialog(!0))},{default:d((()=>[f(" 点击绑定微信 ")])),_:1}))])])])]))}}),de={class:"flex flex-col justify-center items-center"},fe={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},oe=x("span",null,"Profile",-1),me={class:"mt-3 text-lg text-[#555]"},ve={class:"text-[#95aac9] mt-2"},ye={class:"text-[#555] mt-3 px-4"},ke={class:"self-start mt-16"},we=x("div",{class:"text-xl text-primary"}," 我在本站的使用记录 ",-1),ge={class:"flex items-center space-x-4 pl-3 mt-3"},be=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型积分:",-1),_e={class:"w-[230px]"},he={class:"flex items-center space-x-4 pl-3 mt-3"},Ce=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型积分:",-1),Ie={class:"w-[230px]"},ze={class:"flex items-center space-x-4 pl-3 mt-3"},Le=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型使用:",-1),je={class:"w-[230px]"},Te={class:"flex items-center space-x-4 pl-3 mt-3"},Be=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型使用:",-1),Me={class:"w-[230px]"},De={class:"flex items-center space-x-4 pl-3 mt-3"},Ue=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绘画使用积分:",-1),$e={class:"w-[230px]"},Ae={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},Se=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Oe={class:"w-[230px]"},We={key:1},Ne={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},Pe=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Fe={class:"w-[230px]"},Ge={key:0,class:"flex text-[red] pt-8 text-base font-bold"},He=x("span",null,"会员过期时间：",-1),Ke={key:1},Xe={class:"flex items-center space-x-4"},qe={class:"flex-shrink-0 w-[60px]"},Ee={class:"flex-1"},Je={class:"flex items-center space-x-4 mt-5"},Qe={class:"flex-shrink-0 w-[60px]"},Re={class:"flex-1"},Ve={class:"flex space-x-4 mt-5"},Ye={class:"flex-shrink-0 w-[60px]"},Ze={class:"flex-1"},ea=e({__name:"index",setup(e){const G=t(),H=a(),K=s(),X=i(0),q=l((()=>H.userBalance)),E=l((()=>{var e;return null==(e=H.globalConfig)?void 0:e.isUseWxLogin})),J=i(!0),Q=l((()=>H.isLogin)),R=g(),V=l((()=>H.userInfo.email||"")),Y=l((()=>H.userInfo.isBindWx)),Z=i(H.userInfo.avatar??n),ee=i(H.userInfo.username??"未登录"),ae=i(H.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。"),se=i(!1),{isSmallLg:te,isMobile:le}=b();async function ie(){const e=await _();X.value=e.data||0}async function ne(){(await O()).success&&R.success("已同步数据完成"),ie()}async function ue(e){try{se.value=!0;const a=await W(e);if(se.value=!1,!a.success)return R.error(a.message);R.success(N("common.updateUserSuccess")),H.getUserInfo()}catch(a){se.value=!1}}function ce(){H.logOut(),K.push("/")}return u((()=>{Q.value||H.setLoginDialog(!0),ie()})),setTimeout((()=>{J.value=!1}),500),(e,a)=>(c(),p(o(S),{"has-sider":"",class:"flex h-full"},{default:d((()=>[o(te)?v("",!0):(c(),p(o(F),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:d((()=>[x("div",de,[x("div",fe,[oe,y(o(m),{tertiary:"",type:"error",onClick:ce},{default:d((()=>[f(" 退出登录 ")])),_:1})]),y(o(k),{size:148,src:Z.value,"fallback-src":o(n)},null,8,["src","fallback-src"]),x("b",me,w(ee.value),1),x("span",ve,w(V.value),1),x("div",ye,w(ae.value),1),x("div",ke,[we,x("div",ge,[be,x("div",_e,w(q.value.useModel3Count||"0")+" 积分 ",1)]),x("div",he,[Ce,x("div",Ie,w(q.value.useModel4Count||"0")+" 积分 ",1)]),x("div",ze,[Le,x("div",je,w(q.value.useModel3Token||"0")+" Token ",1)]),x("div",Te,[Be,x("div",Me,w(q.value.useModel4Token||"0")+" Token ",1)]),x("div",De,[Ue,x("div",$e,w(q.value.useDrawMjToken||"0")+" 积分 ",1)]),E.value?(c(),r("div",Ae,[Se,x("div",Oe,[Y.value?(c(),r("span",We,"已绑定微信")):(c(),p(o(m),{key:0,text:"",onClick:a[0]||(a[0]=e=>o(G).updateBindwxDialog(!0))},{default:d((()=>[f(" 点击绑定微信 ")])),_:1}))])])):v("",!0),X.value>0?(c(),r("div",Ne,[Pe,x("div",Fe,[y(o(m),{text:"",onClick:ne},{default:d((()=>[f(" 点击同步访客数据 ")])),_:1})])])):v("",!0)])]),q.value.expirationTime?(c(),r("div",Ge,[He,x("span",null,w(q.value.expirationTime),1)])):v("",!0)])),_:1})),x("div",{class:$(["flex flex-col",[o(le)?"w-full":"flex-1"]]),style:A({padding:o(le)?"10px":"0 28px 0 28px"})},[y(o(P),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(o(le),1)},null,8,["padding"]),y(o(U),{type:"line",animated:"",class:"mt-5 flex-1"},{default:d((()=>[o(te)?(c(),p(o(h),{key:0,name:"detail",tab:"我的详情"},{default:d((()=>[y(pe)])),_:1})):v("",!0),y(o(h),{name:"account",tab:"我的钱包"},{default:d((()=>[y(C)])),_:1}),y(o(h),{name:"baseInfo",tab:"基础信息"},{default:d((()=>[y(o(I),null,{header:d((()=>[J.value||!Q.value?(c(),p(o(z),{key:0,size:"medium",width:"20%"})):(c(),r("div",Ke,"用户基础设置"))])),default:d((()=>[J.value||!Q.value?(c(),p(o(L),{key:0,vertical:""},{default:d((()=>[y(o(z),{height:"40px",size:"medium"}),y(o(z),{height:"40px",size:"medium"}),y(o(z),{height:"80px",size:"medium"})])),_:1})):(c(),p(o(j),{key:1,"x-gap":"12",cols:1},{default:d((()=>[y(o(T),null,{default:d((()=>[x("div",Xe,[x("span",qe,w(e.$t("setting.avatarLink")),1),x("div",Ee,[y(o(B),{value:Z.value,"onUpdate:value":a[1]||(a[1]=e=>Z.value=e),placeholder:"请填写头像地址"},null,8,["value"])]),y(o(m),{size:"tiny",text:"",type:"primary",onClick:a[2]||(a[2]=e=>ue({avatar:Z.value}))},{default:d((()=>[f(w(e.$t("common.update")),1)])),_:1})]),x("div",Je,[x("span",Qe,w(e.$t("setting.name")),1),x("div",Re,[y(o(B),{value:ee.value,"onUpdate:value":a[3]||(a[3]=e=>ee.value=e),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),y(o(m),{size:"tiny",text:"",type:"primary",onClick:a[4]||(a[4]=e=>ue({username:ee.value}))},{default:d((()=>[f(w(e.$t("common.update")),1)])),_:1})]),x("div",Ve,[x("span",Ye,w(e.$t("setting.sign")),1),x("div",Ze,[y(o(B),{value:ae.value,"onUpdate:value":a[5]||(a[5]=e=>ae.value=e),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),y(o(m),{size:"tiny",text:"",type:"primary",onClick:a[6]||(a[6]=e=>ue({sign:ae.value}))},{default:d((()=>[f(w(e.$t("common.update")),1)])),_:1})])])),_:1})])),_:1}))])),_:1})])),_:1}),y(o(h),{name:"password",tab:"密码管理"},{default:d((()=>[y(M)])),_:1}),y(o(h),{name:"invite",tab:"邀请得福利"},{default:d((()=>[y(D)])),_:1})])),_:1})],6)])),_:1}))}});export{ea as default};
