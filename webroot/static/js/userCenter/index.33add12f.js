import{u as e}from"../vue-router@4.1.6_vue@3.2.47/vue-router@4.1.6_vue@3.2.47.018c715a.js";import{a as s,c as t,l as a,d as i,ai as l,aj as r,ak as n,al as u,am as o,an as p,t as c}from"../main-bb4220d0.js";import{d as m,n as v,p as d,o as x,a as f,b as _,M as y,N as j,t as k,R as g,c as h}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{r as w,x as b}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{p as C,o as I,e as z,a6 as M,V as T,D as B,x as D,E as L,M as q,R as U,r as $,W,a2 as A}from"../naive-ui@2.34.3_vue@3.2.47/naive-ui@2.34.3_vue@3.2.47.d79924d9.js";import{J as O,n as P,o as R}from"../@vue_shared@3.2.47/@vue_shared@3.2.47.9d8e617e.js";import{_ as S}from"../titleBar.vue_vue_type_script_setup_true_lang/titleBar.vue_vue_type_script_setup_true_lang.225288ff.js";import"../@vue_runtime-dom@3.2.47/@vue_runtime-dom@3.2.47.298398d5.js";import"../v-viewer@3.0.11_vue@3.2.47/v-viewer@3.0.11_vue@3.2.47.a81e5850.js";import"../viewerjs@1.11.3/viewerjs@1.11.3.a76d4126.js";import"../clientjs@0.2.1/clientjs@0.2.1.7f53d864.js";import"../@babel_runtime@7.21.5/@babel_runtime@7.21.5.35f69bd2.js";import"../crypto-js@4.1.1/crypto-js@4.1.1.7142fa56.js";import"../@iconify_vue@4.1.1_vue@3.2.47/@iconify_vue@4.1.1_vue@3.2.47.612da1cd.js";import"../pinia@2.0.35_typescript@4.9.5_vue@3.2.47/pinia@2.0.35_typescript@4.9.5_vue@3.2.47.1425f1b3.js";import"../vue-demi@0.14.7_vue@3.2.47/vue-demi@0.14.7_vue@3.2.47.71ba0ef2.js";import"../axios@1.4.0/axios@1.4.0.5ae1da96.js";import"../vue-i18n@9.2.2_vue@3.2.47/vue-i18n@9.2.2_vue@3.2.47.f7da0a53.js";import"../@intlify_shared@9.2.2/@intlify_shared@9.2.2.76c1dc14.js";import"../@intlify_core-base@9.2.2/@intlify_core-base@9.2.2.72ca16dd.js";import"../@intlify_message-compiler@9.2.2/@intlify_message-compiler@9.2.2.9b2b247d.js";import"../@intlify_devtools-if@9.2.2/@intlify_devtools-if@9.2.2.1be0989c.js";import"../vooks@0.2.12_vue@3.2.47/vooks@0.2.12_vue@3.2.47.89d56bd5.js";import"../evtd@0.2.4/evtd@0.2.4.2789e4a1.js";import"../katex@0.16.7/katex@0.16.7.43835b5c.js";import"../@vueuse_core@9.13.0_vue@3.2.47/@vueuse_core@9.13.0_vue@3.2.47.770e5818.js";import"../@vueuse_shared@9.13.0_vue@3.2.47/@vueuse_shared@9.13.0_vue@3.2.47.58cbe97f.js";import"../mitt@3.0.1/mitt@3.0.1.f0e54764.js";import"../@vicons_ionicons5@0.12.0/@vicons_ionicons5@0.12.0.5fe57882.js";import"../marked@4.3.0/marked@4.3.0.cb1ff4ec.js";import"../date-fns@2.30.0/date-fns@2.30.0.bcce45e8.js";import"../vue-clipboard3@2.0.0/vue-clipboard3@2.0.0.ebf9d56c.js";import"../clipboard@2.0.11/clipboard@2.0.11.6a7b8915.js";import"../@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47/@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47.a70167c7.js";import"../@vueuse_shared@10.2.0_vue@3.2.47/@vueuse_shared@10.2.0_vue@3.2.47.3d57d69b.js";import"../qrcode@1.5.3/qrcode@1.5.3.ae99ec0a.js";import"../encode-utf8@1.0.3/encode-utf8@1.0.3.2ec93547.js";import"../dijkstrajs@1.0.3/dijkstrajs@1.0.3.38d0b2a1.js";import"../seemly@0.3.6/seemly@0.3.6.21da59ee.js";import"../vueuc@0.4.51_vue@3.2.47/vueuc@0.4.51_vue@3.2.47.ce1cbfa6.js";import"../@css-render_vue3-ssr@0.15.12_vue@3.2.47/@css-render_vue3-ssr@0.15.12_vue@3.2.47.e49104bd.js";import"../vdirs@0.1.8_vue@3.2.47/vdirs@0.1.8_vue@3.2.47.bf970686.js";import"../@juggle_resize-observer@3.4.0/@juggle_resize-observer@3.4.0.80d14552.js";import"../css-render@0.15.12/css-render@0.15.12.af3f05a4.js";import"../@emotion_hash@0.8.0/@emotion_hash@0.8.0.b17c1a96.js";import"../lodash-es@4.17.21/lodash-es@4.17.21.6a776102.js";import"../treemate@0.3.11/treemate@0.3.11.05d63ee5.js";import"../async-validator@4.2.5/async-validator@4.2.5.8d480e59.js";import"../@css-render_plugin-bem@0.15.12_css-render@0.15.12/@css-render_plugin-bem@0.15.12_css-render@0.15.12.0c2c3e5c.js";const E={class:"flex flex-col justify-center items-center"},J={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},N=_("span",null,"Profile",-1),V={class:"mt-3 text-lg text-[#555]"},F={class:"text-[#95aac9] mt-2"},G={class:"text-[#555] mt-3 px-4"},H={class:"self-start"},K=_("div",{class:"flex pl-3 pt-3 text-base font-bold text-primary"},[_("span",null,"我的账户余额")],-1),Q={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},X=_("span",null,"会员过期时间：",-1),Y={class:"flex items-center space-x-4 pl-3 mt-3"},Z=_("span",{class:"flex-shrink-0 w-24 text-primary"},"基础模型余额:",-1),ee={class:"w-[200px]"},se={class:"flex items-center space-x-4 pl-3 mt-3"},te=_("span",{class:"flex-shrink-0 w-24 text-primary"},"高级模型余额:",-1),ae={class:"w-[200px]"},ie={class:"flex items-center space-x-4 pl-3 mt-3"},le=_("span",{class:"flex-shrink-0 w-24 text-primary"},"绘画余额:",-1),re={class:"w-[200px]"},ne={class:"flex items-center space-x-4 pl-3 mt-3"},ue=_("span",{class:"flex-shrink-0 w-24 text-primary"},"绑定微信:",-1),oe={class:"w-[200px]"},pe={key:1},ce=m({__name:"detail",setup(i){const l=s(),r=e(),{userBalance:n}=l,u=t(),o=v((()=>l.userInfo.email||"")),p=v((()=>l.userInfo.isBindWx)),c=w(l.userInfo.avatar??a),m=w(l.userInfo.username??"未登录"),z=w(l.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。");function M(){l.logOut(),r.push("/")}const T=v((()=>l.isLogin));return d((()=>{T.value||l.setLoginDialog(!0)})),(e,s)=>(x(),f("div",E,[_("div",J,[N,b(T)?(x(),y(b(C),{key:0,tertiary:"",type:"error",onClick:M},{default:j((()=>[k(" 退出登录 ")])),_:1})):g("",!0),b(T)?g("",!0):(x(),y(b(C),{key:1,tertiary:"",type:"success",onClick:s[0]||(s[0]=e=>b(l).setLoginDialog(!0))},{default:j((()=>[k(" 点击登入 ")])),_:1}))]),h(b(I),{size:148,src:c.value,"fallback-src":b(a)},null,8,["src","fallback-src"]),_("b",V,O(m.value),1),_("span",F,O(b(o)),1),_("div",G,O(z.value),1),_("div",H,[K,b(n).expirationTime?(x(),f("div",Q,[X,_("span",null,O(b(n).expirationTime),1)])):g("",!0),_("div",Y,[Z,_("div",ee,O(b(n).sumModel3Count||"0")+" 积分 ",1)]),_("div",se,[te,_("div",ae,O(b(n).sumModel4Count||"0")+" 积分 ",1)]),_("div",ie,[le,_("div",re,O(b(n).sumDrawMjCount||"0")+" 积分 ",1)]),_("div",ne,[ue,_("div",oe,[b(p)?(x(),f("span",pe,"已绑定微信")):(x(),y(b(C),{key:0,text:"",onClick:s[1]||(s[1]=e=>b(u).updateBindwxDialog(!0))},{default:j((()=>[k(" 点击绑定微信 ")])),_:1}))])])])]))}}),me={class:"flex flex-col justify-center items-center"},ve={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},de=_("span",null,"Profile",-1),xe={class:"mt-3 text-lg text-[#555]"},fe={class:"text-[#95aac9] mt-2"},_e={class:"text-[#555] mt-3 px-4"},ye={class:"self-start mt-16"},je=_("div",{class:"text-xl text-primary"}," 我在本站的使用记录 ",-1),ke={class:"flex items-center space-x-4 pl-3 mt-3"},ge=_("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型积分:",-1),he={class:"w-[230px]"},we={class:"flex items-center space-x-4 pl-3 mt-3"},be=_("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型积分:",-1),Ce={class:"w-[230px]"},Ie={class:"flex items-center space-x-4 pl-3 mt-3"},ze=_("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型使用:",-1),Me={class:"w-[230px]"},Te={class:"flex items-center space-x-4 pl-3 mt-3"},Be=_("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型使用:",-1),De={class:"w-[230px]"},Le={class:"flex items-center space-x-4 pl-3 mt-3"},qe=_("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绘画使用积分:",-1),Ue={class:"w-[230px]"},$e={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},We=_("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Ae={class:"w-[230px]"},Oe={key:1},Pe={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},Re=_("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Se={class:"w-[230px]"},Ee={key:0,class:"flex text-[red] pt-8 text-base font-bold"},Je=_("span",null,"会员过期时间：",-1),Ne={key:1},Ve={class:"flex items-center space-x-4"},Fe={class:"flex-shrink-0 w-[60px]"},Ge={class:"flex-1"},He={class:"flex items-center space-x-4 mt-5"},Ke={class:"flex-shrink-0 w-[60px]"},Qe={class:"flex-1"},Xe={class:"flex space-x-4 mt-5"},Ye={class:"flex-shrink-0 w-[60px]"},Ze={class:"flex-1"},es=m({__name:"index",setup(m){const E=t(),J=s(),N=e(),V=w(0),F=v((()=>J.userBalance)),G=v((()=>{var e;return null==(e=J.globalConfig)?void 0:e.isUseWxLogin})),H=w(!0),K=v((()=>J.isLogin)),Q=z(),X=v((()=>J.userInfo.email||"")),Y=v((()=>J.userInfo.isBindWx)),Z=w(J.userInfo.avatar??a),ee=w(J.userInfo.username??"未登录"),se=w(J.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。"),te=w(!1),{isSmallLg:ae,isMobile:ie}=i();async function le(){const e=await l();V.value=e.data||0}async function re(){(await o()).success&&Q.success("已同步数据完成"),le()}async function ne(e){try{te.value=!0;const s=await p(e);if(te.value=!1,!s.success)return Q.error(s.message);Q.success(c("common.updateUserSuccess")),J.getUserInfo()}catch(s){te.value=!1}}function ue(){J.logOut(),N.push("/")}return d((()=>{K.value||J.setLoginDialog(!0),le()})),setTimeout((()=>{H.value=!1}),500),(e,s)=>(x(),y(b(A),{"has-sider":"",class:"flex h-full"},{default:j((()=>[b(ae)?g("",!0):(x(),y(b(M),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:j((()=>[_("div",me,[_("div",ve,[de,h(b(C),{tertiary:"",type:"error",onClick:ue},{default:j((()=>[k(" 退出登录 ")])),_:1})]),h(b(I),{size:148,src:Z.value,"fallback-src":b(a)},null,8,["src","fallback-src"]),_("b",xe,O(ee.value),1),_("span",fe,O(b(X)),1),_("div",_e,O(se.value),1),_("div",ye,[je,_("div",ke,[ge,_("div",he,O(b(F).useModel3Count||"0")+" 积分 ",1)]),_("div",we,[be,_("div",Ce,O(b(F).useModel4Count||"0")+" 积分 ",1)]),_("div",Ie,[ze,_("div",Me,O(b(F).useModel3Token||"0")+" Token ",1)]),_("div",Te,[Be,_("div",De,O(b(F).useModel4Token||"0")+" Token ",1)]),_("div",Le,[qe,_("div",Ue,O(b(F).useDrawMjToken||"0")+" 积分 ",1)]),b(G)?(x(),f("div",$e,[We,_("div",Ae,[b(Y)?(x(),f("span",Oe,"已绑定微信")):(x(),y(b(C),{key:0,text:"",onClick:s[0]||(s[0]=e=>b(E).updateBindwxDialog(!0))},{default:j((()=>[k(" 点击绑定微信 ")])),_:1}))])])):g("",!0),V.value>0?(x(),f("div",Pe,[Re,_("div",Se,[h(b(C),{text:"",onClick:re},{default:j((()=>[k(" 点击同步访客数据 ")])),_:1})])])):g("",!0)])]),b(F).expirationTime?(x(),f("div",Ee,[Je,_("span",null,O(b(F).expirationTime),1)])):g("",!0)])),_:1})),_("div",{class:P(["flex flex-col",[b(ie)?"w-full":"flex-1"]]),style:R({padding:b(ie)?"10px":"0 28px 0 28px"})},[h(b(S),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(b(ie),1)},null,8,["padding"]),h(b(W),{type:"line",animated:"",class:"mt-5 flex-1"},{default:j((()=>[b(ae)?(x(),y(b(T),{key:0,name:"detail",tab:"我的详情"},{default:j((()=>[h(ce)])),_:1})):g("",!0),h(b(T),{name:"account",tab:"我的钱包"},{default:j((()=>[h(r)])),_:1}),h(b(T),{name:"baseInfo",tab:"基础信息"},{default:j((()=>[h(b(B),null,{header:j((()=>[H.value||!b(K)?(x(),y(b(D),{key:0,size:"medium",width:"20%"})):(x(),f("div",Ne,"用户基础设置"))])),default:j((()=>[H.value||!b(K)?(x(),y(b(L),{key:0,vertical:""},{default:j((()=>[h(b(D),{height:"40px",size:"medium"}),h(b(D),{height:"40px",size:"medium"}),h(b(D),{height:"80px",size:"medium"})])),_:1})):(x(),y(b(q),{key:1,"x-gap":"12",cols:1},{default:j((()=>[h(b(U),null,{default:j((()=>[_("div",Ve,[_("span",Fe,O(e.$t("setting.avatarLink")),1),_("div",Ge,[h(b($),{value:Z.value,"onUpdate:value":s[1]||(s[1]=e=>Z.value=e),placeholder:"请填写头像地址"},null,8,["value"])]),h(b(C),{size:"tiny",text:"",type:"primary",onClick:s[2]||(s[2]=e=>ne({avatar:Z.value}))},{default:j((()=>[k(O(e.$t("common.update")),1)])),_:1})]),_("div",He,[_("span",Ke,O(e.$t("setting.name")),1),_("div",Qe,[h(b($),{value:ee.value,"onUpdate:value":s[3]||(s[3]=e=>ee.value=e),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),h(b(C),{size:"tiny",text:"",type:"primary",onClick:s[4]||(s[4]=e=>ne({username:ee.value}))},{default:j((()=>[k(O(e.$t("common.update")),1)])),_:1})]),_("div",Xe,[_("span",Ye,O(e.$t("setting.sign")),1),_("div",Ze,[h(b($),{value:se.value,"onUpdate:value":s[5]||(s[5]=e=>se.value=e),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),h(b(C),{size:"tiny",text:"",type:"primary",onClick:s[6]||(s[6]=e=>ne({sign:se.value}))},{default:j((()=>[k(O(e.$t("common.update")),1)])),_:1})])])),_:1})])),_:1}))])),_:1})])),_:1}),h(b(T),{name:"password",tab:"密码管理"},{default:j((()=>[h(n)])),_:1}),h(b(T),{name:"invite",tab:"邀请得福利"},{default:j((()=>[h(u)])),_:1})])),_:1})],6)])),_:1}))}});export{es as default};
