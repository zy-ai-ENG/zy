import{d as e,b as a,v as s,f as t,c as l,y as i,P as n,z as u,o as c,i as r,j as x,k as p,w as d,$ as f,h as o,N as m,l as v,n as y,H as k,m as w,u as g,g as _,bt as b,ar as h,bu as C,bv as I,K as z,L,bw as j,bx as M,ae as T,by as B,bz as D,as as $,M as U,a3 as S,a9 as A,bA as N,bB as P,t as W}from"../main-c6e244ef.js";import{_ as O}from"../titleBar.vue_vue_type_script_setup_true_lang/titleBar.vue_vue_type_script_setup_true_lang.b7aa6d88.js";import{N as H}from"../LayoutSider/LayoutSider.5d69fde7.js";const K={class:"flex flex-col justify-center items-center"},q={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},E=x("span",null,"Profile",-1),F={class:"mt-3 text-lg text-[#555]"},G={class:"text-[#95aac9] mt-2"},J={class:"text-[#555] mt-3 px-4"},Q={class:"self-start"},R=x("div",{class:"flex pl-3 pt-3 text-base font-bold text-primary"},[x("span",null,"我的账户余额")],-1),V={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},X=x("span",null,"会员过期时间：",-1),Y={class:"flex items-center space-x-4 pl-3 mt-3"},Z=x("span",{class:"flex-shrink-0 w-24 text-primary"},"基础模型余额:",-1),ee={class:"w-[200px]"},ae={class:"flex items-center space-x-4 pl-3 mt-3"},se=x("span",{class:"flex-shrink-0 w-24 text-primary"},"高级模型余额:",-1),te={class:"w-[200px]"},le={class:"flex items-center space-x-4 pl-3 mt-3"},ie=x("span",{class:"flex-shrink-0 w-24 text-primary"},"绘画余额:",-1),ne={class:"w-[200px]"},ue={class:"flex items-center space-x-4 pl-3 mt-3"},ce=x("span",{class:"flex-shrink-0 w-24 text-primary"},"绑定微信:",-1),re={class:"w-[200px]"},xe={key:1},pe=e({__name:"detail",setup(e){const g=a(),_=s(),{userBalance:b}=g,h=t(),C=l((()=>g.userInfo.email||"")),I=l((()=>g.userInfo.isBindWx)),z=i(g.userInfo.avatar??n),L=i(g.userInfo.username??"未登录"),j=i(g.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。");function M(){g.logOut(),_.push("/")}const T=l((()=>g.isLogin));return u((()=>{T.value||g.setLoginDialog(!0)})),(e,a)=>(c(),r("div",K,[x("div",q,[E,T.value?(c(),p(o(m),{key:0,tertiary:"",type:"error",onClick:M},{default:d((()=>[f(" 退出登录 ")])),_:1})):v("",!0),T.value?v("",!0):(c(),p(o(m),{key:1,tertiary:"",type:"success",onClick:a[0]||(a[0]=e=>o(g).setLoginDialog(!0))},{default:d((()=>[f(" 点击登入 ")])),_:1}))]),y(o(k),{size:148,src:z.value,"fallback-src":o(n)},null,8,["src","fallback-src"]),x("b",F,w(L.value),1),x("span",G,w(C.value),1),x("div",J,w(j.value),1),x("div",Q,[R,o(b).expirationTime?(c(),r("div",V,[X,x("span",null,w(o(b).expirationTime),1)])):v("",!0),x("div",Y,[Z,x("div",ee,w(o(b).sumModel3Count||"0")+" 积分 ",1)]),x("div",ae,[se,x("div",te,w(o(b).sumModel4Count||"0")+" 积分 ",1)]),x("div",le,[ie,x("div",ne,w(o(b).sumDrawMjCount||"0")+" 积分 ",1)]),x("div",ue,[ce,x("div",re,[I.value?(c(),r("span",xe,"已绑定微信")):(c(),p(o(m),{key:0,text:"",onClick:a[1]||(a[1]=e=>o(h).updateBindwxDialog(!0))},{default:d((()=>[f(" 点击绑定微信 ")])),_:1}))])])])]))}}),de={class:"flex flex-col justify-center items-center"},fe={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},oe=x("span",null,"Profile",-1),me={class:"mt-3 text-lg text-[#555]"},ve={class:"text-[#95aac9] mt-2"},ye={class:"text-[#555] mt-3 px-4"},ke={class:"self-start mt-16"},we=x("div",{class:"text-xl text-primary"}," 我在本站的使用记录 ",-1),ge={class:"flex items-center space-x-4 pl-3 mt-3"},_e=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型积分:",-1),be={class:"w-[230px]"},he={class:"flex items-center space-x-4 pl-3 mt-3"},Ce=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型积分:",-1),Ie={class:"w-[230px]"},ze={class:"flex items-center space-x-4 pl-3 mt-3"},Le=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型使用:",-1),je={class:"w-[230px]"},Me={class:"flex items-center space-x-4 pl-3 mt-3"},Te=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型使用:",-1),Be={class:"w-[230px]"},De={class:"flex items-center space-x-4 pl-3 mt-3"},$e=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绘画使用积分:",-1),Ue={class:"w-[230px]"},Se={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},Ae=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Ne={class:"w-[230px]"},Pe={key:1},We={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},Oe=x("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),He={class:"w-[230px]"},Ke={key:0,class:"flex text-[red] pt-8 text-base font-bold"},qe=x("span",null,"会员过期时间：",-1),Ee={key:1},Fe={class:"flex items-center space-x-4"},Ge={class:"flex-shrink-0 w-[60px]"},Je={class:"flex-1"},Qe={class:"flex items-center space-x-4 mt-5"},Re={class:"flex-shrink-0 w-[60px]"},Ve={class:"flex-1"},Xe={class:"flex space-x-4 mt-5"},Ye={class:"flex-shrink-0 w-[60px]"},Ze={class:"flex-1"},ea=e({__name:"index",setup(e){const K=t(),q=a(),E=s(),F=i(0),G=l((()=>q.userBalance)),J=l((()=>{var e;return null==(e=q.globalConfig)?void 0:e.isUseWxLogin})),Q=i(!0),R=l((()=>q.isLogin)),V=g(),X=l((()=>q.userInfo.email||"")),Y=l((()=>q.userInfo.isBindWx)),Z=i(q.userInfo.avatar??n),ee=i(q.userInfo.username??"未登录"),ae=i(q.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。"),se=i(!1),{isSmallLg:te,isMobile:le}=_();async function ie(){const e=await b();F.value=e.data||0}async function ne(){(await N()).success&&V.success("已同步数据完成"),ie()}async function ue(e){try{se.value=!0;const a=await P(e);if(se.value=!1,!a.success)return V.error(a.message);V.success(W("common.updateUserSuccess")),q.getUserInfo()}catch(a){se.value=!1}}function ce(){q.logOut(),E.push("/")}return u((()=>{R.value||q.setLoginDialog(!0),ie()})),setTimeout((()=>{Q.value=!1}),500),(e,a)=>(c(),p(o(A),{"has-sider":"",class:"flex h-full"},{default:d((()=>[o(te)?v("",!0):(c(),p(o(H),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:d((()=>[x("div",de,[x("div",fe,[oe,y(o(m),{tertiary:"",type:"error",onClick:ce},{default:d((()=>[f(" 退出登录 ")])),_:1})]),y(o(k),{size:148,src:Z.value,"fallback-src":o(n)},null,8,["src","fallback-src"]),x("b",me,w(ee.value),1),x("span",ve,w(X.value),1),x("div",ye,w(ae.value),1),x("div",ke,[we,x("div",ge,[_e,x("div",be,w(G.value.useModel3Count||"0")+" 积分 ",1)]),x("div",he,[Ce,x("div",Ie,w(G.value.useModel4Count||"0")+" 积分 ",1)]),x("div",ze,[Le,x("div",je,w(G.value.useModel3Token||"0")+" Token ",1)]),x("div",Me,[Te,x("div",Be,w(G.value.useModel4Token||"0")+" Token ",1)]),x("div",De,[$e,x("div",Ue,w(G.value.useDrawMjToken||"0")+" 积分 ",1)]),J.value?(c(),r("div",Se,[Ae,x("div",Ne,[Y.value?(c(),r("span",Pe,"已绑定微信")):(c(),p(o(m),{key:0,text:"",onClick:a[0]||(a[0]=e=>o(K).updateBindwxDialog(!0))},{default:d((()=>[f(" 点击绑定微信 ")])),_:1}))])])):v("",!0),F.value>0?(c(),r("div",We,[Oe,x("div",He,[y(o(m),{text:"",onClick:ne},{default:d((()=>[f(" 点击同步访客数据 ")])),_:1})])])):v("",!0)])]),G.value.expirationTime?(c(),r("div",Ke,[qe,x("span",null,w(G.value.expirationTime),1)])):v("",!0)])),_:1})),x("div",{class:U(["flex flex-col",[o(le)?"w-full":"flex-1"]]),style:S({padding:o(le)?"10px":"0 28px 0 28px"})},[y(o(O),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(o(le),1)},null,8,["padding"]),y(o($),{type:"line",animated:"",class:"mt-5 flex-1"},{default:d((()=>[o(te)?(c(),p(o(h),{key:0,name:"detail",tab:"我的详情"},{default:d((()=>[y(pe)])),_:1})):v("",!0),y(o(h),{name:"account",tab:"我的钱包"},{default:d((()=>[y(C)])),_:1}),y(o(h),{name:"baseInfo",tab:"基础信息"},{default:d((()=>[y(o(I),null,{header:d((()=>[Q.value||!R.value?(c(),p(o(z),{key:0,size:"medium",width:"20%"})):(c(),r("div",Ee,"用户基础设置"))])),default:d((()=>[Q.value||!R.value?(c(),p(o(L),{key:0,vertical:""},{default:d((()=>[y(o(z),{height:"40px",size:"medium"}),y(o(z),{height:"40px",size:"medium"}),y(o(z),{height:"80px",size:"medium"})])),_:1})):(c(),p(o(j),{key:1,"x-gap":"12",cols:1},{default:d((()=>[y(o(M),null,{default:d((()=>[x("div",Fe,[x("span",Ge,w(e.$t("setting.avatarLink")),1),x("div",Je,[y(o(T),{value:Z.value,"onUpdate:value":a[1]||(a[1]=e=>Z.value=e),placeholder:"请填写头像地址"},null,8,["value"])]),y(o(m),{size:"tiny",text:"",type:"primary",onClick:a[2]||(a[2]=e=>ue({avatar:Z.value}))},{default:d((()=>[f(w(e.$t("common.update")),1)])),_:1})]),x("div",Qe,[x("span",Re,w(e.$t("setting.name")),1),x("div",Ve,[y(o(T),{value:ee.value,"onUpdate:value":a[3]||(a[3]=e=>ee.value=e),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),y(o(m),{size:"tiny",text:"",type:"primary",onClick:a[4]||(a[4]=e=>ue({username:ee.value}))},{default:d((()=>[f(w(e.$t("common.update")),1)])),_:1})]),x("div",Xe,[x("span",Ye,w(e.$t("setting.sign")),1),x("div",Ze,[y(o(T),{value:ae.value,"onUpdate:value":a[5]||(a[5]=e=>ae.value=e),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),y(o(m),{size:"tiny",text:"",type:"primary",onClick:a[6]||(a[6]=e=>ue({sign:ae.value}))},{default:d((()=>[f(w(e.$t("common.update")),1)])),_:1})])])),_:1})])),_:1}))])),_:1})])),_:1}),y(o(h),{name:"password",tab:"密码管理"},{default:d((()=>[y(B)])),_:1}),y(o(h),{name:"invite",tab:"邀请得福利"},{default:d((()=>[y(D)])),_:1})])),_:1})],6)])),_:1}))}});export{ea as default};
