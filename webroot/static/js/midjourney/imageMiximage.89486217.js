import{_ as e,d as a,a as t,b as l,p as s,N as i,c as o,e as r,f as d}from"../popup/popup.82aac303.js";import{_ as n,a as u}from"../1.1Light/1.1Light.a9718ff8.js";import{_ as v}from"../Line 1/Line 1.30390b32.js";import{_ as c,a as p}from"../police/police.b4a86fcd.js";import{d as g,e as m,c as f,aK as x,b as y,g as k,u as b,y as h,a5 as w,aI as F,aH as A,a8 as I,i as L,l as C,h as S,n as E,k as B,j,F as _,r as D,M as z,$ as N,m as T,aL as P,ah as R,aM as J,o as M,aN as U,_ as O,aO as V,C as q,D as G,E as H}from"../main-c6e244ef.js";import{S as K}from"../index/index.23ae4c01.js";import{a as Q}from"../music/music.51f40153.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.c19f02d9.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.d942390e.js";const W=e=>(q("data-v-104cfe40"),e=e(),G(),e),$={key:1},X={key:2},Y={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},Z={style:{width:"100%"}},ee={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},ae={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},te={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},le={style:{display:"flex","margin-top":"12px"}},se=["onClick"],ie=P('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-104cfe40><img class="logoImg" src="'+r+'" alt="" data-v-104cfe40><div class="titleBox" data-v-104cfe40><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-104cfe40>Mid Journey</p><p class="title2" data-v-104cfe40>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-104cfe40> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),oe={class:"padMapBox"},re={style:{display:"flex","justify-content":"space-between"}},de={style:{display:"flex"}},ne=W((()=>j("div",{style:{"font-size":"15px","font-weight":"500"}},"上传图片（2-5张）",-1))),ue={class:"upLoadContent"},ve={class:"ImgSize",style:{"margin-top":"10px"}},ce={style:{display:"flex","justify-content":"space-between"}},pe={style:{display:"flex"}},ge=W((()=>j("div",{style:{"font-size":"15px","font-weight":"500"}},"图片尺寸",-1))),me={class:"sizeBox"},fe={class:"imgBox"},xe={key:0,src:n,alt:""},ye={key:1,src:u,alt:""},ke=W((()=>j("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),be=W((()=>j("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),he={class:"imgBox"},we={key:0,src:n,alt:""},Fe={key:1,src:u,alt:""},Ae=W((()=>j("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Ie=W((()=>j("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Le={class:"imgBox"},Ce={key:0,src:n,alt:""},Se={key:1,src:u,alt:""},Ee=W((()=>j("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Be=W((()=>j("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),je=W((()=>j("div",{class:"promptBox dark:bg-[#202B3A] bg-[#F5F8FE] text-[#3378ED] dark:text-[#2960BE]"}," 温馨提示：同官方的/blend命令图混图，最多可以上传5张图片进行混图，图片越靠前，权重越高。 ",-1))),_e={class:"radioBox dark:bg-[#15171A] bg-[#FFFFFF]"},De={style:{display:"flex"}},ze=[W((()=>j("img",{src:v,alt:""},null,-1)))],Ne=W((()=>j("p",{style:{"margin-left":"4px","font-size":"10px"}},"快图模式",-1))),Te=[W((()=>j("img",{src:v,alt:""},null,-1)))],Pe=W((()=>j("p",{style:{"margin-left":"4px","font-size":"10px"}},"常规模式",-1))),Re=W((()=>j("div",{style:{display:"flex","align-items":"center"}},[j("img",{style:{width:"12px",height:"12px","margin-right":"4px"},src:d,alt:""}),j("p",{style:{"font-size":"10px"},class:"text-[#A3A5A6] dark:text-[#76777A]"},"免责声明")],-1))),Je={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},Me=W((()=>j("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[j("span",null,"#  创作中心"),j("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),Ue={key:0,class:"w-full",style:{padding:"0 40px","margin-top":"10px"}},Oe={style:{"margin-top":"10px"}},Ve=W((()=>j("div",{style:{position:"relative",padding:"0 40px","margin-right":"12px"},class:"bg-[#fff] dark:bg-[#1F1F38]"},[j("div",{style:{position:"relative"}})],-1))),qe={style:{color:"#eeeeee"},class:"end"},Ge={style:{display:"flex"}},He={key:0,style:{display:"flex"}},Ke=W((()=>j("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:c,alt:""},null,-1))),Qe=["href"],We={key:1,style:{display:"flex"}},$e=W((()=>j("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:p,alt:""},null,-1))),Xe=["href"],Ye=H(g({__name:"imageMiximage",setup(r){const d=m(),n=f((()=>"dark"===d.theme)),u=x(),v=y(),{isMobile:c}=k(),p=b(),g=y(),P=f((()=>g.isLogin));f((()=>g.userInfo.avatar)),f((()=>g.userInfo.username)),f((()=>g.userBalance));const q=f((()=>g.mjDrawForm)),G=h(),H=h([]),W=h("");W.value=w.currentRoute.value.fullPath;const Ye=h();F({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),localStorage.getItem("drawLogList")?H.value=JSON.parse(localStorage.getItem("drawLogList")):F({page:1,size:20}).then((e=>{H.value=e.data.rows,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));const Ze=h(null),ea=()=>{Ze.value.scrollTo({top:0,behavior:"smooth"})},aa=h(),ta=e=>{aa.value=e,ea(),la(e),ra()},la=async e=>{e&&(ia.value=await R({jobId:e}).then((e=>e.data)),oa.value&&ia.value.status>=4&&clearTimeout(oa.value))},sa=e=>{Ye.value=e,ea(),la(e),ra()},ia=h({status:0}),oa=h(),ra=()=>{oa.value&&clearTimeout(oa.value),oa.value=setTimeout((()=>{var e;if((null==(e=ia.value)?void 0:e.status)>=J.DRAWED)return oa.value&&clearTimeout(oa.value),G.value=0,H.value.unshift(ia.value),I.emit("status",G.value),I.emit("newDrawLogList",H.value),aa.value="",Ye.value="",void F({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));ra(),la(Ye.value)}),3e3)};A((()=>{oa.value&&clearTimeout(oa.value),oa.value=null,v.updateDrawId({id:""})})),h(0),h(!1),h(""),h(0),h([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),h(!1),h(0);const da=h(0);setTimeout((()=>{da.value=1}),0);const na=h([]),ua=["jpg","jpeg","png"],va=e=>{"pending"===e.file.status&&fa(e.file.file).then((e=>{let a="data:image/png;base64,"+e;na.value.push(a)})),"removed"===e.file.status&&fa(e.file.file).then((e=>{let a="data:image/png;base64,"+e;na.value=na.value.filter((e=>e!==a))})),I.emit("base64Array",na.value)},ca=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=5?(p.warning("最多只能上传5张图片"),!1):ua.includes(a)&&e.fileList.length<=5},pa=e=>{const a=e.file.name;q.value.extendParam=q.value.extendParam.filter((e=>!e.filename.includes(a))),ga()},ga=async()=>{g.updateMjDrawForm(q.value)},ma=e=>{G.value=e};function fa(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}I.on("upLoadIsShow",(e=>{da.value=e})),I.on("upLoadShow",(e=>{da.value=e}));const xa=h(!1);I.on("error",(e=>{xa.value=e}));const ya=()=>{xa.value=!1},ka=()=>{xa.value=!1,g.checkAuth()&&u.updateVipDialog(!0)},ba=h(!1);I.emit("drawRoute",w.options.history.location);const ha=h(""),wa=h(""),Fa=h(""),Aa=h(""),Ia=h("");Q({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{ha.value=e.data.copyrightTitle,wa.value=e.data.icpNumber,Fa.value=e.data.policeFilingNumber,Aa.value=e.data.icpUrl,Ia.value=e.data.policeFilingUrl}));const La=h(!1),Ca=h(!1);function Sa(e){0==e?La.value=!La.value:1==e&&(Ca.value=!Ca.value)}const Ea=h(0),Ba=h("SQUARE");function ja(e){Ea.value=e,0==e?Ba.value="SQUARE":1==e?Ba.value="PORTRAIT":2==e&&(Ba.value="LANDSCAPE"),I.emit("imageMixImageSize",Ba.value)}h("快图模式");const _a=h(0);function Da(e){_a.value=e}return(r,d)=>(M(),L(_,null,[ba.value?(M(),L("div",{key:0,class:"mask",onClick:d[0]||(d[0]=e=>ba.value=!1)})):C("",!0),S(c)?(M(),L("div",$,[E(l)])):C("",!0),xa.value?(M(),L("div",X,[E(s,{onClosePop:ya,onBuyVip:ka})])):C("",!0),S(c)?C("",!0):(M(),L("div",Y,[S(c)?C("",!0):(M(),B(K,{key:0})),j("div",Z,[j("div",ee,[j("div",ae,[j("div",te,[j("div",le,[(M(!0),L(_,null,D(S(U),(e=>(M(),L("div",{class:z(W.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){w.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&I.emit("upLoadShow",1)}(e)},T(e.menuName),11,se)))),128))]),ie]),j("div",oe,[j("div",re,[j("div",de,[j("div",{class:z(La.value?"putExpand":"putAway")},[E(S(O),{onClick:d[1]||(d[1]=e=>Sa(0)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ne])]),j("div",{class:z(La.value?"modePutExpand":"modePutAway")},[j("div",ue,[j("div",null,[E(S(V),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":va,"on-before-upload":ca,"on-remove":pa,"list-type":"image-card","directory-dnd":""})])])],2)]),j("div",ve,[j("div",ce,[j("div",pe,[j("div",{class:z(Ca.value?"putExpand":"putAway")},[E(S(O),{onClick:d[2]||(d[2]=e=>Sa(1)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ge])]),j("div",{class:z(Ca.value?"modePutExpand":"modePutAway")},[j("div",me,[j("div",{class:z([0==Ea.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:d[3]||(d[3]=e=>ja(0))},[j("div",fe,[n.value?(M(),L("img",xe)):(M(),L("img",ye))]),ke,be],2),j("div",{class:z([1==Ea.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:d[4]||(d[4]=e=>ja(1))},[j("div",he,[n.value?(M(),L("img",we)):(M(),L("img",Fe))]),Ae,Ie],2),j("div",{class:z([2==Ea.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:d[5]||(d[5]=e=>ja(2))},[j("div",Le,[n.value?(M(),L("img",Ce)):(M(),L("img",Se))]),Ee,Be],2)])],2)]),je,j("div",_e,[j("div",De,[j("div",{class:"radioItem",onClick:d[6]||(d[6]=e=>Da(0))},[j("div",{class:z(["radioItemImgBox",0==_a.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},ze,2),Ne]),j("div",{class:"radioItem",style:{"margin-left":"12px"},onClick:d[7]||(d[7]=e=>Da(1))},[j("div",{class:z(["radioItemImgBox",1==_a.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},Te,2),Pe])]),Re]),E(i,{sendType:1,onGetjobId:sa,onResquestStatus:ma})]),j("div",Je,[Me,0!=H.value.length&&P.value?(M(),L("div",{key:1,class:"drawList",ref_key:"toTop",ref:Ze},[Ye.value?(M(),B(e,{key:0,task:ia.value,onRefresh:sa},null,8,["task"])):C("",!0),aa.value?(M(),B(a,{key:1,task:ia.value,onNewJob:ta},null,8,["task"])):C("",!0),j("div",Oe,[E(t,{drawLogList:H.value,onNewJobId:ta},null,8,["drawLogList"])])],512)):(M(),L("div",Ue,[E(o)])),Ve,j("div",qe,[j("div",Ge,[N("版权所有 © "+T(ha.value)+" ",1),wa.value?(M(),L("div",He,[Ke,j("a",{href:Aa.value||"#"},T(wa.value),9,Qe)])):C("",!0),Fa.value?(M(),L("div",We,[$e,j("a",{href:Ia.value||"#"},T(Fa.value),9,Xe)])):C("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-104cfe40"]]);export{Ye as default};
