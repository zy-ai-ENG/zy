import{d as e,e as a,c as t,y as l,o as i,i as s,j as d,K as n,$ as u,a0 as v,a6 as o,C as r,D as c,E as m,F as g,r as p,a1 as x,m as f,aK as y,b as k,g as h,u as b,aG as w,aO as F,U as A,aF as I,a3 as S,aP as C,aQ as B,l as E,h as L,n as z,k as _,w as j,aL as D,aM as T,_ as P,aN as M,Z as N,Y as U,aR as V,aI as R,af as O,aD as J}from"../main-ef5ef38b.js";import{d as W,_ as q,a as H,b as G,p as K,N as Q,e as $,c as Y}from"../popup/popup.a9519c23.js";import{_ as Z,a as X}from"../1.1Light/1.1Light.a9718ff8.js";import{S as ee}from"../index/index.6c980a6f.js";import{u as ae}from"../index/index.09f38d77.js";import"../draw-fail/draw-fail.50b43169.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.5cfc31e1.js";import"../police/police.b4a86fcd.js";import"../music/music.7673ecde.js";const te="/static/svg/9.16-8968f21a.svg",le="/static/svg/9.16Light-92609f96.svg",ie="/static/svg/4.3-6838831b.svg",se="/static/svg/4.3Light-c190a37f.svg",de=e=>(r("data-v-7e62bb57"),e=e(),c(),e),ne={class:"imgSizeBox"},ue={class:"imgBox"},ve={key:0,src:Z,alt:""},oe={key:1,src:X,alt:""},re=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),ce=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),me={class:"imgBox"},ge={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},pe={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},xe=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),fe=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),ye={class:"imgBox"},ke={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},he={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},be=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),we=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),Fe={class:"imgBox"},Ae={key:0,src:te,alt:""},Ie={key:1,src:le,alt:""},Se=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Ce=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Be={class:"imgBox"},Ee={key:0,src:ie,alt:""},Le={key:1,src:se,alt:""},ze=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),_e=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),je={class:"imgBox"},De={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},Te={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},Pe=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),Me=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Ne={class:"imgBox"},Ue={key:0,src:te,alt:""},Ve={key:1,src:le,alt:""},Re=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Oe=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Je={class:"imgBox"},We={key:0,src:ie,alt:""},qe={key:1,src:se,alt:""},He=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Ge=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),Ke={class:"imgBox"},Qe={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},$e={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Ye=de((()=>d("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),Ze={style:{display:"flex","margin-top":"8px"}},Xe=de((()=>d("div",{style:{margin:"0 4px"}},":",-1))),ea=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),aa=m(e({__name:"imgSize",setup(e){const r=a(),c=t((()=>"dark"===r.theme)),m=l(0),g=l(1),p=l(1),x=l("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=g+":"+p),o.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",ne,[d("div",{class:n([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[d("div",ue,[c.value?(i(),s("img",ve)):(i(),s("img",oe))]),re,ce],2),d("div",{class:n([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[d("div",me,[c.value?(i(),s("img",ge)):(i(),s("img",pe))]),xe,fe],2),d("div",{class:n([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[d("div",ye,[c.value?(i(),s("img",ke)):(i(),s("img",he))]),be,we],2),d("div",{class:n([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[d("div",Fe,[c.value?(i(),s("img",Ae)):(i(),s("img",Ie))]),Se,Ce],2),d("div",{class:n([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[d("div",Be,[c.value?(i(),s("img",Ee)):(i(),s("img",Le))]),ze,_e],2),d("div",{class:n([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[d("div",je,[c.value?(i(),s("img",De)):(i(),s("img",Te))]),Pe,Me],2),d("div",{class:n([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[d("div",Ne,[c.value?(i(),s("img",Ue)):(i(),s("img",Ve))]),Re,Oe],2),d("div",{class:n([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[d("div",Je,[c.value?(i(),s("img",We)):(i(),s("img",qe))]),He,Ge],2),d("div",{class:n([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[d("div",Ke,[c.value?(i(),s("img",Qe)):(i(),s("img",$e)),Ye]),d("div",Ze,[u(d("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>g.value=e),type:"text"},null,512),[[v,g.value]]),Xe,u(d("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>p.value=e),type:"text"},null,512),[[v,p.value]])]),ea],2)]))}}),[["__scopeId","data-v-7e62bb57"]]),ta={class:"loading-text"},la=m(e({__name:"Loading1",props:{gap:{default:10},progress:{default:0},tips:{default:""},bgColor:{},words:{default:["L","O","A","D","I","N","G"]}},setup(e){const l=e,n=a(),u=t((()=>n.theme)),v=t((()=>"dark"===u.value?"#fff":"#000"));return(e,a)=>(i(),s("div",{class:"loading",style:x({background:l.bgColor})},[d("div",ta,[(i(!0),s(g,null,p(l.words,(e=>(i(),s("span",{key:e,style:x({margin:`0 ${l.gap}px`,color:v.value}),class:"loading-text-words"},f(e),5)))),128))])],4))}}),[["__scopeId","data-v-2f5e1775"]]),ia=e=>(r("data-v-0c0d6d9c"),e=e(),c(),e),sa={key:1},da={key:2},na={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},ua={style:{width:"100%"}},va={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},oa={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ra={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ca={style:{display:"flex","margin-top":"12px"}},ma=["onClick"],ga=ia((()=>d("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[d("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),pa={class:"crollBox",style:{"margin-top":"150px","padding-bottom":"300px","overflow-y":"scroll",height:"100%"}},xa={class:"modeBox"},fa=ia((()=>d("div",{class:"modeTitle"},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),ya={class:"modePutExpand"},ka={class:"modeImg"},ha=[ia((()=>d("div",{class:"imgText"},[d("p",null,"Midjourney"),d("p",null,"真实感强")],-1))),ia((()=>d("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],ba=[ia((()=>d("div",{class:"imgText"},[d("p",null,"Niji"),d("p",null,"卡通动漫")],-1))),ia((()=>d("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],wa={key:0,class:"modeSelect"},Fa=ia((()=>d("p",null,"版本",-1))),Aa=["onClick"],Ia={key:1,class:"modeSelect"},Sa=ia((()=>d("p",null,"版本",-1))),Ca=["onClick"],Ba={class:"styleMain"},Ea=ia((()=>d("div",{style:{display:"flex"}},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择")],-1))),La={class:"modePutExpand"},za=["onClick"],_a=["onClick"],ja={class:"styleImgText"},Da=["src"],Ta=[ia((()=>d("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""},null,-1)))],Pa={key:0,class:"padMapBox"},Ma={style:{display:"flex","justify-content":"space-between"}},Na={style:{display:"flex"}},Ua=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Va=ia((()=>d("div",null,[d("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),d("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Ra={class:"upLoadContent"},Oa={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Ja={style:{display:"flex","align-items":"center"}},Wa=ia((()=>d("div",{class:"similarText"},"-- iw 图片相似度",-1))),qa=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Ha=ia((()=>d("div",{style:{width:"280px"}},"--iw 值越高，上传的图像对最终效果的影响就越大",-1))),Ga=ia((()=>d("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),Ka={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Qa=["onClick"],$a={key:1,class:"roleConsistent"},Ya={style:{display:"flex","justify-content":"space-between"}},Za={style:{display:"flex"}},Xa=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),et=ia((()=>d("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),at={class:"upLoadContent"},tt={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},lt={style:{display:"flex","align-items":"center"}},it=ia((()=>d("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),st=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),dt=ia((()=>d("div",{style:{width:"280px"}},"强度为0时会专注面部一致，强度为100时会同时参考面部、头发和衣服。",-1))),nt={style:{width:"102px"}},ut={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},vt={key:2,class:"styleConsistent"},ot={style:{display:"flex","justify-content":"space-between"}},rt={style:{display:"flex"}},ct=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),mt=ia((()=>d("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),gt={class:"upLoadContent"},pt={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},xt={style:{display:"flex","align-items":"center"}},ft=ia((()=>d("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),yt=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),kt=ia((()=>d("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),ht={style:{width:"102px"}},bt={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},wt={class:"imgSize"},Ft={class:"notWant"},At={style:{display:"flex"}},It=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),St={class:"parameterBox"},Ct={style:{display:"flex"}},Bt=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),Et={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Lt=ia((()=>d("div",null,"--seed 种子",-1))),zt=ia((()=>d("div",{class:"parameterLine"},null,-1))),_t={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},jt=ia((()=>d("div",null,"--s 风格化",-1))),Dt=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Tt=ia((()=>d("div",{style:{width:"280px"}},"这个值越低会更符合 prompt 的描述,数值越高艺术性就会越强，但跟 prompt关联性就会比较弱",-1))),Pt={style:{width:"120px"}},Mt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Nt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ut=ia((()=>d("div",null,"--c 多样性",-1))),Vt=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Rt=ia((()=>d("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),Ot={style:{width:"120px"}},Jt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Wt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},qt=ia((()=>d("div",null,"--quality 质量",-1))),Ht=ia((()=>d("div",{class:"parameterLine"},null,-1))),Gt={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},Kt={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Qt=["onClick"],$t={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Yt=ia((()=>d("div",null,"--weird 奇妙",-1))),Zt=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Xt=ia((()=>d("div",{style:{width:"280px"}},"生成的图像引入奇特和离奇的特质，从而产生独特而意想不到的结果",-1))),el={style:{width:"110px"}},al={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},tl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},ll=ia((()=>d("div",null,"--stop 停止",-1))),il=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),sl=ia((()=>d("div",{style:{width:"280px"}},'使用"--stop"参数可以在作业进行到对应的任务百分比时终止任务，比如50，在任务的50%进度时终止任务',-1))),dl={style:{width:"110px"}},nl={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},ul={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},vl={class:"userInfoAvatar"},ol=["src"],rl={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},cl={class:"drawIntegral text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-left":"12px"}},ml={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},gl=ia((()=>d("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[d("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),d("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),pl={key:0,class:"w-full",style:{padding:"0 0px",position:"relative","margin-top":"10px"}},xl={key:0,style:{height:"580px"}},fl={key:1,class:"drawList"},yl={style:{"margin-top":"10px"}},kl={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},hl={key:0,class:"tipBox dark:bg-[#202B3A] bg-[#f9f9f9]"},bl={class:"tip dark:bg-[#202B3A] bg-[#f9f9f9]"},wl=ia((()=>d("p",null,"推荐关键词",-1))),Fl={class:"itemBox"},Al=["onClick"],Il={style:{"margin-right":"12px"}},Sl=["src"],Cl={style:{"font-size":"15px"}},Bl={style:{"font-size":"13px"}},El=m(e({__name:"text2image",setup(e){const a=y(),r=k(),{isMobile:c}=h(),m=l(),$=k(),Z=ae(),X=t((()=>Z.openRegionDialog)),te=t((()=>$.isLogin)),le=t((()=>$.userInfo.avatar)),ie=t((()=>$.userInfo.username)),se=t((()=>$.userBalance)),de=t((()=>$.mjDrawForm)),ne=l(),ue=b(),ve=l([]),oe=l(0);w({page:1,size:20}).then((e=>{let a=e.data.rows;ve.value=a,oe.value=1}));const re=l([]);F({page:1,size:20}).then((e=>{console.log("推荐词",e),re.value=e.data.rows}));const ce=l({status:0}),me=async e=>{if(!e)return;const a=await O({jobId:e});ce.value=a.data;const t=a.data;if(6===a.data.status)return 9===t.action?Z.openRegionModal(!0,{customId:t.customId,taskId:t.id,mode:t.mode}):$.updateRemixModal(!0,{prompt:"",taskId:t.id,customId:t.customId}),void(ke.value&&clearTimeout(ke.value));if(ke.value&&ce.value.status>=4&&clearTimeout(ke.value),ce.value.status>=3){m.value=0,o.emit("status",m.value),ke.value&&clearTimeout(ke.value),ke.value&&clearTimeout(ke.value),m.value=0,o.emit("status",m.value);0==ve.value.filter((e=>e.id==ce.value.id)).length?ve.value.push(ce.value):console.log("重复了"),o.emit("newDrawLogList",ve.value),ge.value="",ne.value="",w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}))}};A((()=>X.value),(e=>{e||setTimeout((()=>{ne.value?me(ne.value):ge.value&&me(ge.value),he()}),1e3)}));const ge=l(),pe=l(null),xe=async()=>{let e=pe.value;await e.scrollTo({top:e.scrollHeight+e.clientHeight,behavior:"smooth"})},fe=e=>{ge.value=e,me(e),he(),xe()},ye=e=>{ne.value=e,me(e),he(),xe()},ke=l(),he=()=>{ke.value&&clearTimeout(ke.value),ke.value=setTimeout((()=>{var e,a,t;if((null==(e=ce.value)?void 0:e.status)===D.DRAWED||(null==(a=ce.value)?void 0:a.status)===D.DRAWFAIL||(null==(t=ce.value)?void 0:t.status)===D.DRAWTIMEOUT)return ke.value&&clearTimeout(ke.value),m.value=0,o.emit("status",m.value),ve.value.push(ce.value),o.emit("newDrawLogList",ve.value),ge.value="",ne.value="",void w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));he(),ne.value?me(ne.value):ge.value&&me(ge.value)}),3e3)};I((()=>{ke.value&&clearTimeout(ke.value),ke.value=null,r.updateDrawId({id:""})}));const be=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:" 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:" 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:" 5"}],we=[{name:"Niji 6",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6"},{name:"Niji 5",intro:"增加真实风格图像细节",id:1,value:" 5"},{name:"Niji 4",intro:"专注真实艺术风格图像",id:2,value:" 4"}],Fe=l(0),Ae=l(!0);function Ie(e){Fe.value=e.index,o.emit("--v",e.item.value),0!=e.item.id?Ae.value=!1:Ae.value=!0}const Se=l(!1);function Ce(e){Se.value=e,e||(Be.value="")}const Be=l("");l(0),l([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),l(!1),l(0);const Ee=l([]),Le=["jpg","jpeg","png"],ze=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,t)=>{const l=new FileReader;l.readAsDataURL(a),l.onload=function(){const a=l.result.split(",")[1];e(a)},l.onerror=function(){t(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;Ee.value.push(a)})),"removed"===e.file.status&&(Ee.value=[])},_e=l("/api/upload/file"),je=new FormData,De=new FormData,Te=new FormData,Pe=l([]),Me=l([]),Ne=l([]),Ue=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ue.warning("最多只能上传3张图片"),!1;je.append("file",e.file.file);const l=await J.post(_e.value,je,{headers:{"Content-Type":"multipart/form-data"}});return je.delete("file"),Pe.value=[...Pe.value,{url:l.data.data,name:t}],console.log("垫图",Pe.value),o.emit("pidImgList",Pe.value),Le.includes(a)&&e.fileList.length<=3},Ve=e=>{const a=e.file.name,t=e.file.name.split(".")[0];de.value.extendParam=de.value.extendParam.filter((e=>!e.filename.includes(a))),Pe.value=Pe.value.filter((e=>e.name!=t)),o.emit("pidImgList",Pe.value),qe()},Re=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=1)return ue.warning("最多只能上传1张图片"),!1;De.append("file",e.file.file);const l=await J.post(_e.value,De,{headers:{"Content-Type":"multipart/form-data"}});return De.delete("file"),Me.value=[...Me.value,{url:l.data.data,name:t}],console.log("角色",Me.value),o.emit("roleImgList",Me.value),Le.includes(a)&&e.fileList.length<=1},Oe=e=>{const a=e.file.name,t=e.file.name.split(".")[0];de.value.extendParam=de.value.extendParam.filter((e=>!e.filename.includes(a))),Me.value=Me.value.filter((e=>e.name!=t)),o.emit("roleImgList",Me.value),qe()},Je=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ue.warning("最多只能上传3张图片"),!1;Te.append("file",e.file.file);const l=await J.post(_e.value,Te,{headers:{"Content-Type":"multipart/form-data"}});return Te.delete("file"),Ne.value=[...Ne.value,{url:l.data.data,name:t}],console.log("风格",Ne.value),o.emit("styleImgList",Ne.value),Le.includes(a)&&e.fileList.length<=3},We=e=>{const a=e.file.name,t=e.file.name.split(".")[0];Ne.value=Ne.value.filter((e=>e.name!=t)),o.emit("styleImgList",Ne.value),de.value.extendParam=de.value.extendParam.filter((e=>!e.filename.includes(a))),qe()},qe=async()=>{$.updateMjDrawForm(de.value)};const He=l(!1);o.on("error",(e=>{He.value=e}));const Ge=()=>{He.value=!1},Ke=()=>{He.value=!1,$.checkAuth()&&a.updateVipDialog(!0)},Qe=l(!1);o.emit("drawRoute",S.options.history.location);const $e=l("/midjourney/text-to-image");$e.value=S.currentRoute.value.fullPath;const Ye=l(0);function Ze(e){Ye.value=e,Fe.value=0,0==e?(o.emit("MjOrNj","--v"),o.emit("--v",be[0].value)):1==e&&(o.emit("MjOrNj","--niji"),o.emit("--v",we[0].value))}const Xe=l(0),ea=l(null),ta=l([]);C({page:1,size:20,type:"style"}).then((e=>{let a=e.data.filter((e=>2==e.level));ta.value=a,El(ta.value[0].pid)}));const ia=l([]);function El(e){B({id:e}).then((e=>{console.log(e.data.rows[0].children),e.data.rows.length&&(ia.value=e.data.rows[0].children)}))}const Ll=e=>{m.value=e,1==e&&(zl.value=0,_l.value=0,Pl.value=0,Ml.value=0,Ul.value=10,Nl.value=0,Zl.value="",o.emit("--cw",zl.value),o.emit("--sw",_l.value),o.emit("--s",Pl.value),o.emit("--c",Ml.value),o.emit("--weird",Nl.value),o.emit("--stop",Ul.value),o.emit("--no",Zl.value))},zl=l(0),_l=l(0);function jl(){o.emit("--cw",zl.value)}function Dl(){o.emit("--sw",_l.value)}const Tl=l(0),Pl=l(0),Ml=l(0),Nl=l(0),Ul=l(10);function Vl(){o.emit("--s",Pl.value)}function Rl(){o.emit("--c",Ml.value)}function Ol(){o.emit("--weird",Nl.value)}function Jl(){o.emit("--stop",Ul.value)}l(!1),A((()=>X.value),(e=>{e||handleQueryTaskByPage()}));const Wl=l(!1),ql=l(!1),Hl=l(!1),Gl=l(!1),Kl=l(!1),Ql=l(!1),$l=l(!1);function Yl(e){0==e?Wl.value=!Wl.value:1==e?ql.value=!ql.value:2==e?Hl.value=!Hl.value:3==e?Gl.value=!Gl.value:4==e?Kl.value=!Kl.value:5==e?Ql.value=!Ql.value:6==e&&($l.value=!$l.value)}const Zl=l("");function Xl(){o.emit("--no",Zl.value)}const ei=l(""),ai=l([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);ei.value=ai.value[0].name;const ti=l(!1),li=l(!1);function ii(){li.value=!li.value}const si=l([{name:"1x - 默认",id:0,isSelect:!0,value:1},{name:"0.25x",id:1,isSelect:!1,value:.25},{name:"0.5x",id:2,isSelect:!1,value:.5}]),di=l("");function ni(){o.emit("--seed",Tl.value)}di.value=si.value[0].name;const ui=l();const vi=l(!1);function oi(){vi.value=!vi.value}const ri=l(!1);return o.on("isFocus",(e=>{ri.value=e})),(e,a)=>{var t;return i(),s(g,null,[Qe.value?(i(),s("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>Qe.value=!1)})):E("",!0),L(c)?(i(),s("div",sa,[z(G)])):E("",!0),He.value?(i(),s("div",da,[z(K,{onClosePop:Ge,onBuyVip:Ke})])):E("",!0),L(c)?E("",!0):(i(),s("div",na,[L(c)?E("",!0):(i(),_(ee,{key:0})),d("div",ua,[d("div",va,[d("div",oa,[d("div",ra,[d("div",ca,[(i(!0),s(g,null,p(L(T),(e=>(i(),s("div",{class:n($e.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){S.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&o.emit("upLoadShow",1)}(e)},f(e.menuName),11,ma)))),128))]),ga]),d("div",pa,[d("div",xa,[fa,d("div",ya,[d("div",ka,[d("div",{style:{"margin-right":"8px"},onClick:a[1]||(a[1]=e=>Ze(0)),class:n(0==Ye.value?"select":"unSelect")},ha,2),d("div",{onClick:a[2]||(a[2]=e=>Ze(1)),class:n(1==Ye.value?"select":"unSelect")},ba,2)]),0==Ye.value?(i(),s("div",wa,[Fa,(i(),s(g,null,p(be,((e,a)=>d("div",{class:n(Fe.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Ie({item:e,index:a})},f(e.name),11,Aa))),64))])):E("",!0),1==Ye.value?(i(),s("div",Ia,[Sa,(i(),s(g,null,p(we,((e,a)=>d("div",{class:n(Fe.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Ie({item:e,index:a})},f(e.name),11,Ca))),64))])):E("",!0)])]),d("div",Ba,[Ea,d("div",La,[d("div",{class:"styleBox",ref_key:"container",ref:ea},[(i(!0),s(g,null,p(ta.value,((e,a)=>(i(),s("div",{class:n(Xe.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){Xe.value=e,El(ta.value[e].pid);let a=ea.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},f(e.classifyName),11,za)))),128))],512),d("div",{class:"styleImgBox",style:x(vi.value?"height: auto":"max-height:285px")},[(i(!0),s(g,null,p(ia.value,((e,a)=>(i(),s("div",{class:n(ui.value==a?"styleImgItemSelect":"styleImgItem"),onClick:t=>{return l={item:e,index:a},ui.value=l.index,void o.emit("styleWord",l.item.incantationEn);var l}},[d("div",ja,f(e.incantationCn),1),d("img",{src:e.img,alt:""},null,8,Da)],10,_a)))),256))],4),ia.value.length>9?(i(),s("div",{key:0,onClick:oi,class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},Ta)):E("",!0)])]),Ae.value?(i(),s("div",Pa,[d("div",Ma,[d("div",Na,[d("div",{class:n(Hl.value?"putExpand":"putAway")},[z(L(P),{onClick:a[3]||(a[3]=e=>Yl(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Ua])]),d("div",{class:n(Hl.value?"modePutExpand":"modePutAway")},[Va,d("div",Ra,[d("div",null,[z(L(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Ue,"on-remove":Ve,"list-type":"image-card","directory-dnd":""})])]),d("div",Oa,[d("div",Ja,[Wa,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[qa])),default:j((()=>[Ha])),_:1}),Ga,d("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[4]||(a[4]=e=>{ti.value=!ti.value})},[d("div",null,f(ei.value),1),z(L(P),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),ti.value?(i(),s("div",Ka,[(i(!0),s(g,null,p(ai.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){ai.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,ei.value=e.name,ti.value=!1,o.emit("--iw",e.value)}(e)},[U(f(e.name)+" ",1),e.isSelect?(i(),_(L(P),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Qa)))),128))])):E("",!0)])])],2)])):E("",!0),Ae.value?(i(),s("div",$a,[d("div",Ya,[d("div",Za,[d("div",{class:n(Gl.value?"putExpand":"putAway")},[z(L(P),{onClick:a[5]||(a[5]=e=>Yl(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Xa])]),d("div",{class:n(Gl.value?"modePutExpand":"modePutAway")},[et,d("div",at,[d("div",null,[z(L(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Re,"on-remove":Oe,"list-type":"image-card","directory-dnd":""})])]),d("div",tt,[d("div",lt,[it,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[st])),default:j((()=>[dt])),_:1}),d("div",nt,[z(L(R),{vertical:""},{default:j((()=>[z(L(V),{value:zl.value,"onUpdate:value":a[6]||(a[6]=e=>zl.value=e),step:1,max:100,onDragend:jl},null,8,["value"])])),_:1})]),d("div",ut,f(zl.value),1)])])],2)])):E("",!0),Ae.value?(i(),s("div",vt,[d("div",ot,[d("div",rt,[d("div",{class:n(Kl.value?"putExpand":"putAway")},[z(L(P),{onClick:a[7]||(a[7]=e=>Yl(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ct])]),d("div",{class:n(Kl.value?"modePutExpand":"modePutAway")},[mt,d("div",gt,[d("div",null,[z(L(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Je,"on-remove":We,"list-type":"image-card","directory-dnd":""})])]),d("div",pt,[d("div",xt,[ft,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[yt])),default:j((()=>[kt])),_:1}),d("div",ht,[z(L(R),{vertical:""},{default:j((()=>[z(L(V),{value:_l.value,"onUpdate:value":a[8]||(a[8]=e=>_l.value=e),step:1,max:100,onDragend:Dl},null,8,["value"])])),_:1})]),d("div",bt,f(_l.value),1)])])],2)])):E("",!0),d("div",wt,[z(aa)]),d("div",Ft,[d("div",At,[d("div",{class:n(Ql.value?"putExpand":"putAway")},[z(L(P),{onClick:a[9]||(a[9]=e=>Yl(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),It]),d("div",{class:n(Ql.value?"modePutExpand":"modePutAway")},[u(d("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:Xl,"onUpdate:modelValue":a[10]||(a[10]=e=>Zl.value=e)},null,544),[[v,Zl.value]])],2)]),d("div",St,[d("div",Ct,[d("div",{class:n($l.value?"putExpand":"putAway")},[z(L(P),{onClick:a[11]||(a[11]=e=>Yl(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Bt]),d("div",{class:n($l.value?"modePutExpand":"modePutAway")},[d("div",Et,[Lt,zt,u(d("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[12]||(a[12]=e=>Tl.value=e),onInput:ni,type:"number"},null,544),[[v,Tl.value]])]),d("div",_t,[jt,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[Dt])),default:j((()=>[Tt])),_:1}),d("div",Pt,[z(L(R),{vertical:""},{default:j((()=>[z(L(V),{value:Pl.value,"onUpdate:value":a[13]||(a[13]=e=>Pl.value=e),step:1,max:100,onDragend:Vl},null,8,["value"])])),_:1})]),d("div",Mt,f(Pl.value),1)]),d("div",Nt,[Ut,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[Vt])),default:j((()=>[Rt])),_:1}),d("div",Ot,[z(L(R),{vertical:""},{default:j((()=>[z(L(V),{value:Ml.value,"onUpdate:value":a[14]||(a[14]=e=>Ml.value=e),step:1,max:100,onDragend:Rl},null,8,["value"])])),_:1})]),d("div",Jt,f(Ml.value),1)]),d("div",Wt,[qt,Ht,d("div",Gt,[d("div",{style:{display:"flex","justify-content":"space-between",width:"100%"},onClick:ii},[d("div",null,f(di.value),1),d("div",null,[z(L(P),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])]),li.value?(i(),s("div",Kt,[(i(!0),s(g,null,p(si.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){si.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,di.value=e.name,li.value=!1,o.emit("--q",e.value)}(e)},[U(f(e.name)+" ",1),e.isSelect?(i(),_(L(P),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Qt)))),128))])):E("",!0)])]),d("div",$t,[Yt,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[Zt])),default:j((()=>[Xt])),_:1}),d("div",el,[z(L(R),{vertical:""},{default:j((()=>[z(L(V),{value:Nl.value,"onUpdate:value":a[15]||(a[15]=e=>Nl.value=e),step:1,max:100,onDragend:Ol},null,8,["value"])])),_:1})]),d("div",al,f(Nl.value),1)]),d("div",tl,[ll,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[il])),default:j((()=>[sl])),_:1}),d("div",dl,[z(L(R),{vertical:""},{default:j((()=>[z(L(V),{value:Ul.value,"onUpdate:value":a[16]||(a[16]=e=>Ul.value=e),step:1,max:100,min:10,onDragend:Jl},null,8,["value"])])),_:1})]),d("div",nl,f(Ul.value),1)])],2)])]),d("div",ul,[d("div",vl,[d("img",{class:"avatar",src:le.value?le.value:"./img/avatar.png",alt:"",onClick:a[17]||(a[17]=e=>Qe.value=!0)},null,8,ol)]),d("div",null,[d("div",rl,f(ie.value),1),d("div",cl," 绘画积分:"+f(null==(t=se.value)?void 0:t.drawMjCount),1)])])]),d("div",ml,[gl,d("div",{style:{"overflow-y":"auto",position:"relative",flex:"1"},ref_key:"toTop",ref:pe},[0!=ve.value.length||ne.value?E("",!0):(i(),s("div",pl,[0==oe.value&&te.value?(i(),s("div",xl,[z(la)])):E("",!0),0==oe.value&&te.value?E("",!0):(i(),_(Y,{key:1}))])),0!=ve.value.length||ne.value?(i(),s("div",fl,[d("div",yl,[z(W,{drawLogList:ve.value,onNewJobId:fe},null,8,["drawLogList"])]),ne.value?(i(),_(q,{key:0,task:ce.value,onRefresh:ye},null,8,["task"])):E("",!0),ge.value?(i(),_(H,{key:1,task:ce.value,onNewJob:fe},null,8,["task"])):E("",!0)])):E("",!0)],512),d("div",kl,[ri.value?(i(),s("div",hl,[d("div",bl,[wl,z(L(P),{onClick:a[18]||(a[18]=e=>ri.value=!1),style:{cursor:"pointer"},icon:"mdi:close-circle",class:"text-2xl"})]),d("div",Fl,[(i(!0),s(g,null,p(re.value,(e=>(i(),s("div",{class:"tipItem",key:e.id,onClick:a=>function(e){ri.value=!1,o.emit("suggestEn",e.suggestEn)}(e)},[d("div",Il,[d("img",{style:{width:"40px",height:"40px","border-radius":"50%"},src:e.image,alt:""},null,8,Sl)]),d("div",null,[d("p",Cl,f(e.suggestCn),1),d("p",Bl,f(e.suggestEn),1)])],8,Al)))),128))])])):E("",!0),z(Q,{sendType:0,onIsSettingShow:Ce,onGetjobId:ye,onResquestStatus:Ll})])])])])]))],64)}}}),[["__scopeId","data-v-0c0d6d9c"]]);export{El as default};
