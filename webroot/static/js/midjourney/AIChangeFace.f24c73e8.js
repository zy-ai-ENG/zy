import{_ as e,d as a,a as t,b as l,p as s,N as i,c as o,e as r,f as n}from"../popup/popup.82aac303.js";import{_ as d,a as u}from"../police/police.b4a86fcd.js";import{a as v}from"../music/music.51f40153.js";import{d as p,e as c,aK as g,y as m,b as f,g as x,c as h,u as y,aI as b,G as k,aH as F,a8 as w,a5 as L,i as A,l as I,h as C,n as j,k as _,j as B,F as N,r as S,$ as D,m as T,aL as P,aM as E,o as J,M,aN as R,aO as z,C as O,D as U,ah as G,E as V}from"../main-c6e244ef.js";import{S as q}from"../index/index.23ae4c01.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.c19f02d9.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.d942390e.js";const H=e=>(O("data-v-4b807372"),e=e(),U(),e),K={key:1},W={key:2},$={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},Q={style:{width:"100%"}},X={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},Y={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},Z={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ee={style:{display:"flex","margin-top":"12px"}},ae=["onClick"],te=P('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-4b807372><img class="logoImg" src="'+r+'" alt="" data-v-4b807372><div class="titleBox" data-v-4b807372><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-4b807372>Mid Journey</p><p class="title2" data-v-4b807372>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-4b807372> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),le=H((()=>B("div",{class:"first"},"第一步，上传人脸模板图片",-1))),se={class:"padMapBox"},ie=H((()=>B("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]"},"严禁上传违规图(政治人物、色情、暴恐等)违者100%封号",-1))),oe={class:"modePutExpand"},re={class:"upLoadContent"},ne=H((()=>B("div",{class:"intro text-[#A3A5A6] dark:text-[#76777A]"},"注意素材质量，保证脸部足够清晰，为了更好的效果，最好正脸。",-1))),de=H((()=>B("div",{class:"second"},"第二步，上传需要替换人脸的目标图",-1))),ue={class:"padMapBox"},ve=H((()=>B("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]"},"严禁上传违规图(政治人物、色情、暴恐等)违者100%封号",-1))),pe={class:"modePutExpand"},ce={class:"upLoadContent"},ge=H((()=>B("div",{class:"intro text-[#A3A5A6] dark:text-[#76777A]"},"最大2048x2048像素，不超过5MB，建议：五官无遮挡，角度小于20%",-1))),me=H((()=>B("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]",style:{"margin-top":"4px"}},"换脸操作只能在写实版人物上进行，漫回类因面部五官比例不统一，是无法完成换脸操作%",-1))),fe=P('<div class="third" data-v-4b807372>第三步，提交任务</div><div class="thirdIntro dark:text-[#F4F4F4] text-[#03060C]" data-v-4b807372>免责声明： 本功能效果太逼真！请遵守相关法律法规，反对非法用途，包括但不限于侵犯他人隐私、散布虚假信息，进行诈骗等行为！</div><div class="radioBox dark:bg-[#15171A] bg-[#FFFFFF]" data-v-4b807372><div style="display:flex;align-items:center;" data-v-4b807372><img style="width:12px;height:12px;margin-right:4px;" src="'+n+'" alt="" data-v-4b807372><p style="font-size:10px;" class="text-[#A3A5A6] dark:text-[#76777A]" data-v-4b807372>免责声明</p></div></div>',3),xe={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},he=H((()=>B("div",{class:"contentCenterTop border-b-[2px] bg-[#fff] dark:bg-[#15171A] border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[B("span",null,"#  创作中心"),B("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ye={key:0,class:"w-full",style:{padding:"0 40px","margin-top":"10px"}},be={style:{"margin-top":"10px"}},ke={style:{color:"#eeeeee"},class:"end"},Fe={style:{display:"flex"}},we={key:0,style:{display:"flex"}},Le=H((()=>B("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:d,alt:""},null,-1))),Ae=["href"],Ie={key:1,style:{display:"flex"}},Ce=H((()=>B("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:u,alt:""},null,-1))),je=["href"],_e=V(p({__name:"AIChangeFace",setup(r){c();const n=g(),d=m(0);setTimeout((()=>{d.value=1}),0),f();const u=f(),{isMobile:p}=x(),P=f(),O=h((()=>P.isLogin));h((()=>P.userInfo.avatar)),h((()=>P.userInfo.username)),h((()=>P.userBalance));const U=h((()=>P.mjDrawForm)),V=y(),H=m(),_e=m([]),Be=m();b({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),localStorage.getItem("drawLogList")?_e.value=JSON.parse(localStorage.getItem("drawLogList")):b({page:1,size:20}).then((e=>{_e.value=e.data.rows,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),k({files:[],previewImages:[]});const Ne=m(""),Se=["jpg","jpeg","png"],De=e=>{"pending"===e.file.status&&ze(e.file.file).then((e=>{let a="data:image/png;base64,"+e;Ne.value=a,w.emit("sourceBase64",Ne.value)})),"removed"===e.file.status&&ze(e.file.file).then((e=>{Ne.value="",w.emit("sourceBase64",Ne.value)}))},Te=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(V.warning("最多只能上传1张图片"),!1):Se.includes(a)&&e.fileList.length<=1},Pe=e=>{const a=e.file.name;U.value.extendParam=U.value.extendParam.filter((e=>!e.filename.includes(a))),Ee()},Ee=async()=>{P.updateMjDrawForm(U.value)},Je=e=>{"pending"===e.file.status&&ze(e.file.file).then((e=>{let a="data:image/png;base64,"+e;Ne.value=a,w.emit("targetBase64",Ne.value)})),"removed"===e.file.status&&ze(e.file.file).then((e=>{Ne.value="",w.emit("sourceBase64",Ne.value)}))},Me=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(V.warning("最多只能上传1张图片"),!1):Se.includes(a)&&e.fileList.length<=1},Re=e=>{const a=e.file.name;U.value.extendParam=U.value.extendParam.filter((e=>!e.filename.includes(a))),Ee()};function ze(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}const Oe=e=>{Be.value=e},Ue=async e=>{e&&(We.value=await G({jobId:e}).then((e=>e.data)),$e.value&&We.value.status>=4&&clearTimeout($e.value))},Ge=m(null),Ve=()=>{Ge.value.scrollTo({top:0,behavior:"smooth"})},qe=m(),He=e=>{qe.value=e,Ve(),Ue(e),Qe()},Ke=e=>{H.value=e,Ve(),Ue(e),Qe()},We=m({status:0}),$e=m(),Qe=()=>{$e.value&&clearTimeout($e.value),$e.value=setTimeout((()=>{var e;if((null==(e=We.value)?void 0:e.status)>=E.DRAWED)return $e.value&&clearTimeout($e.value),Be.value=0,_e.value.unshift(We.value),w.emit("status",Be.value),w.emit("newDrawLogList",_e.value),qe.value="",H.value="",void b({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));H.value?(Qe(),Ue(H.value)):qe.value&&(Qe(),Ue(qe.value))}),3e3)};F((()=>{$e.value&&clearTimeout($e.value),$e.value=null,u.updateDrawId({id:""})})),m(0),w.on("upLoadIsShow",(e=>{d.value=e})),w.on("upLoadShow",(e=>{d.value=e}));const Xe=m(!1);w.on("error",(e=>{Xe.value=e}));const Ye=()=>{Xe.value=!1},Ze=()=>{Xe.value=!1,P.checkAuth()&&n.updateVipDialog(!0)},ea=m(!1);w.emit("drawRoute",L.options.history.location);const aa=m("");aa.value=L.currentRoute.value.fullPath;const ta=m(""),la=m(""),sa=m(""),ia=m(""),oa=m("");return v({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{ta.value=e.data.copyrightTitle,la.value=e.data.icpNumber,sa.value=e.data.policeFilingNumber,ia.value=e.data.icpUrl,oa.value=e.data.policeFilingUrl})),m(!1),m(!1),m(0),(r,n)=>(J(),A(N,null,[ea.value?(J(),A("div",{key:0,class:"mask",onClick:n[0]||(n[0]=e=>ea.value=!1)})):I("",!0),C(p)?(J(),A("div",K,[j(l)])):I("",!0),Xe.value?(J(),A("div",W,[j(s,{onClosePop:Ye,onBuyVip:Ze})])):I("",!0),C(p)?I("",!0):(J(),A("div",$,[C(p)?I("",!0):(J(),_(q,{key:0})),B("div",Q,[B("div",X,[B("div",Y,[B("div",Z,[B("div",ee,[(J(!0),A(N,null,S(C(R),(e=>(J(),A("div",{class:M(aa.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){L.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&w.emit("upLoadShow",1)}(e)},T(e.menuName),11,ae)))),128))]),te]),le,B("div",se,[ie,B("div",oe,[B("div",re,[B("div",null,[j(C(z),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":De,"on-before-upload":Me,"on-remove":Re,"list-type":"image-card","directory-dnd":""})])])]),ne]),de,B("div",ue,[ve,B("div",pe,[B("div",ce,[B("div",null,[j(C(z),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Je,"on-before-upload":Te,"on-remove":Pe,"list-type":"image-card","directory-dnd":""})])])]),ge,me]),fe,j(i,{sendType:1,onGetjobId:Ke,onResquestStatus:Oe})]),B("div",xe,[he,0!=_e.value.length&&O.value?(J(),A("div",{key:1,class:"drawList",ref_key:"toTop",ref:Ge},[H.value?(J(),_(e,{key:0,task:We.value,onRefresh:Ke},null,8,["task"])):I("",!0),qe.value?(J(),_(a,{key:1,task:We.value,onNewJob:He},null,8,["task"])):I("",!0),B("div",be,[j(t,{drawLogList:_e.value,onNewJobId:He},null,8,["drawLogList"])])],512)):(J(),A("div",ye,[j(o)])),B("div",ke,[B("div",Fe,[D("版权所有 © "+T(ta.value)+" ",1),la.value?(J(),A("div",we,[Le,B("a",{href:ia.value||"#"},T(la.value),9,Ae)])):I("",!0),sa.value?(J(),A("div",Ie,[Ce,B("a",{href:oa.value||"#"},T(sa.value),9,je)])):I("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-4b807372"]]);export{_e as default};
