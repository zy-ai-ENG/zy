import{_ as e}from"../Line 1/Line 1.30390b32.js";import{d as a,_ as t,a as l,b as s,p as i,N as o,c as r,e as n}from"../popup/popup.a9519c23.js";import{_ as d,a as u}from"../police/police.b4a86fcd.js";import{a as v}from"../music/music.7673ecde.js";import{d as c,e as p,aK as g,y as m,b as f,g as x,c as h,u as y,aG as b,G as k,aF as F,a6 as w,a3 as L,i as A,l as I,h as C,n as j,k as _,j as D,F as B,r as E,K as N,Y as S,m as T,aL as P,o as J,aM as M,aN as z,C as R,D as U,af as G,E as O}from"../main-ef5ef38b.js";import{S as H}from"../index/index.6c980a6f.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.09f38d77.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.5cfc31e1.js";const K=e=>(R("data-v-1ee6ed69"),e=e(),U(),e),V={key:1},q={key:2},W={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},Y={style:{width:"100%"}},Q={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},X={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},Z={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},$={style:{display:"flex","margin-top":"12px"}},ee=["onClick"],ae=K((()=>D("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[D("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),te=K((()=>D("div",{class:"first"},"第一步，上传人脸模板图片",-1))),le={class:"padMapBox"},se=K((()=>D("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]"},"严禁上传违规图(政治人物、色情、暴恐等)违者100%封号",-1))),ie={class:"modePutExpand"},oe={class:"upLoadContent"},re=K((()=>D("div",{class:"intro text-[#A3A5A6] dark:text-[#76777A]"},"注意素材质量，保证脸部足够清晰，为了更好的效果，最好正脸。",-1))),ne=K((()=>D("div",{class:"second"},"第二步，上传需要替换人脸的目标图",-1))),de={class:"padMapBox"},ue=K((()=>D("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]"},"严禁上传违规图(政治人物、色情、暴恐等)违者100%封号",-1))),ve={class:"modePutExpand"},ce={class:"upLoadContent"},pe=K((()=>D("div",{class:"intro text-[#A3A5A6] dark:text-[#76777A]"},"最大2048x2048像素，不超过5MB，建议：五官无遮挡，角度小于20%",-1))),ge=K((()=>D("div",{class:"intro text-[#FF837E] dark:text-[#FF6C60]",style:{"margin-top":"4px"}},"换脸操作只能在写实版人物上进行，漫回类因面部五官比例不统一，是无法完成换脸操作%",-1))),me=K((()=>D("div",{class:"third"},"第三步，提交任务",-1))),fe=K((()=>D("div",{class:"thirdIntro dark:text-[#F4F4F4] text-[#03060C]"},"免责声明： 本功能效果太逼真！请遵守相关法律法规，反对非法用途，包括但不限于侵犯他人隐私、散布虚假信息，进行诈骗等行为！",-1))),xe={class:"radioBox dark:bg-[#15171A] bg-[#FFFFFF]"},he={style:{display:"flex"}},ye=[K((()=>D("img",{src:e,alt:""},null,-1)))],be=K((()=>D("p",{style:{"margin-left":"4px","font-size":"10px"}},"快图模式",-1))),ke=[K((()=>D("img",{src:e,alt:""},null,-1)))],Fe=K((()=>D("p",{style:{"margin-left":"4px","font-size":"10px"}},"常规模式",-1))),we=K((()=>D("div",{style:{display:"flex","align-items":"center"}},[D("img",{style:{width:"12px",height:"12px","margin-right":"4px"},src:n,alt:""}),D("p",{style:{"font-size":"10px"},class:"text-[#A3A5A6] dark:text-[#76777A]"},"免责声明")],-1))),Le={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},Ae=K((()=>D("div",{class:"contentCenterTop border-b-[2px] bg-[#fff] dark:bg-[#15171A] border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[D("span",null,"#  创作中心"),D("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),Ie={key:0,class:"w-full",style:{padding:"0 40px","margin-top":"10px"}},Ce={style:{"margin-top":"10px"}},je={style:{color:"#eeeeee"},class:"end"},_e={style:{display:"flex"}},De={key:0,style:{display:"flex"}},Be=K((()=>D("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:d,alt:""},null,-1))),Ee=["href"],Ne={key:1,style:{display:"flex"}},Se=K((()=>D("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:u,alt:""},null,-1))),Te=["href"],Pe=O(c({__name:"AIChangeFace",setup(e){p();const n=g(),d=m(0);setTimeout((()=>{d.value=1}),0),f();const u=f(),{isMobile:c}=x(),R=f(),U=h((()=>R.isLogin));h((()=>R.userInfo.avatar)),h((()=>R.userInfo.username)),h((()=>R.userBalance));const O=h((()=>R.mjDrawForm)),K=y(),Pe=m(),Je=m([]),Me=m();b({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),localStorage.getItem("drawLogList")?Je.value=JSON.parse(localStorage.getItem("drawLogList")):b({page:1,size:20}).then((e=>{Je.value=e.data.rows,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),k({files:[],previewImages:[]});const ze=m(""),Re=["jpg","jpeg","png"],Ue=e=>{"pending"===e.file.status&&We(e.file.file).then((e=>{let a="data:image/png;base64,"+e;ze.value=a,w.emit("sourceBase64",ze.value)})),"removed"===e.file.status&&We(e.file.file).then((e=>{ze.value="",w.emit("sourceBase64",ze.value)}))},Ge=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(K.warning("最多只能上传1张图片"),!1):Re.includes(a)&&e.fileList.length<=1},Oe=e=>{const a=e.file.name;O.value.extendParam=O.value.extendParam.filter((e=>!e.filename.includes(a))),He()},He=async()=>{R.updateMjDrawForm(O.value)},Ke=e=>{"pending"===e.file.status&&We(e.file.file).then((e=>{let a="data:image/png;base64,"+e;ze.value=a,w.emit("targetBase64",ze.value)})),"removed"===e.file.status&&We(e.file.file).then((e=>{ze.value="",w.emit("sourceBase64",ze.value)}))},Ve=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(K.warning("最多只能上传1张图片"),!1):Re.includes(a)&&e.fileList.length<=1},qe=e=>{const a=e.file.name;O.value.extendParam=O.value.extendParam.filter((e=>!e.filename.includes(a))),He()};function We(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}const Ye=e=>{Me.value=e},Qe=async e=>{e&&(ta.value=await G({jobId:e}).then((e=>e.data)),la.value&&ta.value.status>=4&&clearTimeout(la.value))},Xe=m(null),Ze=()=>{let e=Xe.value;e.scrollTo({top:e.scrollHeight+e.clientHeight,behavior:"smooth"})},$e=m(),ea=e=>{$e.value=e,Ze(),Qe(e),sa()},aa=e=>{Pe.value=e,Ze(),Qe(e),sa()},ta=m({status:0}),la=m(),sa=()=>{la.value&&clearTimeout(la.value),la.value=setTimeout((()=>{var e;if((null==(e=ta.value)?void 0:e.status)>=P.DRAWED){la.value&&clearTimeout(la.value),Me.value=0,Je.value.push(ta.value),w.emit("status",Me.value);return 0==Je.value.filter((e=>e.id==ta.value.id)).length?Je.value.push(ta.value):console.log("重复了"),w.emit("newDrawLogList",Je.value),$e.value="",Pe.value="",void b({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}))}Pe.value?(sa(),Qe(Pe.value)):$e.value&&(sa(),Qe($e.value))}),3e3)};F((()=>{la.value&&clearTimeout(la.value),la.value=null,u.updateDrawId({id:""})})),m(0),w.on("upLoadIsShow",(e=>{d.value=e})),w.on("upLoadShow",(e=>{d.value=e}));const ia=m(!1);w.on("error",(e=>{ia.value=e}));const oa=()=>{ia.value=!1},ra=()=>{ia.value=!1,R.checkAuth()&&n.updateVipDialog(!0)},na=m(!1);w.emit("drawRoute",L.options.history.location);const da=m("");da.value=L.currentRoute.value.fullPath;const ua=m(""),va=m(""),ca=m(""),pa=m(""),ga=m("");v({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{ua.value=e.data.copyrightTitle,va.value=e.data.icpNumber,ca.value=e.data.policeFilingNumber,pa.value=e.data.icpUrl,ga.value=e.data.policeFilingUrl})),m(!1),m(!1);const ma=m(0),fa=m(1);function xa(e){ma.value=e,0==e?fa.value=1:1==e&&(fa.value=2),w.emit("AiFaceMode",fa.value)}return(e,n)=>(J(),A(B,null,[na.value?(J(),A("div",{key:0,class:"mask",onClick:n[0]||(n[0]=e=>na.value=!1)})):I("",!0),C(c)?(J(),A("div",V,[j(s)])):I("",!0),ia.value?(J(),A("div",q,[j(i,{onClosePop:oa,onBuyVip:ra})])):I("",!0),C(c)?I("",!0):(J(),A("div",W,[C(c)?I("",!0):(J(),_(H,{key:0})),D("div",Y,[D("div",Q,[D("div",X,[D("div",Z,[D("div",$,[(J(!0),A(B,null,E(C(M),(e=>(J(),A("div",{class:N(da.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){L.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&w.emit("upLoadShow",1)}(e)},T(e.menuName),11,ee)))),128))]),ae]),te,D("div",le,[se,D("div",ie,[D("div",oe,[D("div",null,[j(C(z),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Ue,"on-before-upload":Ve,"on-remove":qe,"list-type":"image-card","directory-dnd":""})])])]),re]),ne,D("div",de,[ue,D("div",ve,[D("div",ce,[D("div",null,[j(C(z),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Ke,"on-before-upload":Ge,"on-remove":Oe,"list-type":"image-card","directory-dnd":""})])])]),pe,ge]),me,fe,D("div",xe,[D("div",he,[D("div",{class:"radioItem",onClick:n[1]||(n[1]=e=>xa(0))},[D("div",{class:N(["radioItemImgBox",0==ma.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},ye,2),be]),D("div",{class:"radioItem",style:{"margin-left":"12px"},onClick:n[2]||(n[2]=e=>xa(1))},[D("div",{class:N(["radioItemImgBox",1==ma.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},ke,2),Fe])]),we]),j(o,{sendType:1,onGetjobId:aa,onResquestStatus:Ye})]),D("div",Le,[Ae,0!=Je.value.length&&U.value?(J(),A("div",{key:1,class:"drawList",ref_key:"toTop",ref:Xe},[D("div",Ce,[j(a,{drawLogList:Je.value,onNewJobId:ea},null,8,["drawLogList"])]),Pe.value?(J(),_(t,{key:0,task:ta.value,onRefresh:aa},null,8,["task"])):I("",!0),$e.value?(J(),_(l,{key:1,task:ta.value,onNewJob:ea},null,8,["task"])):I("",!0)],512)):(J(),A("div",Ie,[j(r)])),D("div",je,[D("div",_e,[S("版权所有 © "+T(ua.value)+" ",1),va.value?(J(),A("div",De,[Be,D("a",{href:pa.value||"#"},T(va.value),9,Ee)])):I("",!0),ca.value?(J(),A("div",Ne,[Se,D("a",{href:ga.value||"#"},T(ca.value),9,Te)])):I("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-1ee6ed69"]]);export{Pe as default};
