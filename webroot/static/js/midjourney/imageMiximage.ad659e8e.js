import{_ as e,d as a,a as s,b as t,c as i,e as r,p as o,U as l,f as n,N as u}from"../userDetails/userDetails.1aa6b650.js";import{N as d,a as v,d as m,K as p,E as c,r as g,x as f,O as _,F as j,h as x}from"../main-bb4220d0.js";import{S as y}from"../index/index.bf6210d7.js";import{d as b,n as k,x as h,a as w,R as C,c as L,M as A,b as I,F,Q as E,e as S,S as T,U as D,o as B}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{e as J,Q as N}from"../naive-ui@2.34.3_vue@3.2.47/naive-ui@2.34.3_vue@3.2.47.d79924d9.js";import{r as z,x as M}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{J as R,n as q}from"../@vue_shared@3.2.47/@vue_shared@3.2.47.9d8e617e.js";import"../index/index.a4f65e28.js";import"../axios@1.4.0/axios@1.4.0.5ae1da96.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.8caa2cec.js";import"../pinia@2.0.35_typescript@4.9.5_vue@3.2.47/pinia@2.0.35_typescript@4.9.5_vue@3.2.47.1425f1b3.js";import"../vue-demi@0.14.7_vue@3.2.47/vue-demi@0.14.7_vue@3.2.47.71ba0ef2.js";import"../vue-router@4.1.6_vue@3.2.47/vue-router@4.1.6_vue@3.2.47.018c715a.js";import"../@vue_runtime-dom@3.2.47/@vue_runtime-dom@3.2.47.298398d5.js";import"../v-viewer@3.0.11_vue@3.2.47/v-viewer@3.0.11_vue@3.2.47.a81e5850.js";import"../viewerjs@1.11.3/viewerjs@1.11.3.a76d4126.js";import"../clientjs@0.2.1/clientjs@0.2.1.7f53d864.js";import"../@babel_runtime@7.21.5/@babel_runtime@7.21.5.35f69bd2.js";import"../crypto-js@4.1.1/crypto-js@4.1.1.7142fa56.js";import"../@iconify_vue@4.1.1_vue@3.2.47/@iconify_vue@4.1.1_vue@3.2.47.612da1cd.js";import"../vue-i18n@9.2.2_vue@3.2.47/vue-i18n@9.2.2_vue@3.2.47.f7da0a53.js";import"../@intlify_shared@9.2.2/@intlify_shared@9.2.2.76c1dc14.js";import"../@intlify_core-base@9.2.2/@intlify_core-base@9.2.2.72ca16dd.js";import"../@intlify_message-compiler@9.2.2/@intlify_message-compiler@9.2.2.9b2b247d.js";import"../@intlify_devtools-if@9.2.2/@intlify_devtools-if@9.2.2.1be0989c.js";import"../vooks@0.2.12_vue@3.2.47/vooks@0.2.12_vue@3.2.47.89d56bd5.js";import"../evtd@0.2.4/evtd@0.2.4.2789e4a1.js";import"../katex@0.16.7/katex@0.16.7.43835b5c.js";import"../@vueuse_core@9.13.0_vue@3.2.47/@vueuse_core@9.13.0_vue@3.2.47.770e5818.js";import"../@vueuse_shared@9.13.0_vue@3.2.47/@vueuse_shared@9.13.0_vue@3.2.47.58cbe97f.js";import"../mitt@3.0.1/mitt@3.0.1.f0e54764.js";import"../@vicons_ionicons5@0.12.0/@vicons_ionicons5@0.12.0.5fe57882.js";import"../marked@4.3.0/marked@4.3.0.cb1ff4ec.js";import"../date-fns@2.30.0/date-fns@2.30.0.bcce45e8.js";import"../vue-clipboard3@2.0.0/vue-clipboard3@2.0.0.ebf9d56c.js";import"../clipboard@2.0.11/clipboard@2.0.11.6a7b8915.js";import"../@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47/@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47.a70167c7.js";import"../@vueuse_shared@10.2.0_vue@3.2.47/@vueuse_shared@10.2.0_vue@3.2.47.3d57d69b.js";import"../qrcode@1.5.3/qrcode@1.5.3.ae99ec0a.js";import"../encode-utf8@1.0.3/encode-utf8@1.0.3.2ec93547.js";import"../dijkstrajs@1.0.3/dijkstrajs@1.0.3.38d0b2a1.js";import"../seemly@0.3.6/seemly@0.3.6.21da59ee.js";import"../vueuc@0.4.51_vue@3.2.47/vueuc@0.4.51_vue@3.2.47.ce1cbfa6.js";import"../@css-render_vue3-ssr@0.15.12_vue@3.2.47/@css-render_vue3-ssr@0.15.12_vue@3.2.47.e49104bd.js";import"../vdirs@0.1.8_vue@3.2.47/vdirs@0.1.8_vue@3.2.47.bf970686.js";import"../@juggle_resize-observer@3.4.0/@juggle_resize-observer@3.4.0.80d14552.js";import"../css-render@0.15.12/css-render@0.15.12.af3f05a4.js";import"../@emotion_hash@0.8.0/@emotion_hash@0.8.0.b17c1a96.js";import"../lodash-es@4.17.21/lodash-es@4.17.21.6a776102.js";import"../treemate@0.3.11/treemate@0.3.11.05d63ee5.js";import"../async-validator@4.2.5/async-validator@4.2.5.8d480e59.js";import"../@css-render_plugin-bem@0.15.12_css-render@0.15.12/@css-render_plugin-bem@0.15.12_css-render@0.15.12.0c2c3e5c.js";const P=e=>(T("data-v-9aa067d1"),e=e(),D(),e),V={key:1},O={key:2},U={key:3,class:"text-image-container flex flex-row",style:{width:"100%"}},Q={style:{width:"100%"}},G={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},H={class:"contentBox dark:bg-[#272740] bg-[#F4F4F5]"},K={style:{"overflow-y":"auto","padding-bottom":"70px"}},W=S('<div class="MJBox dark:bg-[#1A1A2F] bg-[#E8E8E8]" data-v-9aa067d1><img class="logoImg" src="'+t+'" alt="" data-v-9aa067d1><div class="titleBox" data-v-9aa067d1><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-9aa067d1>Mid Journey</p><p class="title2" data-v-9aa067d1>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-9aa067d1> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),X={class:"modeBox"},Y=P((()=>I("div",{class:"modeTitle"},[I("p",{class:"title text-[#808080] dark:text-[#fff]"},"模型广场")],-1))),Z={class:"modeContent"},$=["onClick"],ee=P((()=>I("p",{style:{"font-size":"19px"}},"#",-1))),ae={class:"contentNmae"},se={class:"contentIntro"},te={class:"userInfo dark:bg-[#1A1A2F] bg-[#E8E8E8]"},ie={key:0},re=["src"],oe={class:"userName"},le={class:"name text-[#808080] dark:text-[#fff]"},ne={key:0,class:"isVip dark:text-[#CCCCCC] text-[#A0A0A0]"},ue={key:1,class:"isVip dark:text-[#CCCCCC] text-[#A0A0A0]"},de={class:"contentCenter"},ve=P((()=>I("div",{class:"contentCenterTop dark:bg-[#1F1F38] border-b-[2px] bg-[#fff] dark:border-[#2C2C4F] border-[#D1D1D1]"},[I("span",null,"#  创作中心"),I("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),me={key:0,class:"w-full",style:{padding:"0 40px"}},pe={style:{"margin-top":"10px"}},ce={style:{position:"relative",padding:"0 40px","margin-right":"12px"},class:"bg-[#fff] dark:bg-[#1F1F38]"},ge={style:{position:"relative"}},fe=P((()=>I("div",{class:"upLoadTop dark:bg-[#32324D] bg-[#fff] border-b-[2px] border-[#E8E8E8] dark:border-[transparent]"},[I("img",{class:"topImg",src:i,alt:""}),I("p",{class:"topText1"},"请添加图片"),I("p",{class:"topText2"},"[严禁上传涉及党政主题，证件照，黄图等不良内容，违者100%封号]")],-1))),_e={class:"upLoadContent dark:bg-[#1A1A2F] bg-[#fff]"},je={class:""},xe={class:"contentBox2"},ye=P((()=>I("div",{class:"content2"},[I("div",{style:{width:"6px",height:"25px","background-color":"#4BA3FF","border-radius":"3px","margin-right":"10px"}}),I("p",{class:"settingText"},"生成尺寸"),I("span",{style:{color:"#BBBBC1","font-size":"16px","margin-left":"20px"}},"选择生成图像的宽度X高度比例")],-1))),be={class:"sizeBox"},ke=["onClick"],he={style:{height:"54px",display:"flex","justify-content":"center","align-items":"center","padding-top":"9px"}},we=["src"],Ce={style:{"margin-top":"5px"}},Le=x(b({__name:"imageMiximage",setup(t){const i=d(),x=v(),{isMobile:b}=m(),S=J(),T=v();k((()=>T.isLogin));const D=k((()=>T.userInfo.avatar)),P=k((()=>T.userInfo.username)),Le=k((()=>T.userBalance)),Ae=k((()=>T.mjDrawForm)),Ie=z(),Fe=z([]),Ee=z();p({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),localStorage.getItem("drawLogList")?Fe.value=JSON.parse(localStorage.getItem("drawLogList")):p({page:1,size:20}).then((e=>{Fe.value=e.data.rows,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));const Se=z(null),Te=()=>{Se.value.scrollTo({top:0,behavior:"smooth"})},De=z(),Be=e=>{De.value=e,Te(),Je(e),Re()},Je=async e=>{e&&(ze.value=await f({jobId:e}).then((e=>e.data)),Me.value&&ze.value.status>=4&&clearTimeout(Me.value))},Ne=e=>{Ee.value=e,Te(),Je(e),Re()},ze=z({status:0}),Me=z(),Re=()=>{Me.value&&clearTimeout(Me.value),Me.value=setTimeout((()=>{var e;if((null==(e=ze.value)?void 0:e.status)>=_.DRAWED)return Me.value&&clearTimeout(Me.value),Ie.value=0,Fe.value.unshift(ze.value),c.emit("status",Ie.value),c.emit("newDrawLogList",Fe.value),De.value="",Ee.value="",void p({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));Re(),Je(Ee.value)}),3e3)};h((()=>{Me.value&&clearTimeout(Me.value),Me.value=null,x.updateDrawId({id:""})}));const qe=[{name:"MJ6.0（最新）",intro:"全新6.0 ALPHA真实风格图像",id:0,value:"--v 6.0"},{name:"MJ5.2（真实细节）",intro:"增加真实风格图像细节",id:1,value:"--v 5.2"},{name:"MJ5.1（艺术）",intro:"专注真实艺术风格图像",id:2,value:"--v 5.1"},{name:"NJ5.0（动漫增强）",intro:"官方最新动漫模型同步",id:5,value:"--niji 5"},{name:"NJ4.0（动漫）",intro:"官方最新动漫模型同步",id:6,value:"--niji 4"}],Pe=z(0);z(!1),z("");const Ve=[{name:"头像框",src:"/src/views/midjourney/img/1.png",id:0,intro:"1:1",value:"SQUARE"},{name:"小红书图",src:"/src/views/midjourney/img/2.png",id:1,intro:"2:3",value:"PORTRAIT"},{name:"横板名片",src:"/src/views/midjourney/img/3.png",id:2,intro:"3:2",value:"LANDSCAPE"}],Oe=z(0);z([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),z(!1),z(0);const Ue=z(0);setTimeout((()=>{Ue.value=1}),0);const Qe=z([]),Ge=["jpg","jpeg","png"],He=e=>{"pending"===e.file.status&&Ze(e.file.file).then((e=>{let a="data:image/png;base64,"+e;Qe.value.push(a)})),"removed"===e.file.status&&Ze(e.file.file).then((e=>{let a="data:image/png;base64,"+e;Qe.value=Qe.value.filter((e=>e!==a))})),c.emit("base64Array",Qe.value)},Ke=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=5?(S.warning("最多只能上传5张图片"),!1):Ge.includes(a)&&e.fileList.length<=5},We=e=>{const a=e.file.name;Ae.value.extendParam=Ae.value.extendParam.filter((e=>!e.filename.includes(a))),Xe()},Xe=async()=>{T.updateMjDrawForm(Ae.value)},Ye=e=>{Ie.value=e};function Ze(e){return new Promise(((a,s)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=function(){const e=t.result.split(",")[1];a(e)},t.onerror=function(){s(new Error("Failed to load file"))}}))}c.on("upLoadIsShow",(e=>{Ue.value=e})),c.on("upLoadShow",(e=>{Ue.value=e}));const $e=z(!1);c.on("error",(e=>{$e.value=e}));const ea=()=>{$e.value=!1},aa=()=>{$e.value=!1,T.checkAuth()&&i.updateVipDialog(!0)},sa=z(!1);return c.emit("drawRoute",g.options.history.location),(t,i)=>{var d,v;return B(),w(F,null,[sa.value?(B(),w("div",{key:0,class:"mask",onClick:i[0]||(i[0]=e=>sa.value=!1)})):C("",!0),M(b)?(B(),w("div",V,[L(r)])):C("",!0),$e.value?(B(),w("div",O,[L(o,{onClosePop:ea,onBuyVip:aa})])):C("",!0),M(b)?C("",!0):(B(),w("div",U,[M(b)?C("",!0):(B(),A(y,{key:0})),I("div",Q,[I("div",G,[I("div",H,[I("div",K,[W,I("div",X,[Y,I("div",Z,[(B(),w(F,null,E(qe,((e,a)=>I("div",{class:q(a==Pe.value?"active text-[#fff] dark:text-[#fff]":"contentItem  text-[#808080] dark:text-[#fff]"),key:e.id,onClick:s=>{return t={item:e,index:a},Pe.value=t.index,void c.emit("--v",t.item.value);var t}},[ee,I("div",null,[I("p",ae,R(e.name),1),I("p",se,R(e.intro),1)])],10,$))),64))])])]),I("div",te,[sa.value?(B(),w("div",ie,[L(l)])):C("",!0),I("img",{class:"avatar",src:M(D)?M(D):"./img/avatar.png",alt:"",onClick:i[1]||(i[1]=e=>sa.value=!0)},null,8,re),I("div",oe,[I("p",le,R(M(P)),1),(null==(d=M(Le))?void 0:d.expirationTime)?(B(),w("p",ne," 到期时间："+R(M(j)(null==(v=M(Le))?void 0:v.expirationTime)),1)):(B(),w("p",ue,"未开通，点击了解特权"))])])]),I("div",de,[ve,0==Fe.value.length?(B(),w("div",me,[L(n)])):(B(),w("div",{key:1,class:"drawList",ref_key:"toTop",ref:Se},[Ee.value?(B(),A(e,{key:0,task:ze.value,onRefresh:Ne},null,8,["task"])):C("",!0),De.value?(B(),A(a,{key:1,task:ze.value,onNewJob:Be},null,8,["task"])):C("",!0),I("div",pe,[L(s,{drawLogList:Fe.value,onNewJobId:Be},null,8,["drawLogList"])])],512)),I("div",ce,[I("div",ge,[I("div",{class:q(1==Ue.value?"upLoadImg border-[1px] border-[#E8E8E8] dark:border-[transparent]":"upLoadImg1 shadow-md")},[fe,I("div",_e,[I("div",je,[L(M(N),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":He,"on-before-upload":Ke,"on-remove":We,"list-type":"image-card","directory-dnd":""})]),I("div",xe,[ye,I("div",be,[(B(),w(F,null,E(Ve,((e,a)=>I("div",{class:q(Oe.value==a?"sizeSelect":"sizeItem"),key:e.id,onClick:e=>function(e){Oe.value=e,c.emit("imageMixImageSize",Ve[e].value)}(a)},[I("div",he,[I("img",{src:e.src,alt:""},null,8,we)]),I("p",Ce,R(e.intro),1),I("p",null,R(e.name),1)],10,ke))),64))])])])],2),L(u,{onGetjobId:Ne,onResquestStatus:Ye})])])])])])]))],64)}}}),[["__scopeId","data-v-9aa067d1"]]);export{Le as default};
