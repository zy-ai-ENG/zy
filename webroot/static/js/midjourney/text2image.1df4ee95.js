import{d as e,e as a,c as l,y as t,o as i,i as s,j as d,M as n,a1 as u,a2 as v,an as o,C as r,D as c,E as m,F as p,r as g,a3 as x,m as f,aI as y,b as k,g as b,u as h,aG as w,aN as F,W as I,aF as A,a5 as S,aO as C,aP as B,l as E,h as L,n as j,k as z,w as D,aJ as T,aK as P,aL as _,_ as M,aM as N,$ as V,aQ as U,L as R,ag as J,aD as O}from"../main-e96a6f7d.js";import{_ as W,d as q,a as G,b as H,p as Q,N as $,e as K,f as X,c as Y}from"../popup/popup.ce2f54a7.js";import{_ as Z,a as ee}from"../1.1Light/1.1Light.a9718ff8.js";import{S as ae}from"../index/index.5d7e51c4.js";import{u as le}from"../index/index.317d6703.js";import"../punycode@2.3.0/punycode@2.3.0.8a62a219.js";import"../draw-fail/draw-fail.50b43169.js";import"../police/police.b4a86fcd.js";import"../music/music.ddbcae82.js";const te="/static/svg/9.16-8968f21a.svg",ie="/static/svg/9.16Light-92609f96.svg",se="/static/svg/4.3-6838831b.svg",de="/static/svg/4.3Light-c190a37f.svg",ne=e=>(r("data-v-7e62bb57"),e=e(),c(),e),ue={class:"imgSizeBox"},ve={class:"imgBox"},oe={key:0,src:Z,alt:""},re={key:1,src:ee,alt:""},ce=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),me=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),pe={class:"imgBox"},ge={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},xe={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},fe=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),ye=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),ke={class:"imgBox"},be={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},he={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},we=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),Fe=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),Ie={class:"imgBox"},Ae={key:0,src:te,alt:""},Se={key:1,src:ie,alt:""},Ce=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Be=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Ee={class:"imgBox"},Le={key:0,src:se,alt:""},je={key:1,src:de,alt:""},ze=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),De=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),Te={class:"imgBox"},Pe={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},_e={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},Me=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),Ne=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Ve={class:"imgBox"},Ue={key:0,src:te,alt:""},Re={key:1,src:ie,alt:""},Je=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Oe=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),We={class:"imgBox"},qe={key:0,src:se,alt:""},Ge={key:1,src:de,alt:""},He=ne((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Qe=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),$e={class:"imgBox"},Ke={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},Xe={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Ye=ne((()=>d("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),Ze={style:{display:"flex","margin-top":"8px"}},ea=ne((()=>d("div",{style:{margin:"0 4px"}},":",-1))),aa=ne((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),la=m(e({__name:"imgSize",setup(e){const r=a(),c=l((()=>"dark"===r.theme)),m=t(0),p=t(1),g=t(1),x=t("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=p+":"+g),o.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",ue,[d("div",{class:n([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[d("div",ve,[c.value?(i(),s("img",oe)):(i(),s("img",re))]),ce,me],2),d("div",{class:n([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[d("div",pe,[c.value?(i(),s("img",ge)):(i(),s("img",xe))]),fe,ye],2),d("div",{class:n([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[d("div",ke,[c.value?(i(),s("img",be)):(i(),s("img",he))]),we,Fe],2),d("div",{class:n([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[d("div",Ie,[c.value?(i(),s("img",Ae)):(i(),s("img",Se))]),Ce,Be],2),d("div",{class:n([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[d("div",Ee,[c.value?(i(),s("img",Le)):(i(),s("img",je))]),ze,De],2),d("div",{class:n([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[d("div",Te,[c.value?(i(),s("img",Pe)):(i(),s("img",_e))]),Me,Ne],2),d("div",{class:n([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[d("div",Ve,[c.value?(i(),s("img",Ue)):(i(),s("img",Re))]),Je,Oe],2),d("div",{class:n([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[d("div",We,[c.value?(i(),s("img",qe)):(i(),s("img",Ge))]),He,Qe],2),d("div",{class:n([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[d("div",$e,[c.value?(i(),s("img",Ke)):(i(),s("img",Xe)),Ye]),d("div",Ze,[u(d("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>p.value=e),type:"text"},null,512),[[v,p.value]]),ea,u(d("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>g.value=e),type:"text"},null,512),[[v,g.value]])]),aa],2)]))}}),[["__scopeId","data-v-7e62bb57"]]),ta={class:"loading-text"},ia=m(e({__name:"Loading1",props:{gap:{default:10},progress:{default:0},tips:{default:""},bgColor:{},words:{default:["L","O","A","D","I","N","G"]}},setup(e){const t=e,n=a(),u=l((()=>n.theme)),v=l((()=>"dark"===u.value?"#fff":"#000"));return(e,a)=>(i(),s("div",{class:"loading",style:x({background:t.bgColor})},[d("div",ta,[(i(!0),s(p,null,g(t.words,(e=>(i(),s("span",{key:e,style:x({margin:`0 ${t.gap}px`,color:v.value}),class:"loading-text-words"},f(e),5)))),128))])],4))}}),[["__scopeId","data-v-2f5e1775"]]),sa=e=>(r("data-v-e4289aa2"),e=e(),c(),e),da={key:1},na={key:2},ua={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},va={style:{width:"100%"}},oa={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},ra={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ca={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ma={style:{display:"flex","margin-top":"12px"}},pa=["onClick"],ga=T('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-e4289aa2><img class="logoImg" src="'+K+'" alt="" data-v-e4289aa2><div class="titleBox" data-v-e4289aa2><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-e4289aa2>Mid Journey</p><p class="title2" data-v-e4289aa2>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-e4289aa2> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),xa={class:"crollBox",style:{"margin-top":"280px","padding-bottom":"300px","overflow-y":"scroll",height:"100%"}},fa={class:"modeBox"},ya=sa((()=>d("div",{class:"modeTitle"},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),ka={class:"modePutExpand"},ba={class:"modeImg"},ha=[sa((()=>d("div",{class:"imgText"},[d("p",null,"Midjourney"),d("p",null,"真实感强")],-1))),sa((()=>d("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],wa=[sa((()=>d("div",{class:"imgText"},[d("p",null,"Niji"),d("p",null,"卡通动漫")],-1))),sa((()=>d("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],Fa={key:0,class:"modeSelect"},Ia=sa((()=>d("p",null,"版本",-1))),Aa=["onClick"],Sa={key:1,class:"modeSelect"},Ca=sa((()=>d("p",null,"版本",-1))),Ba=["onClick"],Ea={class:"styleMain"},La=sa((()=>d("div",{style:{display:"flex"}},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择")],-1))),ja={class:"modePutExpand"},za=["onClick"],Da={class:"styleImgBox"},Ta=["onClick"],Pa={class:"styleImgText"},_a=["src"],Ma=sa((()=>d("div",{class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},[d("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""})],-1))),Na={key:0,class:"padMapBox"},Va={style:{display:"flex","justify-content":"space-between"}},Ua={style:{display:"flex"}},Ra=sa((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Ja=sa((()=>d("div",null,[d("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),d("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Oa={class:"upLoadContent"},Wa={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},qa={style:{display:"flex","align-items":"center"}},Ga=sa((()=>d("div",{class:"similarText"},"-- iw 图片相似度",-1))),Ha=sa((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Qa=sa((()=>d("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),$a={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Ka=["onClick"],Xa={key:1,class:"roleConsistent"},Ya={style:{display:"flex","justify-content":"space-between"}},Za={style:{display:"flex"}},el=sa((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),al=sa((()=>d("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),ll={class:"upLoadContent"},tl={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},il={style:{display:"flex","align-items":"center"}},sl=sa((()=>d("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),dl=sa((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),nl={style:{width:"102px"}},ul={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},vl={key:2,class:"styleConsistent"},ol={style:{display:"flex","justify-content":"space-between"}},rl={style:{display:"flex"}},cl=sa((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),ml=sa((()=>d("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),pl={class:"upLoadContent"},gl={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},xl={style:{display:"flex","align-items":"center"}},fl=sa((()=>d("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),yl=sa((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),kl={style:{width:"102px"}},bl={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},hl={class:"imgSize"},wl={class:"notWant"},Fl={style:{display:"flex"}},Il=sa((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),Al={class:"parameterBox"},Sl={style:{display:"flex"}},Cl=sa((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),Bl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},El=sa((()=>d("div",null,"--seed 种子",-1))),Ll=sa((()=>d("div",{class:"parameterLine"},null,-1))),jl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},zl=sa((()=>d("div",null,"--s 风格化",-1))),Dl=sa((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Tl={style:{width:"120px"}},Pl={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},_l={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ml=sa((()=>d("div",null,"--c 多样性",-1))),Nl=sa((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Vl={style:{width:"120px"}},Ul={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Rl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Jl=sa((()=>d("div",null,"--quality 质量",-1))),Ol=sa((()=>d("div",{class:"parameterLine"},null,-1))),Wl={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},ql={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Gl=["onClick"],Hl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ql=sa((()=>d("div",null,"--weird 奇妙",-1))),$l=sa((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"5px","margin-right":"5px"}},null,-1))),Kl={style:{width:"110px"}},Xl={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},Yl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Zl=sa((()=>d("div",null,"--stop 停止",-1))),et=sa((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),at={style:{width:"110px"}},lt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},tt={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},it={class:"userInfoAvatar"},st=["src"],dt={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},nt={class:"drawIntegral text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-left":"12px"}},ut={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},vt=sa((()=>d("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[d("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),d("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ot={key:0,class:"w-full",style:{padding:"0 40px",position:"relative","margin-top":"10px"}},rt={key:0,style:{height:"780px"}},ct={key:1,class:"drawList"},mt={style:{"margin-top":"10px"}},pt={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},gt=m(e({__name:"text2image",setup(e){const a=y(),r=k(),{isMobile:c}=b(),m=t(),x=k(),T=le(),K=l((()=>T.openRegionDialog)),X=l((()=>x.isLogin)),Z=l((()=>x.userInfo.avatar)),ee=l((()=>x.userInfo.username)),te=l((()=>x.userBalance)),ie=l((()=>x.mjDrawForm)),se=t(),de=h(),ne=t([]),ue=t(0);w({page:1,size:20}).then((e=>{let a=e.data.rows;ne.value=a,ue.value=1;for(let l=0;l<ne.value.length;l++)3==ne.value[l].status&&F({jobId:ne.value[l].jobId}).then((e=>{ne.value[l].seed=e.data,localStorage.setItem("drawLogList",JSON.stringify(ne.value))}))}));const ve=t({status:0}),oe=async e=>{if(!e)return;const a=await J({jobId:e});ve.value=a.data;const l=a.data;if(6===a.data.status)return 9===l.action?T.openRegionModal(!0,{customId:l.customId,taskId:l.id,mode:l.mode}):x.updateRemixModal(!0,{prompt:"",taskId:l.id,customId:l.customId}),void(xe.value&&clearTimeout(xe.value));if(xe.value&&ve.value.status>=4&&clearTimeout(xe.value),ve.value.status>=4&&(m.value=0,o.emit("status",m.value),xe.value&&clearTimeout(xe.value)),3==ve.value.status){let e={jobId:ve.value.jobId};F(e).then((e=>{o.emit("seed",e.data)})),xe.value&&clearTimeout(xe.value)}};I((()=>K.value),(e=>{e||setTimeout((()=>{se.value?oe(se.value):re.value&&oe(re.value),fe()}),1e3)}));const re=t(),ce=t(null),me=()=>{ce.value.scrollTo({top:0,behavior:"smooth"})},pe=e=>{re.value=e,me(),oe(e),fe()},ge=e=>{se.value=e,me(),oe(e),fe()},xe=t(),fe=()=>{xe.value&&clearTimeout(xe.value),xe.value=setTimeout((()=>{var e,a;if((null==(e=ve.value)?void 0:e.status)===P.DRAWFAIL||(null==(a=ve.value)?void 0:a.status)===P.DRAWTIMEOUT)return xe.value&&clearTimeout(xe.value),m.value=0,o.emit("status",m.value),ne.value.unshift(ve.value),o.emit("newDrawLogList",ne.value),re.value="",se.value="",void w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));fe(),se.value?oe(se.value):re.value&&oe(re.value)}),3e3)};A((()=>{xe.value&&clearTimeout(xe.value),xe.value=null,r.updateDrawId({id:""})}));const ye=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:" 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:" 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:" 5"}],ke=[{name:"Niji 6",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6"},{name:"Niji 5",intro:"增加真实风格图像细节",id:1,value:" 5"},{name:"Niji 4",intro:"专注真实艺术风格图像",id:2,value:" 4"}],be=t(0),he=t(!0);function we(e){be.value=e.index,o.emit("--v",e.item.value),0!=e.item.id?he.value=!1:he.value=!0}const Fe=t(!1);function Ie(e){Fe.value=e,e||(Ae.value="")}const Ae=t("");t(0),t([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),t(!1),t(0);const Se=t([]),Ce=["jpg","jpeg","png"],Be=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,l)=>{const t=new FileReader;t.readAsDataURL(a),t.onload=function(){const a=t.result.split(",")[1];e(a)},t.onerror=function(){l(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;Se.value.push(a)})),"removed"===e.file.status&&(Se.value=[])},Ee=t("/api/upload/file"),Le=new FormData,je=new FormData,ze=new FormData,De=t([]),Te=t([]),Pe=t([]),_e=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return de.warning("最多只能上传3张图片"),!1;Le.append("file",e.file.file);const t=await O.post(Ee.value,Le,{headers:{"Content-Type":"multipart/form-data"}});return Le.delete("file"),De.value=[...De.value,{url:t.data.data,name:l}],console.log("垫图",De.value),o.emit("pidImgList",De.value),Ce.includes(a)&&e.fileList.length<=3},Me=e=>{const a=e.file.name,l=e.file.name.split(".")[0];ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),De.value=De.value.filter((e=>e.name!=l)),o.emit("pidImgList",De.value),Je()},Ne=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=1)return de.warning("最多只能上传1张图片"),!1;je.append("file",e.file.file);const t=await O.post(Ee.value,je,{headers:{"Content-Type":"multipart/form-data"}});return je.delete("file"),Te.value=[...Te.value,{url:t.data.data,name:l}],console.log("角色",Te.value),o.emit("roleImgList",Te.value),Ce.includes(a)&&e.fileList.length<=1},Ve=e=>{const a=e.file.name,l=e.file.name.split(".")[0];ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),Te.value=Te.value.filter((e=>e.name!=l)),o.emit("roleImgList",Te.value),Je()},Ue=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return de.warning("最多只能上传3张图片"),!1;ze.append("file",e.file.file);const t=await O.post(Ee.value,ze,{headers:{"Content-Type":"multipart/form-data"}});return ze.delete("file"),Pe.value=[...Pe.value,{url:t.data.data,name:l}],console.log("风格",Pe.value),o.emit("styleImgList",Pe.value),Ce.includes(a)&&e.fileList.length<=3},Re=e=>{const a=e.file.name,l=e.file.name.split(".")[0];Pe.value=Pe.value.filter((e=>e.name!=l)),o.emit("styleImgList",Pe.value),ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),Je()},Je=async()=>{x.updateMjDrawForm(ie.value)};const Oe=t(!1);o.on("error",(e=>{Oe.value=e}));const We=()=>{Oe.value=!1},qe=()=>{Oe.value=!1,x.checkAuth()&&a.updateVipDialog(!0)},Ge=t(!1);o.emit("drawRoute",S.options.history.location);const He=t("/midjourney/text-to-image");He.value=S.currentRoute.value.fullPath;const Qe=t(0);function $e(e){Qe.value=e,be.value=0,0==e?(o.emit("MjOrNj","--v"),o.emit("--v",ye[0].value)):1==e&&(o.emit("MjOrNj","--niji"),o.emit("--v",ke[0].value))}const Ke=t(0),Xe=t(null),Ye=t([]);C({page:1,size:20,type:"style"}).then((e=>{let a=e.data.filter((e=>2==e.level));Ye.value=a,ea(Ye.value[0].pid)}));const Ze=t([]);function ea(e){B({id:e}).then((e=>{console.log(e.data.rows[0].children),e.data.rows.length&&(Ze.value=e.data.rows[0].children)}))}const aa=e=>{m.value=e,1==e&&(ta.value=0,sa.value=0,yt.value=0,kt.value=0,ht.value=10,bt.value=0,Tt.value="",o.emit("--cw",ta.value),o.emit("--sw",sa.value),o.emit("--s",yt.value),o.emit("--c",kt.value),o.emit("--weird",bt.value),o.emit("--stop",ht.value),o.emit("--no",Tt.value))},ta=t(0),sa=t(0);function gt(){o.emit("--cw",ta.value)}function xt(){o.emit("--sw",sa.value)}const ft=t(0),yt=t(0),kt=t(0),bt=t(0),ht=t(10);function wt(){o.emit("--s",yt.value)}function Ft(){o.emit("--c",kt.value)}function It(){o.emit("--weird",bt.value)}function At(){o.emit("--stop",ht.value)}t(!1),I((()=>K.value),(e=>{e||handleQueryTaskByPage()}));const St=t(!1),Ct=t(!1),Bt=t(!1),Et=t(!1),Lt=t(!1),jt=t(!1),zt=t(!1);function Dt(e){0==e?St.value=!St.value:1==e?Ct.value=!Ct.value:2==e?Bt.value=!Bt.value:3==e?Et.value=!Et.value:4==e?Lt.value=!Lt.value:5==e?jt.value=!jt.value:6==e&&(zt.value=!zt.value)}const Tt=t("");function Pt(){o.emit("--no",Tt.value)}const _t=t(""),Mt=t([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);_t.value=Mt.value[0].name;const Nt=t(!1),Vt=t(!1);function Ut(){Vt.value=!Vt.value}const Rt=t([{name:"1x - 默认",id:0,isSelect:!0,value:1},{name:"0.25x",id:1,isSelect:!1,value:.25},{name:"0.5x",id:2,isSelect:!1,value:.5}]),Jt=t("");function Ot(){o.emit("--seed",ft.value)}Jt.value=Rt.value[0].name;const Wt=t();return(e,a)=>{var l;return i(),s(p,null,[Ge.value?(i(),s("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>Ge.value=!1)})):E("",!0),L(c)?(i(),s("div",da,[j(H)])):E("",!0),Oe.value?(i(),s("div",na,[j(Q,{onClosePop:We,onBuyVip:qe})])):E("",!0),L(c)?E("",!0):(i(),s("div",ua,[L(c)?E("",!0):(i(),z(ae,{key:0})),d("div",va,[d("div",oa,[d("div",ra,[d("div",ca,[d("div",ma,[(i(!0),s(p,null,g(L(_),(e=>(i(),s("div",{class:n(He.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){S.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&o.emit("upLoadShow",1)}(e)},f(e.menuName),11,pa)))),128))]),ga]),d("div",xa,[d("div",fa,[ya,d("div",ka,[d("div",ba,[d("div",{style:{"margin-right":"8px"},onClick:a[1]||(a[1]=e=>$e(0)),class:n(0==Qe.value?"select":"unSelect")},ha,2),d("div",{onClick:a[2]||(a[2]=e=>$e(1)),class:n(1==Qe.value?"select":"unSelect")},wa,2)]),0==Qe.value?(i(),s("div",Fa,[Ia,(i(),s(p,null,g(ye,((e,a)=>d("div",{class:n(be.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:l=>we({item:e,index:a})},f(e.name),11,Aa))),64))])):E("",!0),1==Qe.value?(i(),s("div",Sa,[Ca,(i(),s(p,null,g(ke,((e,a)=>d("div",{class:n(be.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:l=>we({item:e,index:a})},f(e.name),11,Ba))),64))])):E("",!0)])]),d("div",Ea,[La,d("div",ja,[d("div",{class:"styleBox",ref_key:"container",ref:Xe},[(i(!0),s(p,null,g(Ye.value,((e,a)=>(i(),s("div",{class:n(Ke.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){Ke.value=e,ea(Ye.value[e].pid);let a=Xe.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},f(e.classifyName),11,za)))),128))],512),d("div",Da,[(i(!0),s(p,null,g(Ze.value,((e,a)=>(i(),s("div",{class:n(Wt.value==a?"styleImgItemSelect":"styleImgItem"),onClick:l=>{return t={item:e,index:a},Wt.value=t.index,void o.emit("styleWord",t.item.incantationEn);var t}},[d("div",Pa,f(e.incantationCn),1),d("img",{src:e.img,alt:""},null,8,_a)],10,Ta)))),256))]),Ma])]),he.value?(i(),s("div",Na,[d("div",Va,[d("div",Ua,[d("div",{class:n(Bt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[3]||(a[3]=e=>Dt(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Ra])]),d("div",{class:n(Bt.value?"modePutExpand":"modePutAway")},[Ja,d("div",Oa,[d("div",null,[j(L(N),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":_e,"on-remove":Me,"list-type":"image-card","directory-dnd":""})])]),d("div",Wa,[d("div",qa,[Ga,Ha,Qa,d("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[4]||(a[4]=e=>{Nt.value=!Nt.value})},[d("div",null,f(_t.value),1),j(L(M),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),Nt.value?(i(),s("div",$a,[(i(!0),s(p,null,g(Mt.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){Mt.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,_t.value=e.name,Nt.value=!1,o.emit("--iw",e.value)}(e)},[V(f(e.name)+" ",1),e.isSelect?(i(),z(L(M),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Ka)))),128))])):E("",!0)])])],2)])):E("",!0),he.value?(i(),s("div",Xa,[d("div",Ya,[d("div",Za,[d("div",{class:n(Et.value?"putExpand":"putAway")},[j(L(M),{onClick:a[5]||(a[5]=e=>Dt(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),el])]),d("div",{class:n(Et.value?"modePutExpand":"modePutAway")},[al,d("div",ll,[d("div",null,[j(L(N),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":Ne,"on-remove":Ve,"list-type":"image-card","directory-dnd":""})])]),d("div",tl,[d("div",il,[sl,dl,d("div",nl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:ta.value,"onUpdate:value":a[6]||(a[6]=e=>ta.value=e),step:1,max:100,onDragend:gt},null,8,["value"])])),_:1})]),d("div",ul,f(ta.value),1)])])],2)])):E("",!0),he.value?(i(),s("div",vl,[d("div",ol,[d("div",rl,[d("div",{class:n(Lt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[7]||(a[7]=e=>Dt(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),cl])]),d("div",{class:n(Lt.value?"modePutExpand":"modePutAway")},[ml,d("div",pl,[d("div",null,[j(L(N),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":Ue,"on-remove":Re,"list-type":"image-card","directory-dnd":""})])]),d("div",gl,[d("div",xl,[fl,yl,d("div",kl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:sa.value,"onUpdate:value":a[8]||(a[8]=e=>sa.value=e),step:1,max:100,onDragend:xt},null,8,["value"])])),_:1})]),d("div",bl,f(sa.value),1)])])],2)])):E("",!0),d("div",hl,[j(la)]),d("div",wl,[d("div",Fl,[d("div",{class:n(jt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[9]||(a[9]=e=>Dt(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Il]),d("div",{class:n(jt.value?"modePutExpand":"modePutAway")},[u(d("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:Pt,"onUpdate:modelValue":a[10]||(a[10]=e=>Tt.value=e)},null,544),[[v,Tt.value]])],2)]),d("div",Al,[d("div",Sl,[d("div",{class:n(zt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[11]||(a[11]=e=>Dt(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Cl]),d("div",{class:n(zt.value?"modePutExpand":"modePutAway")},[d("div",Bl,[El,Ll,u(d("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[12]||(a[12]=e=>ft.value=e),onInput:Ot,type:"number"},null,544),[[v,ft.value]])]),d("div",jl,[zl,Dl,d("div",Tl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:yt.value,"onUpdate:value":a[13]||(a[13]=e=>yt.value=e),step:1,max:100,onDragend:wt},null,8,["value"])])),_:1})]),d("div",Pl,f(yt.value),1)]),d("div",_l,[Ml,Nl,d("div",Vl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:kt.value,"onUpdate:value":a[14]||(a[14]=e=>kt.value=e),step:1,max:100,onDragend:Ft},null,8,["value"])])),_:1})]),d("div",Ul,f(kt.value),1)]),d("div",Rl,[Jl,Ol,d("div",Wl,[d("div",{style:{display:"flex","justify-content":"space-between",width:"100%"},onClick:Ut},[d("div",null,f(Jt.value),1),d("div",null,[j(L(M),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])]),Vt.value?(i(),s("div",ql,[(i(!0),s(p,null,g(Rt.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){Rt.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,Jt.value=e.name,Vt.value=!1,o.emit("--q",e.value)}(e)},[V(f(e.name)+" ",1),e.isSelect?(i(),z(L(M),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Gl)))),128))])):E("",!0)])]),d("div",Hl,[Ql,$l,d("div",Kl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:bt.value,"onUpdate:value":a[15]||(a[15]=e=>bt.value=e),step:1,max:100,onDragend:It},null,8,["value"])])),_:1})]),d("div",Xl,f(bt.value),1)]),d("div",Yl,[Zl,et,d("div",at,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:ht.value,"onUpdate:value":a[16]||(a[16]=e=>ht.value=e),step:1,max:100,min:10,onDragend:At},null,8,["value"])])),_:1})]),d("div",lt,f(ht.value),1)])],2)])]),d("div",tt,[d("div",it,[d("img",{class:"avatar",src:Z.value?Z.value:"./img/avatar.png",alt:"",onClick:a[17]||(a[17]=e=>Ge.value=!0)},null,8,st)]),d("div",null,[d("div",dt,f(ee.value),1),d("div",nt," 绘画积分:"+f(null==(l=te.value)?void 0:l.drawMjCount),1)])])]),d("div",ut,[vt,d("div",{style:{"overflow-y":"auto",position:"relative"},ref_key:"toTop",ref:ce},[0!=ne.value.length||se.value?E("",!0):(i(),s("div",ot,[0==ue.value&&X.value?(i(),s("div",rt,[j(ia)])):E("",!0),0==ue.value&&X.value?E("",!0):(i(),z(Y,{key:1}))])),0!=ne.value.length||se.value?(i(),s("div",ct,[se.value?(i(),z(W,{key:0,task:ve.value,onRefresh:ge},null,8,["task"])):E("",!0),re.value?(i(),z(q,{key:1,task:ve.value,onNewJob:pe},null,8,["task"])):E("",!0),d("div",mt,[j(G,{drawLogList:ne.value,onNewJobId:pe},null,8,["drawLogList"])])])):E("",!0)],512),d("div",pt,[j($,{sendType:0,onIsSettingShow:Ie,onGetjobId:ge,onResquestStatus:aa})])])])])]))],64)}}}),[["__scopeId","data-v-e4289aa2"]]);export{gt as default};
