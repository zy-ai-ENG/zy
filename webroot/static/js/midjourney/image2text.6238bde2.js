import{_ as a,d as e,a as t,b as l,p as s,N as i,c as o,e as u}from"../popup/popup.ce2f54a7.js";import{_ as d,a as r}from"../police/police.b4a86fcd.js";import{a as n}from"../music/music.ddbcae82.js";import{d as v,e as c,aI as p,y as g,b as m,g as f,c as y,u as h,aG as x,G as k,aF as b,an as w,a5 as L,i as F,l as I,h as S,n as C,k as N,j,F as T,r as A,$ as D,m as J,aJ as B,aK as _,o as R,M as z,aL as E,C as G,D as M,ag as O,E as P}from"../main-e96a6f7d.js";import{S as U}from"../index/index.5d7e51c4.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.317d6703.js";import"../punycode@2.3.0/punycode@2.3.0.8a62a219.js";const V=a=>(G("data-v-dd44ce5a"),a=a(),M(),a),q={key:1},H={key:2},K={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},W={style:{width:"100%"}},$={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},Q={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},X={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},Y={style:{display:"flex","margin-top":"12px"}},Z=["onClick"],aa=B('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-dd44ce5a><img class="logoImg" src="'+u+'" alt="" data-v-dd44ce5a><div class="titleBox" data-v-dd44ce5a><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-dd44ce5a>Mid Journey</p><p class="title2" data-v-dd44ce5a>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-dd44ce5a> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),ea={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},ta=V((()=>j("div",{class:"contentCenterTop border-b-[2px] bg-[#fff] dark:bg-[#15171A] border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[j("span",null,"#  创作中心"),j("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),la={key:0,class:"w-full",style:{padding:"0 40px","margin-top":"10px"}},sa={style:{"margin-top":"10px"}},ia={style:{color:"#eeeeee"},class:"end"},oa={style:{display:"flex"}},ua={key:0,style:{display:"flex"}},da=V((()=>j("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:d,alt:""},null,-1))),ra=["href"],na={key:1,style:{display:"flex"}},va=V((()=>j("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:r,alt:""},null,-1))),ca=["href"],pa=P(v({__name:"image2text",setup(u){c();const d=p(),r=g(0);setTimeout((()=>{r.value=1}),0),m();const v=m(),{isMobile:B}=f(),G=m(),M=y((()=>G.isLogin));y((()=>G.userInfo.avatar)),y((()=>G.userInfo.username)),y((()=>G.userBalance)),y((()=>G.mjDrawForm)),h();const P=g(),V=g([]),pa=g();x({page:1,size:20}).then((a=>{localStorage.setItem("drawLogList",JSON.stringify(a.data.rows))})),localStorage.getItem("drawLogList")?V.value=JSON.parse(localStorage.getItem("drawLogList")):x({page:1,size:20}).then((a=>{V.value=a.data.rows,localStorage.setItem("drawLogList",JSON.stringify(a.data.rows))})),k({files:[],previewImages:[]});const ga=a=>{pa.value=a},ma=async a=>{a&&(ba.value=await O({jobId:a}).then((a=>a.data)),wa.value&&ba.value.status>=4&&clearTimeout(wa.value))},fa=g(null),ya=()=>{fa.value.scrollTo({top:0,behavior:"smooth"})},ha=g(),xa=a=>{ha.value=a,ya(),ma(a),La()},ka=a=>{P.value=a,ya(),ma(a),La()},ba=g({status:0}),wa=g(),La=()=>{wa.value&&clearTimeout(wa.value),wa.value=setTimeout((()=>{var a;if((null==(a=ba.value)?void 0:a.status)>=_.DRAWED)return wa.value&&clearTimeout(wa.value),pa.value=0,V.value.unshift(ba.value),w.emit("status",pa.value),w.emit("newDrawLogList",V.value),ha.value="",P.value="",void x({page:1,size:20}).then((a=>{localStorage.setItem("drawLogList",JSON.stringify(a.data.rows))}));P.value?(La(),ma(P.value)):ha.value&&(La(),ma(ha.value))}),3e3)};b((()=>{wa.value&&clearTimeout(wa.value),wa.value=null,v.updateDrawId({id:""})})),g(0),w.on("upLoadIsShow",(a=>{r.value=a})),w.on("upLoadShow",(a=>{r.value=a}));const Fa=g(!1);w.on("error",(a=>{Fa.value=a}));const Ia=()=>{Fa.value=!1},Sa=()=>{Fa.value=!1,G.checkAuth()&&d.updateVipDialog(!0)},Ca=g(!1);w.emit("drawRoute",L.options.history.location);const Na=g("");Na.value=L.currentRoute.value.fullPath;const ja=g(""),Ta=g(""),Aa=g(""),Da=g(""),Ja=g("");return n({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((a=>{ja.value=a.data.copyrightTitle,Ta.value=a.data.icpNumber,Aa.value=a.data.policeFilingNumber,Da.value=a.data.icpUrl,Ja.value=a.data.policeFilingUrl})),(u,d)=>(R(),F(T,null,[Ca.value?(R(),F("div",{key:0,class:"mask",onClick:d[0]||(d[0]=a=>Ca.value=!1)})):I("",!0),S(B)?(R(),F("div",q,[C(l)])):I("",!0),Fa.value?(R(),F("div",H,[C(s,{onClosePop:Ia,onBuyVip:Sa})])):I("",!0),S(B)?I("",!0):(R(),F("div",K,[S(B)?I("",!0):(R(),N(U,{key:0})),j("div",W,[j("div",$,[j("div",Q,[j("div",X,[j("div",Y,[(R(!0),F(T,null,A(S(E),(a=>(R(),F("div",{class:z(Na.value==a.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:a.key,onClick:e=>function(a){L.replace({path:a.menuPath}),("图生图"==a.menuName||"图生文"==a.menuName)&&w.emit("upLoadShow",1)}(a)},J(a.menuName),11,Z)))),128))]),aa]),C(i,{sendType:1,onGetjobId:ka,onResquestStatus:ga})]),j("div",ea,[ta,0!=V.value.length&&M.value?(R(),F("div",{key:1,class:"drawList",ref_key:"toTop",ref:fa},[P.value?(R(),N(a,{key:0,task:ba.value,onRefresh:ka},null,8,["task"])):I("",!0),ha.value?(R(),N(e,{key:1,task:ba.value,onNewJob:xa},null,8,["task"])):I("",!0),j("div",sa,[C(t,{drawLogList:V.value,onNewJobId:xa},null,8,["drawLogList"])])],512)):(R(),F("div",la,[C(o)])),j("div",ia,[j("div",oa,[D("版权所有 © "+J(ja.value)+" ",1),Ta.value?(R(),F("div",ua,[da,j("a",{href:Da.value||"#"},J(Ta.value),9,ra)])):I("",!0),Aa.value?(R(),F("div",na,[va,j("a",{href:Ja.value||"#"},J(Aa.value),9,ca)])):I("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-dd44ce5a"]]);export{pa as default};
