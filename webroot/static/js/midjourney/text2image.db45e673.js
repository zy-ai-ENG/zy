import{d as e,e as a,c as l,y as t,o as i,i as s,j as d,M as n,a1 as u,a2 as v,a8 as o,C as r,D as c,E as m,F as p,r as g,a3 as x,m as f,aK as y,b as k,g as b,u as h,aI as w,W as F,aH as A,a5 as I,aP as S,aQ as C,l as B,h as E,n as L,k as j,w as z,aL as _,aM as D,aN as T,_ as P,aO as M,$ as N,aR as V,L as U,ah as R,aF as J}from"../main-c6e244ef.js";import{_ as O,d as W,a as q,b as G,p as H,N as K,e as Q,f as $,c as X}from"../popup/popup.82aac303.js";import{_ as Y,a as Z}from"../1.1Light/1.1Light.a9718ff8.js";import{S as ee}from"../index/index.23ae4c01.js";import{u as ae}from"../index/index.c19f02d9.js";import"../draw-fail/draw-fail.50b43169.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.d942390e.js";import"../police/police.b4a86fcd.js";import"../music/music.51f40153.js";const le="/static/svg/9.16-8968f21a.svg",te="/static/svg/9.16Light-92609f96.svg",ie="/static/svg/4.3-6838831b.svg",se="/static/svg/4.3Light-c190a37f.svg",de=e=>(r("data-v-7e62bb57"),e=e(),c(),e),ne={class:"imgSizeBox"},ue={class:"imgBox"},ve={key:0,src:Y,alt:""},oe={key:1,src:Z,alt:""},re=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),ce=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),me={class:"imgBox"},pe={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},ge={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},xe=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),fe=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),ye={class:"imgBox"},ke={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},be={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},he=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),we=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),Fe={class:"imgBox"},Ae={key:0,src:le,alt:""},Ie={key:1,src:te,alt:""},Se=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Ce=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Be={class:"imgBox"},Ee={key:0,src:ie,alt:""},Le={key:1,src:se,alt:""},je=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),ze=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),_e={class:"imgBox"},De={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},Te={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},Pe=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),Me=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Ne={class:"imgBox"},Ve={key:0,src:le,alt:""},Ue={key:1,src:te,alt:""},Re=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Je=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Oe={class:"imgBox"},We={key:0,src:ie,alt:""},qe={key:1,src:se,alt:""},Ge=de((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),He=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),Ke={class:"imgBox"},Qe={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},$e={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Xe=de((()=>d("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),Ye={style:{display:"flex","margin-top":"8px"}},Ze=de((()=>d("div",{style:{margin:"0 4px"}},":",-1))),ea=de((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),aa=m(e({__name:"imgSize",setup(e){const r=a(),c=l((()=>"dark"===r.theme)),m=t(0),p=t(1),g=t(1),x=t("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=p+":"+g),o.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",ne,[d("div",{class:n([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[d("div",ue,[c.value?(i(),s("img",ve)):(i(),s("img",oe))]),re,ce],2),d("div",{class:n([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[d("div",me,[c.value?(i(),s("img",pe)):(i(),s("img",ge))]),xe,fe],2),d("div",{class:n([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[d("div",ye,[c.value?(i(),s("img",ke)):(i(),s("img",be))]),he,we],2),d("div",{class:n([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[d("div",Fe,[c.value?(i(),s("img",Ae)):(i(),s("img",Ie))]),Se,Ce],2),d("div",{class:n([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[d("div",Be,[c.value?(i(),s("img",Ee)):(i(),s("img",Le))]),je,ze],2),d("div",{class:n([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[d("div",_e,[c.value?(i(),s("img",De)):(i(),s("img",Te))]),Pe,Me],2),d("div",{class:n([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[d("div",Ne,[c.value?(i(),s("img",Ve)):(i(),s("img",Ue))]),Re,Je],2),d("div",{class:n([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[d("div",Oe,[c.value?(i(),s("img",We)):(i(),s("img",qe))]),Ge,He],2),d("div",{class:n([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[d("div",Ke,[c.value?(i(),s("img",Qe)):(i(),s("img",$e)),Xe]),d("div",Ye,[u(d("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>p.value=e),type:"text"},null,512),[[v,p.value]]),Ze,u(d("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>g.value=e),type:"text"},null,512),[[v,g.value]])]),ea],2)]))}}),[["__scopeId","data-v-7e62bb57"]]),la={class:"loading-text"},ta=m(e({__name:"Loading1",props:{gap:{default:10},progress:{default:0},tips:{default:""},bgColor:{},words:{default:["L","O","A","D","I","N","G"]}},setup(e){const t=e,n=a(),u=l((()=>n.theme)),v=l((()=>"dark"===u.value?"#fff":"#000"));return(e,a)=>(i(),s("div",{class:"loading",style:x({background:t.bgColor})},[d("div",la,[(i(!0),s(p,null,g(t.words,(e=>(i(),s("span",{key:e,style:x({margin:`0 ${t.gap}px`,color:v.value}),class:"loading-text-words"},f(e),5)))),128))])],4))}}),[["__scopeId","data-v-2f5e1775"]]),ia=e=>(r("data-v-c1d02d06"),e=e(),c(),e),sa={key:1},da={key:2},na={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},ua={style:{width:"100%"}},va={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},oa={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ra={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ca={style:{display:"flex","margin-top":"12px"}},ma=["onClick"],pa=_('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-c1d02d06><img class="logoImg" src="'+Q+'" alt="" data-v-c1d02d06><div class="titleBox" data-v-c1d02d06><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-c1d02d06>Mid Journey</p><p class="title2" data-v-c1d02d06>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-c1d02d06> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),ga={class:"crollBox",style:{"margin-top":"280px","padding-bottom":"300px","overflow-y":"scroll",height:"100%"}},xa={class:"modeBox"},fa=ia((()=>d("div",{class:"modeTitle"},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),ya={class:"modePutExpand"},ka={class:"modeImg"},ba=[ia((()=>d("div",{class:"imgText"},[d("p",null,"Midjourney"),d("p",null,"真实感强")],-1))),ia((()=>d("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],ha=[ia((()=>d("div",{class:"imgText"},[d("p",null,"Niji"),d("p",null,"卡通动漫")],-1))),ia((()=>d("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],wa={key:0,class:"modeSelect"},Fa=ia((()=>d("p",null,"版本",-1))),Aa=["onClick"],Ia={key:1,class:"modeSelect"},Sa=ia((()=>d("p",null,"版本",-1))),Ca=["onClick"],Ba={class:"styleMain"},Ea=ia((()=>d("div",{style:{display:"flex"}},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择")],-1))),La={class:"modePutExpand"},ja=["onClick"],za=["onClick"],_a={class:"styleImgText"},Da=["src"],Ta=[ia((()=>d("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""},null,-1)))],Pa={key:0,class:"padMapBox"},Ma={style:{display:"flex","justify-content":"space-between"}},Na={style:{display:"flex"}},Va=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Ua=ia((()=>d("div",null,[d("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),d("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Ra={class:"upLoadContent"},Ja={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Oa={style:{display:"flex","align-items":"center"}},Wa=ia((()=>d("div",{class:"similarText"},"-- iw 图片相似度",-1))),qa=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Ga=ia((()=>d("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),Ha={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Ka=["onClick"],Qa={key:1,class:"roleConsistent"},$a={style:{display:"flex","justify-content":"space-between"}},Xa={style:{display:"flex"}},Ya=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),Za=ia((()=>d("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),el={class:"upLoadContent"},al={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},ll={style:{display:"flex","align-items":"center"}},tl=ia((()=>d("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),il=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),sl={style:{width:"102px"}},dl={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},nl={key:2,class:"styleConsistent"},ul={style:{display:"flex","justify-content":"space-between"}},vl={style:{display:"flex"}},ol=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),rl=ia((()=>d("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),cl={class:"upLoadContent"},ml={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},pl={style:{display:"flex","align-items":"center"}},gl=ia((()=>d("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),xl=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),fl={style:{width:"102px"}},yl={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},kl={class:"imgSize"},bl={class:"notWant"},hl={style:{display:"flex"}},wl=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),Fl={class:"parameterBox"},Al={style:{display:"flex"}},Il=ia((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),Sl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Cl=ia((()=>d("div",null,"--seed 种子",-1))),Bl=ia((()=>d("div",{class:"parameterLine"},null,-1))),El={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ll=ia((()=>d("div",null,"--s 风格化",-1))),jl=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),zl={style:{width:"120px"}},_l={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Dl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Tl=ia((()=>d("div",null,"--c 多样性",-1))),Pl=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Ml={style:{width:"120px"}},Nl={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Vl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ul=ia((()=>d("div",null,"--quality 质量",-1))),Rl=ia((()=>d("div",{class:"parameterLine"},null,-1))),Jl={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},Ol={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Wl=["onClick"],ql={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Gl=ia((()=>d("div",null,"--weird 奇妙",-1))),Hl=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"5px","margin-right":"5px"}},null,-1))),Kl={style:{width:"110px"}},Ql={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},$l={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Xl=ia((()=>d("div",null,"--stop 停止",-1))),Yl=ia((()=>d("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Zl={style:{width:"110px"}},et={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},at={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},lt={class:"userInfoAvatar"},tt=["src"],it={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},st={class:"drawIntegral text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-left":"12px"}},dt={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},nt=ia((()=>d("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[d("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),d("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ut={key:0,class:"w-full",style:{padding:"0 40px",position:"relative","margin-top":"10px"}},vt={key:0,style:{height:"780px"}},ot={key:1,class:"drawList"},rt={style:{"margin-top":"10px"}},ct={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},mt=m(e({__name:"text2image",setup(e){const a=y(),r=k(),{isMobile:c}=b(),m=t(),_=k(),Q=ae(),$=l((()=>Q.openRegionDialog)),Y=l((()=>_.isLogin)),Z=l((()=>_.userInfo.avatar)),le=l((()=>_.userInfo.username)),te=l((()=>_.userBalance)),ie=l((()=>_.mjDrawForm)),se=t(),de=h(),ne=t([]),ue=t(0);w({page:1,size:20}).then((e=>{let a=e.data.rows;ne.value=a,ue.value=1}));const ve=t({status:0}),oe=async e=>{if(!e)return;const a=await R({jobId:e});ve.value=a.data;const l=a.data;if(6===a.data.status)return 9===l.action?Q.openRegionModal(!0,{customId:l.customId,taskId:l.id,mode:l.mode}):_.updateRemixModal(!0,{prompt:"",taskId:l.id,customId:l.customId}),void(xe.value&&clearTimeout(xe.value));xe.value&&ve.value.status>=4&&clearTimeout(xe.value),ve.value.status>=4&&(m.value=0,o.emit("status",m.value),xe.value&&clearTimeout(xe.value)),3==ve.value.status&&xe.value&&clearTimeout(xe.value)};F((()=>$.value),(e=>{e||setTimeout((()=>{se.value?oe(se.value):re.value&&oe(re.value),fe()}),1e3)}));const re=t(),ce=t(null),me=()=>{ce.value.scrollTo({top:0,behavior:"smooth"})},pe=e=>{re.value=e,me(),oe(e),fe()},ge=e=>{se.value=e,me(),oe(e),fe()},xe=t(),fe=()=>{xe.value&&clearTimeout(xe.value),xe.value=setTimeout((()=>{var e,a;if((null==(e=ve.value)?void 0:e.status)===D.DRAWFAIL||(null==(a=ve.value)?void 0:a.status)===D.DRAWTIMEOUT)return xe.value&&clearTimeout(xe.value),m.value=0,o.emit("status",m.value),ne.value.unshift(ve.value),o.emit("newDrawLogList",ne.value),re.value="",se.value="",void w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));fe(),se.value?oe(se.value):re.value&&oe(re.value)}),3e3)};A((()=>{xe.value&&clearTimeout(xe.value),xe.value=null,r.updateDrawId({id:""})}));const ye=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:" 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:" 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:" 5"}],ke=[{name:"Niji 6",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6"},{name:"Niji 5",intro:"增加真实风格图像细节",id:1,value:" 5"},{name:"Niji 4",intro:"专注真实艺术风格图像",id:2,value:" 4"}],be=t(0),he=t(!0);function we(e){be.value=e.index,o.emit("--v",e.item.value),0!=e.item.id?he.value=!1:he.value=!0}const Fe=t(!1);function Ae(e){Fe.value=e,e||(Ie.value="")}const Ie=t("");t(0),t([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),t(!1),t(0);const Se=t([]),Ce=["jpg","jpeg","png"],Be=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,l)=>{const t=new FileReader;t.readAsDataURL(a),t.onload=function(){const a=t.result.split(",")[1];e(a)},t.onerror=function(){l(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;Se.value.push(a)})),"removed"===e.file.status&&(Se.value=[])},Ee=t("/api/upload/file"),Le=new FormData,je=new FormData,ze=new FormData,_e=t([]),De=t([]),Te=t([]),Pe=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return de.warning("最多只能上传3张图片"),!1;Le.append("file",e.file.file);const t=await J.post(Ee.value,Le,{headers:{"Content-Type":"multipart/form-data"}});return Le.delete("file"),_e.value=[..._e.value,{url:t.data.data,name:l}],console.log("垫图",_e.value),o.emit("pidImgList",_e.value),Ce.includes(a)&&e.fileList.length<=3},Me=e=>{const a=e.file.name,l=e.file.name.split(".")[0];ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),_e.value=_e.value.filter((e=>e.name!=l)),o.emit("pidImgList",_e.value),Je()},Ne=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=1)return de.warning("最多只能上传1张图片"),!1;je.append("file",e.file.file);const t=await J.post(Ee.value,je,{headers:{"Content-Type":"multipart/form-data"}});return je.delete("file"),De.value=[...De.value,{url:t.data.data,name:l}],console.log("角色",De.value),o.emit("roleImgList",De.value),Ce.includes(a)&&e.fileList.length<=1},Ve=e=>{const a=e.file.name,l=e.file.name.split(".")[0];ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),De.value=De.value.filter((e=>e.name!=l)),o.emit("roleImgList",De.value),Je()},Ue=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return de.warning("最多只能上传3张图片"),!1;ze.append("file",e.file.file);const t=await J.post(Ee.value,ze,{headers:{"Content-Type":"multipart/form-data"}});return ze.delete("file"),Te.value=[...Te.value,{url:t.data.data,name:l}],console.log("风格",Te.value),o.emit("styleImgList",Te.value),Ce.includes(a)&&e.fileList.length<=3},Re=e=>{const a=e.file.name,l=e.file.name.split(".")[0];Te.value=Te.value.filter((e=>e.name!=l)),o.emit("styleImgList",Te.value),ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),Je()},Je=async()=>{_.updateMjDrawForm(ie.value)};const Oe=t(!1);o.on("error",(e=>{Oe.value=e}));const We=()=>{Oe.value=!1},qe=()=>{Oe.value=!1,_.checkAuth()&&a.updateVipDialog(!0)},Ge=t(!1);o.emit("drawRoute",I.options.history.location);const He=t("/midjourney/text-to-image");He.value=I.currentRoute.value.fullPath;const Ke=t(0);function Qe(e){Ke.value=e,be.value=0,0==e?(o.emit("MjOrNj","--v"),o.emit("--v",ye[0].value)):1==e&&(o.emit("MjOrNj","--niji"),o.emit("--v",ke[0].value))}const $e=t(0),Xe=t(null),Ye=t([]);S({page:1,size:20,type:"style"}).then((e=>{let a=e.data.filter((e=>2==e.level));Ye.value=a,ea(Ye.value[0].pid)}));const Ze=t([]);function ea(e){C({id:e}).then((e=>{console.log(e.data.rows[0].children),e.data.rows.length&&(Ze.value=e.data.rows[0].children)}))}const la=e=>{m.value=e,1==e&&(ia.value=0,mt.value=0,ft.value=0,yt.value=0,bt.value=10,kt.value=0,_t.value="",o.emit("--cw",ia.value),o.emit("--sw",mt.value),o.emit("--s",ft.value),o.emit("--c",yt.value),o.emit("--weird",kt.value),o.emit("--stop",bt.value),o.emit("--no",_t.value))},ia=t(0),mt=t(0);function pt(){o.emit("--cw",ia.value)}function gt(){o.emit("--sw",mt.value)}const xt=t(0),ft=t(0),yt=t(0),kt=t(0),bt=t(10);function ht(){o.emit("--s",ft.value)}function wt(){o.emit("--c",yt.value)}function Ft(){o.emit("--weird",kt.value)}function At(){o.emit("--stop",bt.value)}t(!1),F((()=>$.value),(e=>{e||handleQueryTaskByPage()}));const It=t(!1),St=t(!1),Ct=t(!1),Bt=t(!1),Et=t(!1),Lt=t(!1),jt=t(!1);function zt(e){0==e?It.value=!It.value:1==e?St.value=!St.value:2==e?Ct.value=!Ct.value:3==e?Bt.value=!Bt.value:4==e?Et.value=!Et.value:5==e?Lt.value=!Lt.value:6==e&&(jt.value=!jt.value)}const _t=t("");function Dt(){o.emit("--no",_t.value)}const Tt=t(""),Pt=t([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);Tt.value=Pt.value[0].name;const Mt=t(!1),Nt=t(!1);function Vt(){Nt.value=!Nt.value}const Ut=t([{name:"1x - 默认",id:0,isSelect:!0,value:1},{name:"0.25x",id:1,isSelect:!1,value:.25},{name:"0.5x",id:2,isSelect:!1,value:.5}]),Rt=t("");function Jt(){o.emit("--seed",xt.value)}Rt.value=Ut.value[0].name;const Ot=t();const Wt=t(!1);function qt(){Wt.value=!Wt.value}return(e,a)=>{var l;return i(),s(p,null,[Ge.value?(i(),s("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>Ge.value=!1)})):B("",!0),E(c)?(i(),s("div",sa,[L(G)])):B("",!0),Oe.value?(i(),s("div",da,[L(H,{onClosePop:We,onBuyVip:qe})])):B("",!0),E(c)?B("",!0):(i(),s("div",na,[E(c)?B("",!0):(i(),j(ee,{key:0})),d("div",ua,[d("div",va,[d("div",oa,[d("div",ra,[d("div",ca,[(i(!0),s(p,null,g(E(T),(e=>(i(),s("div",{class:n(He.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){I.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&o.emit("upLoadShow",1)}(e)},f(e.menuName),11,ma)))),128))]),pa]),d("div",ga,[d("div",xa,[fa,d("div",ya,[d("div",ka,[d("div",{style:{"margin-right":"8px"},onClick:a[1]||(a[1]=e=>Qe(0)),class:n(0==Ke.value?"select":"unSelect")},ba,2),d("div",{onClick:a[2]||(a[2]=e=>Qe(1)),class:n(1==Ke.value?"select":"unSelect")},ha,2)]),0==Ke.value?(i(),s("div",wa,[Fa,(i(),s(p,null,g(ye,((e,a)=>d("div",{class:n(be.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:l=>we({item:e,index:a})},f(e.name),11,Aa))),64))])):B("",!0),1==Ke.value?(i(),s("div",Ia,[Sa,(i(),s(p,null,g(ke,((e,a)=>d("div",{class:n(be.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:l=>we({item:e,index:a})},f(e.name),11,Ca))),64))])):B("",!0)])]),d("div",Ba,[Ea,d("div",La,[d("div",{class:"styleBox",ref_key:"container",ref:Xe},[(i(!0),s(p,null,g(Ye.value,((e,a)=>(i(),s("div",{class:n($e.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){$e.value=e,ea(Ye.value[e].pid);let a=Xe.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},f(e.classifyName),11,ja)))),128))],512),d("div",{class:"styleImgBox",style:x(Wt.value?"height: auto":"max-height:285px")},[(i(!0),s(p,null,g(Ze.value,((e,a)=>(i(),s("div",{class:n(Ot.value==a?"styleImgItemSelect":"styleImgItem"),onClick:l=>{return t={item:e,index:a},Ot.value=t.index,void o.emit("styleWord",t.item.incantationEn);var t}},[d("div",_a,f(e.incantationCn),1),d("img",{src:e.img,alt:""},null,8,Da)],10,za)))),256))],4),Ze.value.length>9?(i(),s("div",{key:0,onClick:qt,class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},Ta)):B("",!0)])]),he.value?(i(),s("div",Pa,[d("div",Ma,[d("div",Na,[d("div",{class:n(Ct.value?"putExpand":"putAway")},[L(E(P),{onClick:a[3]||(a[3]=e=>zt(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Va])]),d("div",{class:n(Ct.value?"modePutExpand":"modePutAway")},[Ua,d("div",Ra,[d("div",null,[L(E(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":Pe,"on-remove":Me,"list-type":"image-card","directory-dnd":""})])]),d("div",Ja,[d("div",Oa,[Wa,qa,Ga,d("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[4]||(a[4]=e=>{Mt.value=!Mt.value})},[d("div",null,f(Tt.value),1),L(E(P),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),Mt.value?(i(),s("div",Ha,[(i(!0),s(p,null,g(Pt.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){Pt.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,Tt.value=e.name,Mt.value=!1,o.emit("--iw",e.value)}(e)},[N(f(e.name)+" ",1),e.isSelect?(i(),j(E(P),{key:0,icon:"dashicons:yes",class:"text-2xl"})):B("",!0)],10,Ka)))),128))])):B("",!0)])])],2)])):B("",!0),he.value?(i(),s("div",Qa,[d("div",$a,[d("div",Xa,[d("div",{class:n(Bt.value?"putExpand":"putAway")},[L(E(P),{onClick:a[5]||(a[5]=e=>zt(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Ya])]),d("div",{class:n(Bt.value?"modePutExpand":"modePutAway")},[Za,d("div",el,[d("div",null,[L(E(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":Ne,"on-remove":Ve,"list-type":"image-card","directory-dnd":""})])]),d("div",al,[d("div",ll,[tl,il,d("div",sl,[L(E(U),{vertical:""},{default:z((()=>[L(E(V),{value:ia.value,"onUpdate:value":a[6]||(a[6]=e=>ia.value=e),step:1,max:100,onDragend:pt},null,8,["value"])])),_:1})]),d("div",dl,f(ia.value),1)])])],2)])):B("",!0),he.value?(i(),s("div",nl,[d("div",ul,[d("div",vl,[d("div",{class:n(Et.value?"putExpand":"putAway")},[L(E(P),{onClick:a[7]||(a[7]=e=>zt(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ol])]),d("div",{class:n(Et.value?"modePutExpand":"modePutAway")},[rl,d("div",cl,[d("div",null,[L(E(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":Ue,"on-remove":Re,"list-type":"image-card","directory-dnd":""})])]),d("div",ml,[d("div",pl,[gl,xl,d("div",fl,[L(E(U),{vertical:""},{default:z((()=>[L(E(V),{value:mt.value,"onUpdate:value":a[8]||(a[8]=e=>mt.value=e),step:1,max:100,onDragend:gt},null,8,["value"])])),_:1})]),d("div",yl,f(mt.value),1)])])],2)])):B("",!0),d("div",kl,[L(aa)]),d("div",bl,[d("div",hl,[d("div",{class:n(Lt.value?"putExpand":"putAway")},[L(E(P),{onClick:a[9]||(a[9]=e=>zt(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),wl]),d("div",{class:n(Lt.value?"modePutExpand":"modePutAway")},[u(d("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:Dt,"onUpdate:modelValue":a[10]||(a[10]=e=>_t.value=e)},null,544),[[v,_t.value]])],2)]),d("div",Fl,[d("div",Al,[d("div",{class:n(jt.value?"putExpand":"putAway")},[L(E(P),{onClick:a[11]||(a[11]=e=>zt(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Il]),d("div",{class:n(jt.value?"modePutExpand":"modePutAway")},[d("div",Sl,[Cl,Bl,u(d("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[12]||(a[12]=e=>xt.value=e),onInput:Jt,type:"number"},null,544),[[v,xt.value]])]),d("div",El,[Ll,jl,d("div",zl,[L(E(U),{vertical:""},{default:z((()=>[L(E(V),{value:ft.value,"onUpdate:value":a[13]||(a[13]=e=>ft.value=e),step:1,max:100,onDragend:ht},null,8,["value"])])),_:1})]),d("div",_l,f(ft.value),1)]),d("div",Dl,[Tl,Pl,d("div",Ml,[L(E(U),{vertical:""},{default:z((()=>[L(E(V),{value:yt.value,"onUpdate:value":a[14]||(a[14]=e=>yt.value=e),step:1,max:100,onDragend:wt},null,8,["value"])])),_:1})]),d("div",Nl,f(yt.value),1)]),d("div",Vl,[Ul,Rl,d("div",Jl,[d("div",{style:{display:"flex","justify-content":"space-between",width:"100%"},onClick:Vt},[d("div",null,f(Rt.value),1),d("div",null,[L(E(P),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])]),Nt.value?(i(),s("div",Ol,[(i(!0),s(p,null,g(Ut.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){Ut.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,Rt.value=e.name,Nt.value=!1,o.emit("--q",e.value)}(e)},[N(f(e.name)+" ",1),e.isSelect?(i(),j(E(P),{key:0,icon:"dashicons:yes",class:"text-2xl"})):B("",!0)],10,Wl)))),128))])):B("",!0)])]),d("div",ql,[Gl,Hl,d("div",Kl,[L(E(U),{vertical:""},{default:z((()=>[L(E(V),{value:kt.value,"onUpdate:value":a[15]||(a[15]=e=>kt.value=e),step:1,max:100,onDragend:Ft},null,8,["value"])])),_:1})]),d("div",Ql,f(kt.value),1)]),d("div",$l,[Xl,Yl,d("div",Zl,[L(E(U),{vertical:""},{default:z((()=>[L(E(V),{value:bt.value,"onUpdate:value":a[16]||(a[16]=e=>bt.value=e),step:1,max:100,min:10,onDragend:At},null,8,["value"])])),_:1})]),d("div",et,f(bt.value),1)])],2)])]),d("div",at,[d("div",lt,[d("img",{class:"avatar",src:Z.value?Z.value:"./img/avatar.png",alt:"",onClick:a[17]||(a[17]=e=>Ge.value=!0)},null,8,tt)]),d("div",null,[d("div",it,f(le.value),1),d("div",st," 绘画积分:"+f(null==(l=te.value)?void 0:l.drawMjCount),1)])])]),d("div",dt,[nt,d("div",{style:{"overflow-y":"auto",position:"relative"},ref_key:"toTop",ref:ce},[0!=ne.value.length||se.value?B("",!0):(i(),s("div",ut,[0==ue.value&&Y.value?(i(),s("div",vt,[L(ta)])):B("",!0),0==ue.value&&Y.value?B("",!0):(i(),j(X,{key:1}))])),0!=ne.value.length||se.value?(i(),s("div",ot,[se.value?(i(),j(O,{key:0,task:ve.value,onRefresh:ge},null,8,["task"])):B("",!0),re.value?(i(),j(W,{key:1,task:ve.value,onNewJob:pe},null,8,["task"])):B("",!0),d("div",rt,[L(q,{drawLogList:ne.value,onNewJobId:pe},null,8,["drawLogList"])])])):B("",!0)],512),d("div",ct,[L(K,{sendType:0,onIsSettingShow:Ae,onGetjobId:ge,onResquestStatus:la})])])])])]))],64)}}}),[["__scopeId","data-v-c1d02d06"]]);export{mt as default};
