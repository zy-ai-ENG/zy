import{d as e,e as a,c as l,y as t,o as i,i as s,j as d,M as n,a1 as v,a2 as o,an as u,C as r,D as c,E as m,F as g,r as p,a3 as x,m as f,aI as y,b as k,g as b,u as h,aG as w,aM as F,W as A,aF as I,a5 as S,aN as B,l as C,h as E,n as L,k as z,w as D,aJ as P,aK as j,aO as T,_,aL as M,$ as U,aP as V,L as N,aQ as R,ag as J,aD as O}from"../main-f64d6916.js";import{_ as W,d as q,a as G,b as $,p as Q,N as H,e as K,g as X,c as Y}from"../popup/popup.439d5bf1.js";import{S as Z}from"../index/index.45494a83.js";import{u as ee}from"../index/index.4692312d.js";import"../punycode@2.3.0/punycode@2.3.0.8a62a219.js";import"../draw-fail/draw-fail.50b43169.js";const ae="/static/svg/9.16-8968f21a.svg",le="/static/svg/9.16Light-92609f96.svg",te="/static/svg/4.3-6838831b.svg",ie="/static/svg/4.3Light-c190a37f.svg",se=e=>(r("data-v-7e62bb57"),e=e(),c(),e),de={class:"imgSizeBox"},ne={class:"imgBox"},ve={key:0,src:"/static/svg/1.1-68cd80ea.svg",alt:""},oe={key:1,src:"/static/svg/1.1Light-7c7c45ed.svg",alt:""},ue=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),re=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),ce={class:"imgBox"},me={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},ge={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},pe=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),xe=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),fe={class:"imgBox"},ye={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},ke={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},be=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),he=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),we={class:"imgBox"},Fe={key:0,src:ae,alt:""},Ae={key:1,src:le,alt:""},Ie=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Se=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Be={class:"imgBox"},Ce={key:0,src:te,alt:""},Ee={key:1,src:ie,alt:""},Le=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),ze=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),De={class:"imgBox"},Pe={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},je={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},Te=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),_e=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Me={class:"imgBox"},Ue={key:0,src:ae,alt:""},Ve={key:1,src:le,alt:""},Ne=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Re=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Je={class:"imgBox"},Oe={key:0,src:te,alt:""},We={key:1,src:ie,alt:""},qe=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Ge=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),$e={class:"imgBox"},Qe={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},He={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Ke=se((()=>d("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),Xe={style:{display:"flex","margin-top":"8px"}},Ye=se((()=>d("div",{style:{margin:"0 4px"}},":",-1))),Ze=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),ea=m(e({__name:"imgSize",setup(e){const r=a(),c=l((()=>"dark"===r.theme)),m=t(0),g=t(1),p=t(1),x=t("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=g+":"+p),u.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",de,[d("div",{class:n([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[d("div",ne,[c.value?(i(),s("img",ve)):(i(),s("img",oe))]),ue,re],2),d("div",{class:n([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[d("div",ce,[c.value?(i(),s("img",me)):(i(),s("img",ge))]),pe,xe],2),d("div",{class:n([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[d("div",fe,[c.value?(i(),s("img",ye)):(i(),s("img",ke))]),be,he],2),d("div",{class:n([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[d("div",we,[c.value?(i(),s("img",Fe)):(i(),s("img",Ae))]),Ie,Se],2),d("div",{class:n([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[d("div",Be,[c.value?(i(),s("img",Ce)):(i(),s("img",Ee))]),Le,ze],2),d("div",{class:n([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[d("div",De,[c.value?(i(),s("img",Pe)):(i(),s("img",je))]),Te,_e],2),d("div",{class:n([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[d("div",Me,[c.value?(i(),s("img",Ue)):(i(),s("img",Ve))]),Ne,Re],2),d("div",{class:n([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[d("div",Je,[c.value?(i(),s("img",Oe)):(i(),s("img",We))]),qe,Ge],2),d("div",{class:n([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[d("div",$e,[c.value?(i(),s("img",Qe)):(i(),s("img",He)),Ke]),d("div",Xe,[v(d("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>g.value=e),type:"text"},null,512),[[o,g.value]]),Ye,v(d("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>p.value=e),type:"text"},null,512),[[o,p.value]])]),Ze],2)]))}}),[["__scopeId","data-v-7e62bb57"]]),aa={class:"loading-text"},la=m(e({__name:"Loading1",props:{gap:{default:10},progress:{default:0},tips:{default:""},bgColor:{},words:{default:["L","O","A","D","I","N","G"]}},setup(e){const t=e,n=a(),v=l((()=>n.theme)),o=l((()=>"dark"===v.value?"#fff":"#000"));return(e,a)=>(i(),s("div",{class:"loading",style:x({background:t.bgColor})},[d("div",aa,[(i(!0),s(g,null,p(t.words,(e=>(i(),s("span",{key:e,style:x({margin:`0 ${t.gap}px`,color:o.value}),class:"loading-text-words"},f(e),5)))),128))])],4))}}),[["__scopeId","data-v-2f5e1775"]]),ta=e=>(r("data-v-50e3b660"),e=e(),c(),e),ia={key:1},sa={key:2},da={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},na={style:{width:"100%"}},va={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},oa={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ua={style:{position:"fixed","z-index":"99",width:"278px","padding-bottom":"10px"},class:"bg-[#fff] dark:bg-[#15171A]"},ra={style:{display:"flex","margin-top":"12px"}},ca=["onClick"],ma=P('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-50e3b660><img class="logoImg" src="'+K+'" alt="" data-v-50e3b660><div class="titleBox" data-v-50e3b660><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-50e3b660>Mid Journey</p><p class="title2" data-v-50e3b660>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-50e3b660> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),ga={style:{"margin-top":"280px","margin-bottom":"30px"}},pa={class:"modeBox"},xa=ta((()=>d("div",{class:"modeTitle"},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),fa={class:"modePutExpand"},ya={class:"modeImg"},ka=[ta((()=>d("div",{class:"imgText"},[d("p",null,"Midjourney"),d("p",null,"真实感强")],-1))),ta((()=>d("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],ba=[ta((()=>d("div",{class:"imgText"},[d("p",null,"Niji"),d("p",null,"卡通动漫")],-1))),ta((()=>d("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],ha={class:"modeSelect"},wa=ta((()=>d("p",null,"版本",-1))),Fa=["onClick"],Aa={class:"styleMain"},Ia={style:{display:"flex"}},Sa=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择",-1))),Ba=["onClick"],Ca={class:"styleImgBox"},Ea={class:"styleImgItem"},La={class:"styleImgText"},za=["src"],Da=ta((()=>d("div",{class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},[d("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""})],-1))),Pa={class:"padMapBox"},ja={style:{display:"flex","justify-content":"space-between"}},Ta={style:{display:"flex"}},_a=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Ma=ta((()=>d("div",{class:"uploadBtn"},"上传网络图片",-1))),Ua=ta((()=>d("div",null,[d("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),d("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Va={class:"upLoadContent"},Na={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Ra={style:{display:"flex","align-items":"center"}},Ja=ta((()=>d("div",{class:"similarText"},"-- iw 图片相似度",-1))),Oa=ta((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Wa=ta((()=>d("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),qa={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Ga=["onClick"],$a={class:"roleConsistent"},Qa={style:{display:"flex","justify-content":"space-between"}},Ha={style:{display:"flex"}},Ka=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),Xa=ta((()=>d("div",{class:"uploadBtn"},"上传网络图片",-1))),Ya=ta((()=>d("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),Za={class:"upLoadContent"},el={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},al={style:{display:"flex","align-items":"center"}},ll=ta((()=>d("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),tl=ta((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),il={style:{width:"102px"}},sl={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},dl={class:"styleConsistent"},nl={style:{display:"flex","justify-content":"space-between"}},vl={style:{display:"flex"}},ol=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),ul=ta((()=>d("div",{class:"uploadBtn"},"上传网络图片",-1))),rl=ta((()=>d("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),cl={class:"upLoadContent"},ml={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},gl={style:{display:"flex","align-items":"center"}},pl=ta((()=>d("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),xl=ta((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),fl={style:{width:"102px"}},yl={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},kl={class:"imgSize"},bl={class:"notWant"},hl={style:{display:"flex"}},wl=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),Fl={class:"parameterBox"},Al={style:{display:"flex"}},Il=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),Sl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Bl=ta((()=>d("div",null,"--seed 种子",-1))),Cl=ta((()=>d("div",{class:"parameterLine"},null,-1))),El={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ll=ta((()=>d("div",null,"--s 风格化",-1))),zl=ta((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Dl={style:{width:"120px"}},Pl={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},jl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Tl=ta((()=>d("div",null,"--c 多样性",-1))),_l=ta((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Ml={style:{width:"120px"}},Ul={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Vl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Nl=ta((()=>d("div",null,"--quality 质量",-1))),Rl=ta((()=>d("div",{class:"parameterLine"},null,-1))),Jl={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},Ol=ta((()=>d("div",null,"1x -默认",-1))),Wl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},ql=ta((()=>d("div",null,"--weird 奇妙",-1))),Gl=ta((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"5px","margin-right":"5px"}},null,-1))),$l={style:{width:"110px"}},Ql={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},Hl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Kl=ta((()=>d("div",null,"--stop 停止",-1))),Xl=ta((()=>d("img",{src:X,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Yl={style:{width:"110px"}},Zl={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},et={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},at=ta((()=>d("div",null,"--tile 无缝图案",-1))),lt={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},tt={class:"userInfoAvatar"},it=["src"],st={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},dt=ta((()=>d("div",{class:"drawIntegral",style:{"margin-left":"12px"}},"123456",-1))),nt={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},vt=ta((()=>d("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[d("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),d("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ot={key:0,class:"w-full",style:{padding:"0 40px",position:"relative"}},ut={key:0,style:{height:"780px"}},rt={key:1,class:"drawList"},ct={style:{"margin-top":"10px"}},mt={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},gt=m(e({__name:"text2image",setup(e){const a=y(),r=k(),{isMobile:c}=b(),m=t(),x=k(),P=ee(),K=l((()=>P.openRegionDialog)),X=l((()=>x.isLogin)),ae=l((()=>x.userInfo.avatar)),le=l((()=>x.userInfo.username));l((()=>x.userBalance));const te=l((()=>x.mjDrawForm)),ie=t(),se=h(),de=t([]),ne=t(0);w({page:1,size:20}).then((e=>{de.value=e.data.rows,ne.value=1,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));const ve=t({status:0}),oe=t([{classifyName:"推荐",id:0,type:"style",pid:68}]);F({page:1,size:20,type:"style"}).then((e=>{oe.value=[...oe.value,...e.data],console.log(oe.value)}));const ue=async e=>{if(!e)return;const a=await J({jobId:e});ve.value=a.data;const l=a.data;if(6===a.data.status)return 9===l.action?P.openRegionModal(!0,{customId:l.customId,taskId:l.id,mode:l.mode}):x.updateRemixModal(!0,{prompt:"",taskId:l.id,customId:l.customId}),void(xe.value&&clearTimeout(xe.value));xe.value&&ve.value.status>=4&&clearTimeout(xe.value),ve.value.status>=4&&(m.value=0,u.emit("status",m.value))};A((()=>K.value),(e=>{e||setTimeout((()=>{ie.value?ue(ie.value):re.value&&ue(re.value),fe()}),1e3)}));const re=t(),ce=t(null),me=()=>{ce.value.scrollTo({top:0,behavior:"smooth"})},ge=e=>{re.value=e,me(),ue(e),fe()},pe=e=>{ie.value=e,me(),ue(e),fe()},xe=t(),fe=()=>{xe.value&&clearTimeout(xe.value),xe.value=setTimeout((()=>{var e,a;if((null==(e=ve.value)?void 0:e.status)===j.DRAWFAIL||(null==(a=ve.value)?void 0:a.status)===j.DRAWTIMEOUT)return xe.value&&clearTimeout(xe.value),m.value=0,u.emit("status",m.value),de.value.unshift(ve.value),u.emit("newDrawLogList",de.value),re.value="",ie.value="",void w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));fe(),ie.value?ue(ie.value):re.value&&ue(re.value)}),3e3)};I((()=>{xe.value&&clearTimeout(xe.value),xe.value=null,r.updateDrawId({id:""})}));const ye=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:"--v 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:"--v 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:"--v 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:"--v 5"}],ke=t(0);const be=t(!1);function he(e){be.value=e,e||(we.value="")}const we=t("");t(0),t([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),t(!1),t(0);const Fe=e=>{m.value=e},Ae=t([]),Ie=["jpg","jpeg","png"],Se=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,l)=>{const t=new FileReader;t.readAsDataURL(a),t.onload=function(){const a=t.result.split(",")[1];e(a)},t.onerror=function(){l(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;Ae.value.push(a)})),"removed"===e.file.status&&(Ae.value=[])},Be=t(`${{}.VITE_APP_API_BASE_URL}/api/upload/file`),Ce=new FormData,Ee=new FormData,Le=new FormData,ze=t([]),De=t([]),Pe=t([]),je=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return se.warning("最多只能上传3张图片"),!1;Ce.append("file",e.file.file);const t=await O.post(Be.value,Ce,{headers:{"Content-Type":"multipart/form-data"}});return Ce.delete("file"),ze.value=[...ze.value,{url:t.data.data,name:l}],console.log("垫图",ze.value),u.emit("pidImgList",ze.value),Ie.includes(a)&&e.fileList.length<=3},Te=e=>{const a=e.file.name,l=e.file.name.split(".")[0];te.value.extendParam=te.value.extendParam.filter((e=>!e.filename.includes(a))),ze.value=ze.value.filter((e=>e.name!=l)),u.emit("pidImgList",ze.value),Ne()},_e=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=1)return se.warning("最多只能上传1张图片"),!1;Ee.append("file",e.file.file);const t=await O.post(Be.value,Ee,{headers:{"Content-Type":"multipart/form-data"}});return Ee.delete("file"),De.value=[...De.value,{url:t.data.data,name:l}],console.log("角色",De.value),u.emit("roleImgList",De.value),Ie.includes(a)&&e.fileList.length<=1},Me=e=>{const a=e.file.name,l=e.file.name.split(".")[0];te.value.extendParam=te.value.extendParam.filter((e=>!e.filename.includes(a))),De.value=De.value.filter((e=>e.name!=l)),u.emit("roleImgList",De.value),Ne()},Ue=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return se.warning("最多只能上传3张图片"),!1;Le.append("file",e.file.file);const t=await O.post(Be.value,Le,{headers:{"Content-Type":"multipart/form-data"}});return Le.delete("file"),Pe.value=[...Pe.value,{url:t.data.data,name:l}],console.log("风格",Pe.value),u.emit("styleImgList",Pe.value),Ie.includes(a)&&e.fileList.length<=3},Ve=e=>{const a=e.file.name,l=e.file.name.split(".")[0];Pe.value=Pe.value.filter((e=>e.name!=l)),u.emit("styleImgList",Pe.value),te.value.extendParam=te.value.extendParam.filter((e=>!e.filename.includes(a))),Ne()},Ne=async()=>{x.updateMjDrawForm(te.value)};const Re=t(!1);u.on("error",(e=>{Re.value=e}));const Je=()=>{Re.value=!1},Oe=()=>{Re.value=!1,x.checkAuth()&&a.updateVipDialog(!0)},We=t(!1);u.emit("drawRoute",S.options.history.location);const qe=t("/midjourney/text-to-image");qe.value=S.currentRoute.value.fullPath;const Ge=t(0);function $e(e){Ge.value=e}const Qe=t(0),He=t(null);Xe(oe.value[0].pid);const Ke=t([]);function Xe(e){B({id:e}).then((e=>{console.log(e.data.rows),e.data.rows.length&&(Ke.value=e.data.rows[0].children,console.log("=====",Ke.value))}))}const Ye=t(0),Ze=t(0);function aa(){u.emit("--cw",Ye.value)}function ta(){u.emit("--sw",Ze.value)}const gt=t(0),pt=t(0),xt=t(0),ft=t(0),yt=t(0),kt=t(!1);function bt(){u.emit("--s",pt.value)}function ht(){u.emit("--c",xt.value)}function wt(){console.log("--weird ",ft.value)}function Ft(){console.log("--stop ",yt.value)}function At(){console.log(kt.value)}A((()=>K.value),(e=>{e||handleQueryTaskByPage()}));const It=t(!1),St=t(!1),Bt=t(!1),Ct=t(!1),Et=t(!1),Lt=t(!1),zt=t(!1);function Dt(e){0==e?It.value=!It.value:1==e?St.value=!St.value:2==e?Bt.value=!Bt.value:3==e?Ct.value=!Ct.value:4==e?Et.value=!Et.value:5==e?Lt.value=!Lt.value:6==e&&(zt.value=!zt.value)}const Pt=t("");function jt(){u.emit("--no",Pt.value)}const Tt=t(""),_t=t([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);Tt.value=_t.value[0].name;const Mt=t(!1);return(e,a)=>(i(),s(g,null,[We.value?(i(),s("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>We.value=!1)})):C("",!0),E(c)?(i(),s("div",ia,[L($)])):C("",!0),Re.value?(i(),s("div",sa,[L(Q,{onClosePop:Je,onBuyVip:Oe})])):C("",!0),E(c)?C("",!0):(i(),s("div",da,[E(c)?C("",!0):(i(),z(Z,{key:0})),d("div",na,[d("div",va,[d("div",oa,[d("div",ua,[d("div",ra,[(i(!0),s(g,null,p(E(T),(e=>(i(),s("div",{class:n(qe.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){S.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&u.emit("upLoadShow",1)}(e)},f(e.menuName),11,ca)))),128))]),ma]),d("div",ga,[d("div",pa,[xa,d("div",fa,[d("div",ya,[d("div",{style:{"margin-right":"8px"},onClick:a[1]||(a[1]=e=>$e(0)),class:n(0==Ge.value?"select":"unSelect")},ka,2),d("div",{onClick:a[2]||(a[2]=e=>$e(1)),class:n(1==Ge.value?"select":"unSelect")},ba,2)]),d("div",ha,[wa,(i(),s(g,null,p(ye,((e,a)=>d("div",{class:n(ke.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:l=>{return t={item:e,index:a},ke.value=t.index,void u.emit("--v",t.item.value);var t}},f(e.name),11,Fa))),64))])])]),d("div",Aa,[d("div",Ia,[d("div",{class:n(St.value?"putExpand":"putAway")},[L(E(_),{onClick:a[3]||(a[3]=e=>Dt(1)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Sa]),d("div",{class:n(St.value?"modePutExpand":"modePutAway")},[d("div",{class:"styleBox",ref_key:"container",ref:He},[(i(!0),s(g,null,p(oe.value,((e,a)=>(i(),s("div",{class:n(Qe.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){Qe.value=e,Xe(oe.value[e].pid);let a=He.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},f(e.classifyName),11,Ba)))),128))],512),d("div",Ca,[(i(!0),s(g,null,p(Ke.value,(e=>(i(),s("div",Ea,[d("div",La,f(e.incantationCn),1),d("img",{src:e.img,alt:""},null,8,za)])))),256))]),Da],2)]),d("div",Pa,[d("div",ja,[d("div",Ta,[d("div",{class:n(Bt.value?"putExpand":"putAway")},[L(E(_),{onClick:a[4]||(a[4]=e=>Dt(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),_a]),Ma]),d("div",{class:n(Bt.value?"modePutExpand":"modePutAway")},[Ua,d("div",Va,[d("div",null,[L(E(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Se,"on-before-upload":je,"on-remove":Te,"list-type":"image-card","directory-dnd":""})])]),d("div",Na,[d("div",Ra,[Ja,Oa,Wa,d("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[5]||(a[5]=e=>{Mt.value=!Mt.value})},[d("div",null,f(Tt.value),1),L(E(_),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),Mt.value?(i(),s("div",qa,[(i(!0),s(g,null,p(_t.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){_t.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,Tt.value=e.name,Mt.value=!1,u.emit("--iw",e.value)}(e)},[U(f(e.name)+" ",1),e.isSelect?(i(),z(E(_),{key:0,icon:"dashicons:yes",class:"text-2xl"})):C("",!0)],10,Ga)))),128))])):C("",!0)])])],2)]),d("div",$a,[d("div",Qa,[d("div",Ha,[d("div",{class:n(Ct.value?"putExpand":"putAway")},[L(E(_),{onClick:a[6]||(a[6]=e=>Dt(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Ka]),Xa]),d("div",{class:n(Ct.value?"modePutExpand":"modePutAway")},[Ya,d("div",Za,[d("div",null,[L(E(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Se,"on-before-upload":_e,"on-remove":Me,"list-type":"image-card","directory-dnd":""})])]),d("div",el,[d("div",al,[ll,tl,d("div",il,[L(E(N),{vertical:""},{default:D((()=>[L(E(V),{value:Ye.value,"onUpdate:value":a[7]||(a[7]=e=>Ye.value=e),step:1,max:100,onDragend:aa},null,8,["value"])])),_:1})]),d("div",sl,f(Ye.value),1)])])],2)]),d("div",dl,[d("div",nl,[d("div",vl,[d("div",{class:n(Et.value?"putExpand":"putAway")},[L(E(_),{onClick:a[8]||(a[8]=e=>Dt(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ol]),ul]),d("div",{class:n(Et.value?"modePutExpand":"modePutAway")},[rl,d("div",cl,[d("div",null,[L(E(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Se,"on-before-upload":Ue,"on-remove":Ve,"list-type":"image-card","directory-dnd":""})])]),d("div",ml,[d("div",gl,[pl,xl,d("div",fl,[L(E(N),{vertical:""},{default:D((()=>[L(E(V),{value:Ze.value,"onUpdate:value":a[9]||(a[9]=e=>Ze.value=e),step:1,max:100,onDragend:ta},null,8,["value"])])),_:1})]),d("div",yl,f(Ze.value),1)])])],2)]),d("div",kl,[L(ea)]),d("div",bl,[d("div",hl,[d("div",{class:n(Lt.value?"putExpand":"putAway")},[L(E(_),{onClick:a[10]||(a[10]=e=>Dt(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),wl]),d("div",{class:n(Lt.value?"modePutExpand":"modePutAway")},[v(d("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:jt,"onUpdate:modelValue":a[11]||(a[11]=e=>Pt.value=e)},null,544),[[o,Pt.value]])],2)]),d("div",Fl,[d("div",Al,[d("div",{class:n(zt.value?"putExpand":"putAway")},[L(E(_),{onClick:a[12]||(a[12]=e=>Dt(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Il]),d("div",{class:n(zt.value?"modePutExpand":"modePutAway")},[d("div",Sl,[Bl,Cl,v(d("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[13]||(a[13]=e=>gt.value=e),type:"text"},null,512),[[o,gt.value]])]),d("div",El,[Ll,zl,d("div",Dl,[L(E(N),{vertical:""},{default:D((()=>[L(E(V),{value:pt.value,"onUpdate:value":a[14]||(a[14]=e=>pt.value=e),step:1,max:100,onDragend:bt},null,8,["value"])])),_:1})]),d("div",Pl,f(pt.value),1)]),d("div",jl,[Tl,_l,d("div",Ml,[L(E(N),{vertical:""},{default:D((()=>[L(E(V),{value:xt.value,"onUpdate:value":a[15]||(a[15]=e=>xt.value=e),step:1,max:100,onDragend:ht},null,8,["value"])])),_:1})]),d("div",Ul,f(xt.value),1)]),d("div",Vl,[Nl,Rl,d("div",Jl,[Ol,d("div",null,[L(E(_),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])])]),d("div",Wl,[ql,Gl,d("div",$l,[L(E(N),{vertical:""},{default:D((()=>[L(E(V),{value:ft.value,"onUpdate:value":a[16]||(a[16]=e=>ft.value=e),step:1,max:100,onDragend:wt},null,8,["value"])])),_:1})]),d("div",Ql,f(ft.value),1)]),d("div",Hl,[Kl,Xl,d("div",Yl,[L(E(N),{vertical:""},{default:D((()=>[L(E(V),{value:yt.value,"onUpdate:value":a[17]||(a[17]=e=>yt.value=e),step:1,max:100,onDragend:Ft},null,8,["value"])])),_:1})]),d("div",Zl,f(yt.value),1)]),d("div",et,[at,L(E(N),null,{default:D((()=>[L(E(R),{value:kt.value,"onUpdate:value":[a[18]||(a[18]=e=>kt.value=e),At],size:"small"},null,8,["value"])])),_:1})])],2)])]),d("div",lt,[d("div",tt,[d("img",{class:"avatar",src:ae.value?ae.value:"./img/avatar.png",alt:"",onClick:a[19]||(a[19]=e=>We.value=!0)},null,8,it)]),d("div",null,[d("div",st,f(le.value),1),dt])])]),d("div",nt,[vt,d("div",{style:{"overflow-y":"auto",position:"relative"},ref_key:"toTop",ref:ce},[0!=de.value.length||ie.value?C("",!0):(i(),s("div",ot,[0==ne.value||X.value?(i(),s("div",ut,[L(la)])):C("",!0),0==ne.value&&X.value?C("",!0):(i(),z(Y,{key:1}))])),0!==de.value.length?(i(),s("div",rt,[ie.value?(i(),z(W,{key:0,task:ve.value,onRefresh:pe},null,8,["task"])):C("",!0),re.value?(i(),z(q,{key:1,task:ve.value,onNewJob:ge},null,8,["task"])):C("",!0),d("div",ct,[L(G,{drawLogList:de.value,onNewJobId:ge},null,8,["drawLogList"])])])):C("",!0),d("div",mt,[L(H,{onIsSettingShow:he,onGetjobId:pe,onResquestStatus:Fe})])],512)])])])]))],64))}}),[["__scopeId","data-v-50e3b660"]]);export{gt as default};
