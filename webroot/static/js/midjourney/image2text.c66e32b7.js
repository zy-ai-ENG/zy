import{_ as e,d as a,a as t,b as l,p as s,N as i,c as o,e as r,f as d}from"../popup/popup.82aac303.js";import{_ as u}from"../Line 1/Line 1.30390b32.js";import{_ as n,a as v}from"../police/police.b4a86fcd.js";import{a as p}from"../music/music.51f40153.js";import{d as c,e as g,aK as m,y as f,b as x,g as y,c as b,u as h,aI as k,G as w,aH as F,a8 as I,a5 as L,i as C,l as A,h as _,n as j,k as D,j as B,F as E,r as N,M as S,$ as T,m as J,aL as z,aM as P,o as M,aN as O,_ as R,aO as U,C as G,D as H,ah as V,E as q}from"../main-c6e244ef.js";import{S as K}from"../index/index.23ae4c01.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.c19f02d9.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.d942390e.js";const W=e=>(G("data-v-214cc6be"),e=e(),H(),e),$={key:1},Q={key:2},X={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},Y={style:{width:"100%"}},Z={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},ee={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},ae={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},te={style:{display:"flex","margin-top":"12px"}},le=["onClick"],se=z('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-214cc6be><img class="logoImg" src="'+r+'" alt="" data-v-214cc6be><div class="titleBox" data-v-214cc6be><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-214cc6be>Mid Journey</p><p class="title2" data-v-214cc6be>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-214cc6be> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),ie={class:"padMapBox"},oe={style:{display:"flex","justify-content":"space-between"}},re={style:{display:"flex"}},de=W((()=>B("div",{style:{"font-size":"15px","font-weight":"500"}},"上传图片",-1))),ue={class:"upLoadContent"},ne=W((()=>B("div",{class:"promptBox dark:bg-[#202B3A] bg-[#F5F8FE] text-[#3378ED] dark:text-[#2960BE]"}," 温馨提示：同官方的/blend命令图混图，最多可以上传5张图片进行混图，图片越靠前，权重越高。 ",-1))),ve={class:"radioBox dark:bg-[#15171A] bg-[#FFFFFF]"},pe={style:{display:"flex"}},ce=[W((()=>B("img",{src:u,alt:""},null,-1)))],ge=W((()=>B("p",{style:{"margin-left":"4px","font-size":"10px"}},"快图模式",-1))),me=[W((()=>B("img",{src:u,alt:""},null,-1)))],fe=W((()=>B("p",{style:{"margin-left":"4px","font-size":"10px"}},"常规模式",-1))),xe=W((()=>B("div",{style:{display:"flex","align-items":"center"}},[B("img",{style:{width:"12px",height:"12px","margin-right":"4px"},src:d,alt:""}),B("p",{style:{"font-size":"10px"},class:"text-[#A3A5A6] dark:text-[#76777A]"},"免责声明")],-1))),ye={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},be=W((()=>B("div",{class:"contentCenterTop border-b-[2px] bg-[#fff] dark:bg-[#15171A] border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[B("span",null,"#  创作中心"),B("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),he={key:0,class:"w-full",style:{padding:"0 40px","margin-top":"10px"}},ke={style:{"margin-top":"10px"}},we={style:{color:"#eeeeee"},class:"end"},Fe={style:{display:"flex"}},Ie={key:0,style:{display:"flex"}},Le=W((()=>B("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:n,alt:""},null,-1))),Ce=["href"],Ae={key:1,style:{display:"flex"}},_e=W((()=>B("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:v,alt:""},null,-1))),je=["href"],De=q(c({__name:"image2text",setup(r){g();const d=m(),u=f(0);setTimeout((()=>{u.value=1}),0),x();const n=x(),{isMobile:v}=y(),c=x(),z=b((()=>c.isLogin));b((()=>c.userInfo.avatar)),b((()=>c.userInfo.username)),b((()=>c.userBalance));const G=b((()=>c.mjDrawForm)),H=h(),q=f(),W=f([]),De=f();k({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),localStorage.getItem("drawLogList")?W.value=JSON.parse(localStorage.getItem("drawLogList")):k({page:1,size:20}).then((e=>{W.value=e.data.rows,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));const Be=w({files:[],previewImages:[]}),Ee=["jpg","jpeg","png"],Ne=e=>{"pending"===e.file.status&&Be.files.push(e.file.file),"removed"===e.file.status&&(Be.files=Be.files.filter((a=>a!==e.file.file))),I.emit("imageForm",Be)},Se=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(H.warning("最多只能上传1张图片"),!1):Ee.includes(a)&&e.fileList.length<=1},Te=e=>{const a=e.file.name;G.value.extendParam=G.value.extendParam.filter((e=>!e.filename.includes(a))),Je()},Je=async()=>{c.updateMjDrawForm(G.value)},ze=e=>{De.value=e},Pe=async e=>{e&&(He.value=await V({jobId:e}).then((e=>e.data)),Ve.value&&He.value.status>=4&&clearTimeout(Ve.value))},Me=f(null),Oe=()=>{Me.value.scrollTo({top:0,behavior:"smooth"})},Re=f(),Ue=e=>{Re.value=e,Oe(),Pe(e),qe()},Ge=e=>{q.value=e,Oe(),Pe(e),qe()},He=f({status:0}),Ve=f(),qe=()=>{Ve.value&&clearTimeout(Ve.value),Ve.value=setTimeout((()=>{var e;if((null==(e=He.value)?void 0:e.status)>=P.DRAWED)return Ve.value&&clearTimeout(Ve.value),De.value=0,W.value.unshift(He.value),I.emit("status",De.value),I.emit("newDrawLogList",W.value),Re.value="",q.value="",void k({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));q.value?(qe(),Pe(q.value)):Re.value&&(qe(),Pe(Re.value))}),3e3)};F((()=>{Ve.value&&clearTimeout(Ve.value),Ve.value=null,n.updateDrawId({id:""})})),f(0),I.on("upLoadIsShow",(e=>{u.value=e})),I.on("upLoadShow",(e=>{u.value=e}));const Ke=f(!1);I.on("error",(e=>{Ke.value=e}));const We=()=>{Ke.value=!1},$e=()=>{Ke.value=!1,c.checkAuth()&&d.updateVipDialog(!0)},Qe=f(!1);I.emit("drawRoute",L.options.history.location);const Xe=f("");Xe.value=L.currentRoute.value.fullPath;const Ye=f(""),Ze=f(""),ea=f(""),aa=f(""),ta=f("");p({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{Ye.value=e.data.copyrightTitle,Ze.value=e.data.icpNumber,ea.value=e.data.policeFilingNumber,aa.value=e.data.icpUrl,ta.value=e.data.policeFilingUrl}));const la=f(!1),sa=f(!1);const ia=f(0);function oa(e){ia.value=e}return(r,d)=>(M(),C(E,null,[Qe.value?(M(),C("div",{key:0,class:"mask",onClick:d[0]||(d[0]=e=>Qe.value=!1)})):A("",!0),_(v)?(M(),C("div",$,[j(l)])):A("",!0),Ke.value?(M(),C("div",Q,[j(s,{onClosePop:We,onBuyVip:$e})])):A("",!0),_(v)?A("",!0):(M(),C("div",X,[_(v)?A("",!0):(M(),D(K,{key:0})),B("div",Y,[B("div",Z,[B("div",ee,[B("div",ae,[B("div",te,[(M(!0),C(E,null,N(_(O),(e=>(M(),C("div",{class:S(Xe.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){L.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&I.emit("upLoadShow",1)}(e)},J(e.menuName),11,le)))),128))]),se]),B("div",ie,[B("div",oe,[B("div",re,[B("div",{class:S(la.value?"putExpand":"putAway")},[j(_(R),{onClick:d[1]||(d[1]=e=>{var a;0==(a=0)?la.value=!la.value:1==a&&(sa.value=!sa.value)}),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),de])]),B("div",{class:S(la.value?"modePutExpand":"modePutAway")},[B("div",ue,[B("div",null,[j(_(U),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Ne,"on-before-upload":Se,"on-remove":Te,"list-type":"image-card","directory-dnd":""})])])],2)]),ne,B("div",ve,[B("div",pe,[B("div",{class:"radioItem",onClick:d[2]||(d[2]=e=>oa(0))},[B("div",{class:S(["radioItemImgBox",0==ia.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},ce,2),ge]),B("div",{class:"radioItem",style:{"margin-left":"12px"},onClick:d[3]||(d[3]=e=>oa(1))},[B("div",{class:S(["radioItemImgBox",1==ia.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},me,2),fe])]),xe]),j(i,{sendType:1,onGetjobId:Ge,onResquestStatus:ze})]),B("div",ye,[be,0!=W.value.length&&z.value?(M(),C("div",{key:1,class:"drawList",ref_key:"toTop",ref:Me},[q.value?(M(),D(e,{key:0,task:He.value,onRefresh:Ge},null,8,["task"])):A("",!0),Re.value?(M(),D(a,{key:1,task:He.value,onNewJob:Ue},null,8,["task"])):A("",!0),B("div",ke,[j(t,{drawLogList:W.value,onNewJobId:Ue},null,8,["drawLogList"])])],512)):(M(),C("div",he,[j(o)])),B("div",we,[B("div",Fe,[T("版权所有 © "+J(Ye.value)+" ",1),Ze.value?(M(),C("div",Ie,[Le,B("a",{href:aa.value||"#"},J(Ze.value),9,Ce)])):A("",!0),ea.value?(M(),C("div",Ae,[_e,B("a",{href:ta.value||"#"},J(ea.value),9,je)])):A("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-214cc6be"]]);export{De as default};
