import{_ as a,d as e,a as t,b as s,p as i,U as l,c as o,N as n,e as r,f as d}from"../userDetails/userDetails.889dd5f8.js";import{d as u,aK as v,b as c,g as p,u as m,c as g,y as f,aI as x,aH as y,ap as k,a5 as b,i as w,l as h,h as C,n as L,k as A,j as I,F as j,r as D,m as E,M as F,aL as T,ag as S,aM as B,o as J,aD as N,aN as M,C as z,D as R,E as P}from"../main-34899ef4.js";import{S as V}from"../index/index.9b6ba3da.js";import"../index/index.a4f65e28.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.e2df8043.js";const _=a=>(z("data-v-c1c1a5f3"),a=a(),R(),a),O={key:1},q={key:2},U={key:3,class:"text-image-container flex flex-row",style:{width:"100%"}},H={style:{width:"100%"}},G={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},K={class:"contentBox dark:bg-[#272740] bg-[#F4F4F5]"},Q={style:{"overflow-y":"auto","padding-bottom":"70px"}},W=T('<div class="MJBox dark:bg-[#1A1A2F] bg-[#E8E8E8]" data-v-c1c1a5f3><img class="logoImg" src="'+r+'" alt="" data-v-c1c1a5f3><div class="titleBox" data-v-c1c1a5f3><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-c1c1a5f3>Mid Journey</p><p class="title2" data-v-c1c1a5f3>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-c1c1a5f3> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),X={class:"modeBox"},Y=_((()=>I("div",{class:"modeTitle"},[I("p",{class:"title text-[#808080] dark:text-[#fff]"},"模型广场")],-1))),Z={class:"modeContent"},$=["onClick"],aa=_((()=>I("p",{style:{"font-size":"19px"}},"#",-1))),ea={class:"contentNmae"},ta={class:"contentIntro"},sa={class:"userInfo dark:bg-[#1A1A2F] bg-[#E8E8E8]"},ia={key:0},la=["src"],oa={class:"userName"},na={class:"name text-[#808080] dark:text-[#fff]"},ra={key:0,class:"isVip dark:text-[#CCCCCC] text-[#A0A0A0]"},da={key:1,class:"isVip dark:text-[#CCCCCC] text-[#A0A0A0]"},ua={class:"contentCenter"},va=_((()=>I("div",{class:"contentCenterTop dark:bg-[#1F1F38] border-b-[2px] bg-[#fff] dark:border-[#2C2C4F] border-[#D1D1D1]"},[I("span",null,"#  创作中心"),I("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ca={key:0,class:"w-full",style:{padding:"0 40px"}},pa={style:{"margin-top":"10px"}},ma={style:{position:"relative",padding:"0 40px","margin-right":"12px"},class:"bg-[#fff] dark:bg-[#1F1F38]"},ga={style:{position:"relative"}},fa=_((()=>I("div",{class:"upLoadTop dark:bg-[#32324D] bg-[#fff] border-b-[2px] border-[#E8E8E8] dark:border-[transparent]"},[I("img",{class:"topImg",src:d,alt:""}),I("p",{class:"topText1"},"请添加图片"),I("p",{class:"topText2"},"[严禁上传涉及党政主题，证件照，黄图等不良内容，违者100%封号]")],-1))),xa={class:"upLoadContent dark:bg-[#1A1A2F] bg-[#fff]"},ya={class:""},ka={class:"contentBox2"},ba=_((()=>I("div",{class:"content2"},[I("div",{style:{width:"6px",height:"25px","background-color":"#4BA3FF","border-radius":"3px","margin-right":"10px"}}),I("p",{class:"settingText"},"生成尺寸"),I("span",{style:{color:"#BBBBC1","font-size":"16px","margin-left":"20px"}},"选择生成图像的宽度X高度比例")],-1))),wa={class:"sizeBox"},ha=["onClick"],Ca={style:{height:"54px",display:"flex","justify-content":"center","align-items":"center","padding-top":"9px"}},La=["src"],Aa={style:{"margin-top":"5px"}},Ia=P(u({__name:"imageMiximage",setup(r){const d=v(),u=c(),{isMobile:T}=p(),z=m(),R=c();g((()=>R.isLogin));const P=g((()=>R.userInfo.avatar)),_=g((()=>R.userInfo.username)),Ia=g((()=>R.userBalance)),ja=g((()=>R.mjDrawForm)),Da=f(),Ea=f([]),Fa=f();x({page:1,size:20}).then((a=>{localStorage.setItem("drawLogList",JSON.stringify(a.data.rows))})),localStorage.getItem("drawLogList")?Ea.value=JSON.parse(localStorage.getItem("drawLogList")):x({page:1,size:20}).then((a=>{Ea.value=a.data.rows,localStorage.setItem("drawLogList",JSON.stringify(a.data.rows))}));const Ta=f(null),Sa=()=>{Ta.value.scrollTo({top:0,behavior:"smooth"})},Ba=f(),Ja=a=>{Ba.value=a,Sa(),Na(a),Pa()},Na=async a=>{a&&(za.value=await S({jobId:a}).then((a=>a.data)),Ra.value&&za.value.status>=4&&clearTimeout(Ra.value))},Ma=a=>{Fa.value=a,Sa(),Na(a),Pa()},za=f({status:0}),Ra=f(),Pa=()=>{Ra.value&&clearTimeout(Ra.value),Ra.value=setTimeout((()=>{var a;if((null==(a=za.value)?void 0:a.status)>=B.DRAWED)return Ra.value&&clearTimeout(Ra.value),Da.value=0,Ea.value.unshift(za.value),k.emit("status",Da.value),k.emit("newDrawLogList",Ea.value),Ba.value="",Fa.value="",void x({page:1,size:20}).then((a=>{localStorage.setItem("drawLogList",JSON.stringify(a.data.rows))}));Pa(),Na(Fa.value)}),3e3)};y((()=>{Ra.value&&clearTimeout(Ra.value),Ra.value=null,u.updateDrawId({id:""})}));const Va=[{name:"MJ6.0（最新）",intro:"全新6.0 ALPHA真实风格图像",id:0,value:"--v 6.0"},{name:"MJ5.2（真实细节）",intro:"增加真实风格图像细节",id:1,value:"--v 5.2"},{name:"MJ5.1（艺术）",intro:"专注真实艺术风格图像",id:2,value:"--v 5.1"},{name:"NJ5.0（动漫增强）",intro:"官方最新动漫模型同步",id:5,value:"--niji 5"},{name:"NJ4.0（动漫）",intro:"官方最新动漫模型同步",id:6,value:"--niji 4"}],_a=f(0);f(!1),f("");const Oa=[{name:"头像框",src:"/src/views/midjourney/img/1.png",id:0,intro:"1:1",value:"SQUARE"},{name:"小红书图",src:"/src/views/midjourney/img/2.png",id:1,intro:"2:3",value:"PORTRAIT"},{name:"横板名片",src:"/src/views/midjourney/img/3.png",id:2,intro:"3:2",value:"LANDSCAPE"}],qa=f(0);f([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),f(!1),f(0);const Ua=f(0);setTimeout((()=>{Ua.value=1}),0);const Ha=f([]),Ga=["jpg","jpeg","png"],Ka=a=>{"pending"===a.file.status&&Za(a.file.file).then((a=>{let e="data:image/png;base64,"+a;Ha.value.push(e)})),"removed"===a.file.status&&Za(a.file.file).then((a=>{let e="data:image/png;base64,"+a;Ha.value=Ha.value.filter((a=>a!==e))})),k.emit("base64Array",Ha.value)},Qa=a=>{const e=a.file.type.split("/")[1];return a.fileList.length>=5?(z.warning("最多只能上传5张图片"),!1):Ga.includes(e)&&a.fileList.length<=5},Wa=a=>{const e=a.file.name;ja.value.extendParam=ja.value.extendParam.filter((a=>!a.filename.includes(e))),Xa()},Xa=async()=>{R.updateMjDrawForm(ja.value)},Ya=a=>{Da.value=a};function Za(a){return new Promise(((e,t)=>{const s=new FileReader;s.readAsDataURL(a),s.onload=function(){const a=s.result.split(",")[1];e(a)},s.onerror=function(){t(new Error("Failed to load file"))}}))}k.on("upLoadIsShow",(a=>{Ua.value=a})),k.on("upLoadShow",(a=>{Ua.value=a}));const $a=f(!1);k.on("error",(a=>{$a.value=a}));const ae=()=>{$a.value=!1},ee=()=>{$a.value=!1,R.checkAuth()&&d.updateVipDialog(!0)},te=f(!1);return k.emit("drawRoute",b.options.history.location),(r,d)=>{var u,v;return J(),w(j,null,[te.value?(J(),w("div",{key:0,class:"mask",onClick:d[0]||(d[0]=a=>te.value=!1)})):h("",!0),C(T)?(J(),w("div",O,[L(s)])):h("",!0),$a.value?(J(),w("div",q,[L(i,{onClosePop:ae,onBuyVip:ee})])):h("",!0),C(T)?h("",!0):(J(),w("div",U,[C(T)?h("",!0):(J(),A(V,{key:0})),I("div",H,[I("div",G,[I("div",K,[I("div",Q,[W,I("div",X,[Y,I("div",Z,[(J(),w(j,null,D(Va,((a,e)=>I("div",{class:F(e==_a.value?"active text-[#fff] dark:text-[#fff]":"contentItem  text-[#808080] dark:text-[#fff]"),key:a.id,onClick:t=>{return s={item:a,index:e},_a.value=s.index,void k.emit("--v",s.item.value);var s}},[aa,I("div",null,[I("p",ea,E(a.name),1),I("p",ta,E(a.intro),1)])],10,$))),64))])])]),I("div",sa,[te.value?(J(),w("div",ia,[L(l)])):h("",!0),I("img",{class:"avatar",src:P.value?P.value:"./img/avatar.png",alt:"",onClick:d[1]||(d[1]=a=>te.value=!0)},null,8,la),I("div",oa,[I("p",na,E(_.value),1),(null==(u=Ia.value)?void 0:u.expirationTime)?(J(),w("p",ra," 到期时间："+E(C(N)(null==(v=Ia.value)?void 0:v.expirationTime)),1)):(J(),w("p",da,"未开通，点击了解特权"))])])]),I("div",ua,[va,0==Ea.value.length?(J(),w("div",ca,[L(o)])):(J(),w("div",{key:1,class:"drawList",ref_key:"toTop",ref:Ta},[Fa.value?(J(),A(a,{key:0,task:za.value,onRefresh:Ma},null,8,["task"])):h("",!0),Ba.value?(J(),A(e,{key:1,task:za.value,onNewJob:Ja},null,8,["task"])):h("",!0),I("div",pa,[L(t,{drawLogList:Ea.value,onNewJobId:Ja},null,8,["drawLogList"])])],512)),I("div",ma,[I("div",ga,[I("div",{class:F(1==Ua.value?"upLoadImg border-[1px] border-[#E8E8E8] dark:border-[transparent]":"upLoadImg1 shadow-md")},[fa,I("div",xa,[I("div",ya,[L(C(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Ka,"on-before-upload":Qa,"on-remove":Wa,"list-type":"image-card","directory-dnd":""})]),I("div",ka,[ba,I("div",wa,[(J(),w(j,null,D(Oa,((a,e)=>I("div",{class:F(qa.value==e?"sizeSelect":"sizeItem"),key:a.id,onClick:a=>function(a){qa.value=a,k.emit("imageMixImageSize",Oa[a].value)}(e)},[I("div",Ca,[I("img",{src:a.src,alt:""},null,8,La)]),I("p",Aa,E(a.intro),1),I("p",null,E(a.name),1)],10,ha))),64))])])])],2),L(n,{onGetjobId:Ma,onResquestStatus:Ya})])])])])])]))],64)}}}),[["__scopeId","data-v-c1c1a5f3"]]);export{Ia as default};
