import{d as e,e as a,c as t,y as l,o as i,i as s,j as n,M as d,a0 as u,a1 as v,G as r,C as o,D as c,H as m,aJ as g,b as p,g as x,u as f,aF as y,aN as k,V as h,aE as b,a4 as w,aO as F,aP as A,l as I,h as S,n as C,k as B,F as E,r as L,a2 as j,w as z,m as _,aL as D,_ as T,aM as P,$ as M,Z as N,aQ as V,aH as U,af as R,aK as J,aC as O}from"../main-83ca6c6a.js";import{_ as H}from"../draw-fail/draw-fail.8f549170.js";import{d as W,_ as q,a as G,b as K,p as Q,N as Z,c as $}from"../popup/popup.cae61582.js";import{_ as X,a as Y}from"../1.1Light/1.1Light.a9718ff8.js";import{S as ee}from"../index/index.003f58b7.js";import{u as ae}from"../index/index.60a55c14.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.23ef6a10.js";import"../police/police.b4a86fcd.js";import"../music/music.dcec3151.js";const te="/static/svg/4.3-6838831b.svg",le="/static/svg/4.3Light-c190a37f.svg",ie=e=>(o("data-v-8c623d20"),e=e(),c(),e),se={class:"imgSizeBox"},ne={class:"imgBox"},de={key:0,src:X,alt:""},ue={key:1,src:Y,alt:""},ve=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),re=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),oe={class:"imgBox"},ce={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},me={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},ge=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),pe=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),xe={class:"imgBox"},fe={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},ye={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},ke=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),he=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),be={class:"imgBox"},we={key:0,src:"/static/svg/9.16-8968f21a.svg",alt:""},Fe={key:1,src:"/static/svg/9.16Light-92609f96.svg",alt:""},Ae=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Ie=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Se={class:"imgBox"},Ce={key:0,src:te,alt:""},Be={key:1,src:le,alt:""},Ee=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),Le=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),je={class:"imgBox"},ze={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},_e={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},De=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),Te=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Pe={class:"imgBox"},Me={key:0,src:"/static/svg/3.2-5ec9169a.svg",alt:""},Ne={key:1,src:"/static/svg/3.2Light-3c6aac35.svg",alt:""},Ve=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Ue=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Re={class:"imgBox"},Je={key:0,src:te,alt:""},Oe={key:1,src:le,alt:""},He=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),We=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),qe={class:"imgBox"},Ge={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},Ke={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Qe=ie((()=>n("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),Ze={style:{display:"flex","margin-top":"8px"}},$e=ie((()=>n("div",{style:{margin:"0 4px"}},":",-1))),Xe=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),Ye=m(e({__name:"imgSize",setup(e){const o=a(),c=t((()=>"dark"===o.theme)),m=l(0),g=l(1),p=l(1),x=l("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=g+":"+p),r.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",se,[n("div",{class:d([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[n("div",ne,[c.value?(i(),s("img",de)):(i(),s("img",ue))]),ve,re],2),n("div",{class:d([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[n("div",oe,[c.value?(i(),s("img",ce)):(i(),s("img",me))]),ge,pe],2),n("div",{class:d([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[n("div",xe,[c.value?(i(),s("img",fe)):(i(),s("img",ye))]),ke,he],2),n("div",{class:d([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[n("div",be,[c.value?(i(),s("img",we)):(i(),s("img",Fe))]),Ae,Ie],2),n("div",{class:d([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[n("div",Se,[c.value?(i(),s("img",Ce)):(i(),s("img",Be))]),Ee,Le],2),n("div",{class:d([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[n("div",je,[c.value?(i(),s("img",ze)):(i(),s("img",_e))]),De,Te],2),n("div",{class:d([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[n("div",Pe,[c.value?(i(),s("img",Me)):(i(),s("img",Ne))]),Ve,Ue],2),n("div",{class:d([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[n("div",Re,[c.value?(i(),s("img",Je)):(i(),s("img",Oe))]),He,We],2),n("div",{class:d([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[n("div",qe,[c.value?(i(),s("img",Ge)):(i(),s("img",Ke)),Qe]),n("div",Ze,[u(n("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>g.value=e),type:"text"},null,512),[[v,g.value]]),$e,u(n("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>p.value=e),type:"text"},null,512),[[v,p.value]])]),Xe],2)]))}}),[["__scopeId","data-v-8c623d20"]]),ea=e=>(o("data-v-ae03d3ea"),e=e(),c(),e),aa={key:1},ta={key:2},la={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},ia={style:{width:"100%"}},sa={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},na={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},da={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ua={style:{display:"flex","margin-top":"12px"}},va=["onClick"],ra=ea((()=>n("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[n("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),oa={class:"crollBox",style:{"margin-top":"150px","padding-bottom":"300px","overflow-y":"scroll",height:"100%"}},ca={class:"modeBox"},ma=ea((()=>n("div",{class:"modeTitle"},[n("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),ga={class:"modePutExpand"},pa={class:"modeImg"},xa=[ea((()=>n("div",{class:"imgText"},[n("p",null,"Midjourney"),n("p",null,"真实感强")],-1))),ea((()=>n("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],fa=[ea((()=>n("div",{class:"imgText"},[n("p",null,"Niji"),n("p",null,"卡通动漫")],-1))),ea((()=>n("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],ya={key:0,class:"modeSelect"},ka=ea((()=>n("p",null,"版本",-1))),ha=["onClick"],ba={key:1,class:"modeSelect"},wa=ea((()=>n("p",null,"版本",-1))),Fa=["onClick"],Aa={class:"styleMain"},Ia=ea((()=>n("div",{style:{display:"flex"}},[n("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择")],-1))),Sa={class:"modePutExpand"},Ca=["onClick"],Ba=["onClick"],Ea={class:"styleImgText"},La=["src"],ja=[ea((()=>n("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""},null,-1)))],za={key:0,class:"padMapBox"},_a={style:{display:"flex","justify-content":"space-between"}},Da={style:{display:"flex"}},Ta=ea((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Pa=ea((()=>n("div",null,[n("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),n("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Ma={class:"upLoadContent"},Na={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Va={style:{display:"flex","align-items":"center"}},Ua=ea((()=>n("div",{class:"similarText"},"-- iw 图片相似度",-1))),Ra=ea((()=>n("img",{src:H,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Ja=ea((()=>n("div",{style:{width:"280px"}},"--iw 值越高，上传的图像对最终效果的影响就越大",-1))),Oa=ea((()=>n("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),Ha={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Wa=["onClick"],qa={key:1,class:"roleConsistent"},Ga={style:{display:"flex","justify-content":"space-between"}},Ka={style:{display:"flex"}},Qa=ea((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),Za=ea((()=>n("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),$a={class:"upLoadContent"},Xa={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Ya={style:{display:"flex","align-items":"center"}},et=ea((()=>n("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),at=ea((()=>n("img",{src:H,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),tt=ea((()=>n("div",{style:{width:"280px"}},"强度为0时会专注面部一致，强度为100时会同时参考面部、头发和衣服。",-1))),lt={style:{width:"102px"}},it={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},st={key:2,class:"styleConsistent"},nt={style:{display:"flex","justify-content":"space-between"}},dt={style:{display:"flex"}},ut=ea((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),vt=ea((()=>n("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),rt={class:"upLoadContent"},ot={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},ct={style:{display:"flex","align-items":"center"}},mt=ea((()=>n("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),gt=ea((()=>n("img",{src:H,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),pt=ea((()=>n("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),xt={style:{width:"102px"}},ft={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},yt={class:"imgSize"},kt={class:"notWant"},ht={style:{display:"flex"}},bt=ea((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),wt={class:"parameterBox"},Ft={style:{display:"flex"}},At=ea((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),It={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},St=ea((()=>n("div",null,"--seed 种子",-1))),Ct=ea((()=>n("div",{class:"parameterLine"},null,-1))),Bt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Et=ea((()=>n("div",null,"--s 风格化",-1))),Lt=ea((()=>n("img",{src:H,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),jt=ea((()=>n("div",{style:{width:"280px"}},"这个值越低会更符合 prompt 的描述,数值越高艺术性就会越强，但跟 prompt关联性就会比较弱",-1))),zt={style:{width:"120px"}},_t={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Dt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Tt=ea((()=>n("div",null,"--c 多样性",-1))),Pt=ea((()=>n("img",{src:H,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Mt=ea((()=>n("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),Nt={style:{width:"120px"}},Vt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Ut={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Rt=ea((()=>n("div",null,"--quality 质量",-1))),Jt=ea((()=>n("div",{class:"parameterLine"},null,-1))),Ot={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},Ht={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Wt=["onClick"],qt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Gt=ea((()=>n("div",null,"--weird 奇妙",-1))),Kt=ea((()=>n("img",{src:H,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Qt=ea((()=>n("div",{style:{width:"280px"}},"生成的图像引入奇特和离奇的特质，从而产生独特而意想不到的结果",-1))),Zt={style:{width:"110px"}},$t={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},Xt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Yt=ea((()=>n("div",null,"--stop 停止",-1))),el=ea((()=>n("img",{src:H,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),al=ea((()=>n("div",{style:{width:"280px"}},'使用"--stop"参数可以在作业进行到对应的任务百分比时终止任务，比如50，在任务的50%进度时终止任务 ',-1))),tl={style:{width:"110px"}},ll={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},il={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},sl={class:"userInfoAvatar"},nl=["src"],dl={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},ul={class:"drawIntegral text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-left":"12px"}},vl={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},rl=ea((()=>n("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[n("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),n("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ol={key:0,class:"w-full",style:{padding:"0 0px",position:"relative","margin-top":"10px"}},cl={key:0,style:{height:"64vh",display:"flex","justify-content":"center","align-items":"center"}},ml=[ea((()=>n("div",{style:{width:"50px",height:"50px"}},[n("div",{class:"loader"})],-1)))],gl={key:1,class:"drawList"},pl={style:{"margin-top":"10px"}},xl={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},fl={key:0,class:"tipBox dark:bg-[#202B3A] bg-[#f9f9f9]"},yl={class:"tip dark:bg-[#202B3A] bg-[#f9f9f9]"},kl=ea((()=>n("p",null,"推荐关键词",-1))),hl={class:"itemBox"},bl=["onClick"],wl={style:{"margin-right":"12px"}},Fl=["src"],Al={style:{"font-size":"15px"}},Il={style:{"font-size":"13px"}},Sl=m(e({__name:"text2image",setup(e){const a=g(),o=p(),{isMobile:c}=x(),m=l(),H=p(),X=ae(),Y=t((()=>X.openRegionDialog)),te=t((()=>H.isLogin)),le=t((()=>H.userInfo.avatar)),ie=t((()=>H.userInfo.username)),se=t((()=>H.userBalance)),ne=t((()=>H.mjDrawForm)),de=l(),ue=f(),ve=l([]),re=l(0);y({page:1,size:20}).then((e=>{let a=e.data.rows;ve.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(a)),re.value=1,setTimeout((()=>{fe()}),10)}));const oe=l([]);k({page:1,size:20}).then((e=>{oe.value=e.data.rows}));const ce=l({status:0}),me=async e=>{if(!e)return;const a=await R({jobId:e});ce.value=a.data;const t=a.data;if(6===a.data.status)return 9===t.action?X.openRegionModal(!0,{customId:t.customId,taskId:t.id,mode:t.mode}):H.updateRemixModal(!0,{prompt:"",taskId:t.id,customId:t.customId}),void(he.value&&clearTimeout(he.value));if(ce.value.status>=3){m.value=0,r.emit("status",m.value),he.value&&clearTimeout(he.value);return 0==ve.value.filter((e=>e.id==ce.value.id)).length?ve.value.push(ce.value):console.log("重复了"),r.emit("newDrawLogList",ve.value),ge.value="",de.value="",void y({page:1,size:20}).then((e=>{let a=e.data.rows;ve.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(ve.value)),setTimeout((()=>xe()),10)}))}be()};h((()=>Y.value),(e=>{e||setTimeout((()=>{de.value?me(de.value):ge.value&&me(ge.value)}),1e3)}));const ge=l(),pe=l(null),xe=()=>{let e=pe.value;e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},fe=()=>{let e=pe.value;e.scrollTop=e.scrollHeight},ye=e=>{ge.value=e,setTimeout((()=>xe()),10),me(e)},ke=e=>{de.value=e,setTimeout((()=>xe()),10),me(e)},he=l(),be=()=>{he.value&&clearTimeout(he.value),he.value=setTimeout((()=>{var e,a,t;if((null==(e=ce.value)?void 0:e.status)===J.DRAWED||(null==(a=ce.value)?void 0:a.status)===J.DRAWFAIL||(null==(t=ce.value)?void 0:t.status)===J.DRAWTIMEOUT)return he.value&&clearTimeout(he.value),m.value=0,r.emit("status",m.value),ve.value.push(ce.value),r.emit("newDrawLogList",ve.value),ge.value="",de.value="",void y({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));be(),de.value?me(de.value):ge.value&&me(ge.value)}),3e3)};b((()=>{he.value&&clearTimeout(he.value),he.value=null,o.updateDrawId({id:""})}));const we=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:" 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:" 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:" 5"}],Fe=[{name:"Niji 6",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6"},{name:"Niji 5",intro:"增加真实风格图像细节",id:1,value:" 5"},{name:"Niji 4",intro:"专注真实艺术风格图像",id:2,value:" 4"}],Ae=l(0),Ie=l(!0);function Se(e){Ae.value=e.index,r.emit("--v",e.item.value),0!=e.item.id?Ie.value=!1:Ie.value=!0}const Ce=l(!1);function Be(e){Ce.value=e,e||(Ee.value="")}const Ee=l("");l(0),l([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),l(!1),l(0);const Le=l([]),je=["jpg","jpeg","png"],ze=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,t)=>{const l=new FileReader;l.readAsDataURL(a),l.onload=function(){const a=l.result.split(",")[1];e(a)},l.onerror=function(){t(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;Le.value.push(a)})),"removed"===e.file.status&&(Le.value=[])},_e=l("/api/upload/file"),De=new FormData,Te=new FormData,Pe=new FormData,Me=l([]),Ne=l([]),Ve=l([]),Ue=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ue.warning("最多只能上传3张图片"),!1;De.append("file",e.file.file);const l=await O.post(_e.value,De,{headers:{"Content-Type":"multipart/form-data"}}).catch((e=>{ue.error(e.message)}));return De.delete("file"),Me.value=[...Me.value,{url:l.data.data,name:t}],r.emit("pidImgList",Me.value),je.includes(a)&&e.fileList.length<=3},Re=e=>{const a=e.file.name,t=e.file.name.split(".")[0];ne.value.extendParam=ne.value.extendParam.filter((e=>!e.filename.includes(a))),Me.value=Me.value.filter((e=>e.name!=t)),r.emit("pidImgList",Me.value),qe()},Je=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=1)return ue.warning("最多只能上传1张图片"),!1;Te.append("file",e.file.file);const l=await O.post(_e.value,Te,{headers:{"Content-Type":"multipart/form-data"}});return Te.delete("file"),Ne.value=[...Ne.value,{url:l.data.data,name:t}],console.log("角色",Ne.value),r.emit("roleImgList",Ne.value),je.includes(a)&&e.fileList.length<=1},Oe=e=>{const a=e.file.name,t=e.file.name.split(".")[0];ne.value.extendParam=ne.value.extendParam.filter((e=>!e.filename.includes(a))),Ne.value=Ne.value.filter((e=>e.name!=t)),r.emit("roleImgList",Ne.value),qe()},He=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ue.warning("最多只能上传3张图片"),!1;Pe.append("file",e.file.file);const l=await O.post(_e.value,Pe,{headers:{"Content-Type":"multipart/form-data"}});return Pe.delete("file"),Ve.value=[...Ve.value,{url:l.data.data,name:t}],console.log("风格",Ve.value),r.emit("styleImgList",Ve.value),je.includes(a)&&e.fileList.length<=3},We=e=>{const a=e.file.name,t=e.file.name.split(".")[0];Ve.value=Ve.value.filter((e=>e.name!=t)),r.emit("styleImgList",Ve.value),ne.value.extendParam=ne.value.extendParam.filter((e=>!e.filename.includes(a))),qe()},qe=async()=>{H.updateMjDrawForm(ne.value)};const Ge=l(!1);r.on("error",(e=>{Ge.value=e}));const Ke=()=>{Ge.value=!1},Qe=()=>{Ge.value=!1,H.checkAuth()&&a.updateVipDialog(!0)},Ze=l(!1);r.emit("drawRoute",w.options.history.location);const $e=l("/midjourney/text-to-image");$e.value=w.currentRoute.value.fullPath;const Xe=l(0);function ea(e){Xe.value=e,Ae.value=0,0==e?(r.emit("MjOrNj","--v"),r.emit("--v",we[0].value)):1==e&&(r.emit("MjOrNj","--niji"),r.emit("--v",Fe[0].value))}const Sl=l(0),Cl=l(null),Bl=l([]);F({page:1,size:20,type:"style"}).then((e=>{let a=e.data.filter((e=>2==e.level));Bl.value=a,Ll(Bl.value[0].pid)}));const El=l([]);function Ll(e){A({id:e}).then((e=>{e.data.rows.length&&(El.value=e.data.rows[0].children)}))}const jl=e=>{m.value=e,1==e&&(zl.value=0,_l.value=0,Ml.value=0,Nl.value=0,Ul.value=100,Vl.value=0,Yl.value="",r.emit("--cw",zl.value),r.emit("--sw",_l.value),r.emit("--s",Ml.value),r.emit("--c",Nl.value),r.emit("--weird",Vl.value),r.emit("--stop",Ul.value),r.emit("--no",Yl.value))},zl=l(0),_l=l(0);function Dl(){r.emit("--cw",zl.value)}function Tl(){r.emit("--sw",_l.value)}const Pl=l(0),Ml=l(0),Nl=l(0),Vl=l(0),Ul=l(100);function Rl(){r.emit("--s",Ml.value)}function Jl(){r.emit("--c",Nl.value)}function Ol(){r.emit("--weird",Vl.value)}function Hl(){r.emit("--stop",Ul.value)}l(!1),h((()=>Y.value),(e=>{e||handleQueryTaskByPage()}));const Wl=l(!1),ql=l(!1),Gl=l(!1),Kl=l(!1),Ql=l(!1),Zl=l(!1),$l=l(!1);function Xl(e){0==e?Wl.value=!Wl.value:1==e?ql.value=!ql.value:2==e?Gl.value=!Gl.value:3==e?Kl.value=!Kl.value:4==e?Ql.value=!Ql.value:5==e?Zl.value=!Zl.value:6==e&&($l.value=!$l.value)}const Yl=l("");function ei(){r.emit("--no",Yl.value)}const ai=l(""),ti=l([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);ai.value=ti.value[0].name;const li=l(!1),ii=l(!1);function si(){ii.value=!ii.value}const ni=l([{name:"1x - 默认",id:0,isSelect:!0,value:1},{name:"0.25x",id:1,isSelect:!1,value:.25},{name:"0.5x",id:2,isSelect:!1,value:.5}]),di=l("");function ui(){r.emit("--seed",Pl.value)}di.value=ni.value[0].name;const vi=l();const ri=l(!1);function oi(){ri.value=!ri.value}const ci=l(!1);function mi(){Ze.value=!1,ci.value=!1}return r.on("isFocus",(e=>{ci.value=e})),(e,a)=>{var t;return i(),s(E,null,[Ze.value||ci.value?(i(),s("div",{key:0,class:"mask",onClick:mi})):I("",!0),S(c)?(i(),s("div",aa,[C(K)])):I("",!0),Ge.value?(i(),s("div",ta,[C(Q,{onClosePop:Ke,onBuyVip:Qe})])):I("",!0),S(c)?I("",!0):(i(),s("div",la,[S(c)?I("",!0):(i(),B(ee,{key:0})),n("div",ia,[n("div",sa,[n("div",na,[n("div",da,[n("div",ua,[(i(!0),s(E,null,L(S(D),(e=>(i(),s("div",{class:d($e.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){w.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&r.emit("upLoadShow",1)}(e)},_(e.menuName),11,va)))),128))]),ra]),n("div",oa,[n("div",ca,[ma,n("div",ga,[n("div",pa,[n("div",{style:{"margin-right":"8px"},onClick:a[0]||(a[0]=e=>ea(0)),class:d(0==Xe.value?"select":"unSelect")},xa,2),n("div",{onClick:a[1]||(a[1]=e=>ea(1)),class:d(1==Xe.value?"select":"unSelect")},fa,2)]),0==Xe.value?(i(),s("div",ya,[ka,(i(),s(E,null,L(we,((e,a)=>n("div",{class:d(Ae.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Se({item:e,index:a})},_(e.name),11,ha))),64))])):I("",!0),1==Xe.value?(i(),s("div",ba,[wa,(i(),s(E,null,L(Fe,((e,a)=>n("div",{class:d(Ae.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Se({item:e,index:a})},_(e.name),11,Fa))),64))])):I("",!0)])]),n("div",Aa,[Ia,n("div",Sa,[n("div",{class:"styleBox",ref_key:"container",ref:Cl},[(i(!0),s(E,null,L(Bl.value,((e,a)=>(i(),s("div",{class:d(Sl.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){Sl.value=e,Ll(Bl.value[e].pid);let a=Cl.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},_(e.classifyName),11,Ca)))),128))],512),n("div",{class:"styleImgBox",style:j(ri.value?"height: auto":"max-height:285px")},[(i(!0),s(E,null,L(El.value,((e,a)=>(i(),s("div",{class:d(vi.value==a?"styleImgItemSelect":"styleImgItem"),onClick:t=>{return l={item:e,index:a},vi.value=l.index,void r.emit("styleWord",l.item.incantationEn);var l}},[n("div",Ea,_(e.incantationCn),1),n("img",{src:e.img,alt:""},null,8,La)],10,Ba)))),256))],4),El.value.length>9?(i(),s("div",{key:0,onClick:oi,class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},ja)):I("",!0)])]),Ie.value?(i(),s("div",za,[n("div",_a,[n("div",Da,[n("div",{class:d(Gl.value?"putExpand":"putAway")},[C(S(T),{onClick:a[2]||(a[2]=e=>Xl(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Ta])]),n("div",{class:d(Gl.value?"modePutExpand":"modePutAway")},[Pa,n("div",Ma,[n("div",null,[C(S(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Ue,"on-remove":Re,"list-type":"image-card","directory-dnd":""})])]),n("div",Na,[n("div",Va,[Ua,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[Ra])),default:z((()=>[Ja])),_:1}),Oa,n("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[3]||(a[3]=e=>{li.value=!li.value})},[n("div",null,_(ai.value),1),C(S(T),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),li.value?(i(),s("div",Ha,[(i(!0),s(E,null,L(ti.value,(e=>(i(),s("div",{class:d(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){ti.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,ai.value=e.name,li.value=!1,r.emit("--iw",e.value)}(e)},[N(_(e.name)+" ",1),e.isSelect?(i(),B(S(T),{key:0,icon:"dashicons:yes",class:"text-2xl"})):I("",!0)],10,Wa)))),128))])):I("",!0)])])],2)])):I("",!0),Ie.value?(i(),s("div",qa,[n("div",Ga,[n("div",Ka,[n("div",{class:d(Kl.value?"putExpand":"putAway")},[C(S(T),{onClick:a[4]||(a[4]=e=>Xl(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Qa])]),n("div",{class:d(Kl.value?"modePutExpand":"modePutAway")},[Za,n("div",$a,[n("div",null,[C(S(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Je,"on-remove":Oe,"list-type":"image-card","directory-dnd":""})])]),n("div",Xa,[n("div",Ya,[et,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[at])),default:z((()=>[tt])),_:1}),n("div",lt,[C(S(U),{vertical:""},{default:z((()=>[C(S(V),{value:zl.value,"onUpdate:value":a[5]||(a[5]=e=>zl.value=e),step:1,max:100,onDragend:Dl},null,8,["value"])])),_:1})]),n("div",it,_(zl.value),1)])])],2)])):I("",!0),Ie.value?(i(),s("div",st,[n("div",nt,[n("div",dt,[n("div",{class:d(Ql.value?"putExpand":"putAway")},[C(S(T),{onClick:a[6]||(a[6]=e=>Xl(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ut])]),n("div",{class:d(Ql.value?"modePutExpand":"modePutAway")},[vt,n("div",rt,[n("div",null,[C(S(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":He,"on-remove":We,"list-type":"image-card","directory-dnd":""})])]),n("div",ot,[n("div",ct,[mt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[gt])),default:z((()=>[pt])),_:1}),n("div",xt,[C(S(U),{vertical:""},{default:z((()=>[C(S(V),{value:_l.value,"onUpdate:value":a[7]||(a[7]=e=>_l.value=e),step:1,max:100,onDragend:Tl},null,8,["value"])])),_:1})]),n("div",ft,_(_l.value),1)])])],2)])):I("",!0),n("div",yt,[C(Ye)]),n("div",kt,[n("div",ht,[n("div",{class:d(Zl.value?"putExpand":"putAway")},[C(S(T),{onClick:a[8]||(a[8]=e=>Xl(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),bt]),n("div",{class:d(Zl.value?"modePutExpand":"modePutAway")},[u(n("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:ei,"onUpdate:modelValue":a[9]||(a[9]=e=>Yl.value=e)},null,544),[[v,Yl.value]])],2)]),n("div",wt,[n("div",Ft,[n("div",{class:d($l.value?"putExpand":"putAway")},[C(S(T),{onClick:a[10]||(a[10]=e=>Xl(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),At]),n("div",{class:d($l.value?"modePutExpand":"modePutAway")},[n("div",It,[St,Ct,u(n("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[11]||(a[11]=e=>Pl.value=e),onInput:ui,type:"number"},null,544),[[v,Pl.value]])]),n("div",Bt,[Et,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[Lt])),default:z((()=>[jt])),_:1}),n("div",zt,[C(S(U),{vertical:""},{default:z((()=>[C(S(V),{value:Ml.value,"onUpdate:value":a[12]||(a[12]=e=>Ml.value=e),step:1,max:100,onDragend:Rl},null,8,["value"])])),_:1})]),n("div",_t,_(Ml.value),1)]),n("div",Dt,[Tt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[Pt])),default:z((()=>[Mt])),_:1}),n("div",Nt,[C(S(U),{vertical:""},{default:z((()=>[C(S(V),{value:Nl.value,"onUpdate:value":a[13]||(a[13]=e=>Nl.value=e),step:1,max:100,onDragend:Jl},null,8,["value"])])),_:1})]),n("div",Vt,_(Nl.value),1)]),n("div",Ut,[Rt,Jt,n("div",Ot,[n("div",{style:{display:"flex","justify-content":"space-between",width:"100%"},onClick:si},[n("div",null,_(di.value),1),n("div",null,[C(S(T),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])]),ii.value?(i(),s("div",Ht,[(i(!0),s(E,null,L(ni.value,(e=>(i(),s("div",{class:d(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){ni.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,di.value=e.name,ii.value=!1,r.emit("--q",e.value)}(e)},[N(_(e.name)+" ",1),e.isSelect?(i(),B(S(T),{key:0,icon:"dashicons:yes",class:"text-2xl"})):I("",!0)],10,Wt)))),128))])):I("",!0)])]),n("div",qt,[Gt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[Kt])),default:z((()=>[Qt])),_:1}),n("div",Zt,[C(S(U),{vertical:""},{default:z((()=>[C(S(V),{value:Vl.value,"onUpdate:value":a[14]||(a[14]=e=>Vl.value=e),step:1,max:100,onDragend:Ol},null,8,["value"])])),_:1})]),n("div",$t,_(Vl.value),1)]),n("div",Xt,[Yt,C(S(M),{trigger:"hover",placement:"top"},{trigger:z((()=>[el])),default:z((()=>[al])),_:1}),n("div",tl,[C(S(U),{vertical:""},{default:z((()=>[C(S(V),{value:Ul.value,"onUpdate:value":a[15]||(a[15]=e=>Ul.value=e),step:1,max:100,min:10,onDragend:Hl},null,8,["value"])])),_:1})]),n("div",ll,_(Ul.value),1)])],2)])]),n("div",il,[n("div",sl,[n("img",{class:"avatar",src:le.value?le.value:"./img/avatar.png",alt:"",onClick:a[16]||(a[16]=e=>Ze.value=!0)},null,8,nl)]),n("div",null,[n("div",dl,_(ie.value),1),n("div",ul," 绘画积分:"+_(null==(t=se.value)?void 0:t.drawMjCount),1)])])]),n("div",vl,[rl,n("div",{style:{"overflow-y":"auto",position:"relative",flex:"1"},ref_key:"toTop",ref:pe},[0!=ve.value.length||de.value?I("",!0):(i(),s("div",ol,[0==re.value&&te.value?(i(),s("div",cl,ml)):I("",!0),0==re.value&&te.value?I("",!0):(i(),B($,{key:1}))])),0!=ve.value.length||de.value?(i(),s("div",gl,[n("div",pl,[C(W,{drawLogList:ve.value,onNewJobId:ye},null,8,["drawLogList"])]),de.value?(i(),B(q,{key:0,task:ce.value,onRefresh:ke},null,8,["task"])):I("",!0),ge.value?(i(),B(G,{key:1,task:ce.value,onNewJob:ye},null,8,["task"])):I("",!0)])):I("",!0)],512),n("div",xl,[ci.value?(i(),s("div",fl,[n("div",yl,[kl,C(S(T),{onClick:a[17]||(a[17]=e=>ci.value=!1),style:{cursor:"pointer"},icon:"mdi:close-circle",class:"text-2xl"})]),n("div",hl,[(i(!0),s(E,null,L(oe.value,(e=>(i(),s("div",{class:"tipItem",key:e.id,onClick:a=>function(e){ci.value=!1,r.emit("suggestEn",e.suggestEn)}(e)},[n("div",wl,[n("img",{style:{width:"40px",height:"40px","border-radius":"50%"},src:e.image,alt:""},null,8,Fl)]),n("div",null,[n("p",Al,_(e.suggestCn),1),n("p",Il,_(e.suggestEn),1)])],8,bl)))),128))])])):I("",!0),C(Z,{sendType:0,onIsSettingShow:Be,onGetjobId:ke,onResquestStatus:jl})])])])])]))],64)}}}),[["__scopeId","data-v-ae03d3ea"]]);export{Sl as default};
