import{d as e}from"../@vue_runtime-dom@3.2.47/@vue_runtime-dom@3.2.47.298398d5.js";import{_ as a,d as s,a as t,b as i,g as r,e as l,p as o,U as n,N as d,f as u}from"../userDetails/userDetails.1aa6b650.js";import{b as v,h as c,N as p,a as m,d as g,K as f,E as x,r as y,O as b,x as _,F as j}from"../main-bb4220d0.js";import{S as k}from"../index/index.bf6210d7.js";import{d as h,n as w,o as C,a as A,b as B,F,Q as D,x as I,R as E,c as L,M as T,G as V,N as z,e as J,S as N,U as S}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{o as q,J as M,n as R}from"../@vue_shared@3.2.47/@vue_shared@3.2.47.9d8e617e.js";import{x as U,r as P}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{e as O,Q as G,I as Q,E as X,X as H}from"../naive-ui@2.34.3_vue@3.2.47/naive-ui@2.34.3_vue@3.2.47.d79924d9.js";import"../index/index.a4f65e28.js";import"../axios@1.4.0/axios@1.4.0.5ae1da96.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.8caa2cec.js";import"../pinia@2.0.35_typescript@4.9.5_vue@3.2.47/pinia@2.0.35_typescript@4.9.5_vue@3.2.47.1425f1b3.js";import"../vue-demi@0.14.7_vue@3.2.47/vue-demi@0.14.7_vue@3.2.47.71ba0ef2.js";import"../vue-router@4.1.6_vue@3.2.47/vue-router@4.1.6_vue@3.2.47.018c715a.js";import"../v-viewer@3.0.11_vue@3.2.47/v-viewer@3.0.11_vue@3.2.47.a81e5850.js";import"../viewerjs@1.11.3/viewerjs@1.11.3.a76d4126.js";import"../clientjs@0.2.1/clientjs@0.2.1.7f53d864.js";import"../@babel_runtime@7.21.5/@babel_runtime@7.21.5.35f69bd2.js";import"../crypto-js@4.1.1/crypto-js@4.1.1.7142fa56.js";import"../@iconify_vue@4.1.1_vue@3.2.47/@iconify_vue@4.1.1_vue@3.2.47.612da1cd.js";import"../vue-i18n@9.2.2_vue@3.2.47/vue-i18n@9.2.2_vue@3.2.47.f7da0a53.js";import"../@intlify_shared@9.2.2/@intlify_shared@9.2.2.76c1dc14.js";import"../@intlify_core-base@9.2.2/@intlify_core-base@9.2.2.72ca16dd.js";import"../@intlify_message-compiler@9.2.2/@intlify_message-compiler@9.2.2.9b2b247d.js";import"../@intlify_devtools-if@9.2.2/@intlify_devtools-if@9.2.2.1be0989c.js";import"../vooks@0.2.12_vue@3.2.47/vooks@0.2.12_vue@3.2.47.89d56bd5.js";import"../evtd@0.2.4/evtd@0.2.4.2789e4a1.js";import"../katex@0.16.7/katex@0.16.7.43835b5c.js";import"../@vueuse_core@9.13.0_vue@3.2.47/@vueuse_core@9.13.0_vue@3.2.47.770e5818.js";import"../@vueuse_shared@9.13.0_vue@3.2.47/@vueuse_shared@9.13.0_vue@3.2.47.58cbe97f.js";import"../mitt@3.0.1/mitt@3.0.1.f0e54764.js";import"../@vicons_ionicons5@0.12.0/@vicons_ionicons5@0.12.0.5fe57882.js";import"../marked@4.3.0/marked@4.3.0.cb1ff4ec.js";import"../date-fns@2.30.0/date-fns@2.30.0.bcce45e8.js";import"../vue-clipboard3@2.0.0/vue-clipboard3@2.0.0.ebf9d56c.js";import"../clipboard@2.0.11/clipboard@2.0.11.6a7b8915.js";import"../@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47/@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47.a70167c7.js";import"../@vueuse_shared@10.2.0_vue@3.2.47/@vueuse_shared@10.2.0_vue@3.2.47.3d57d69b.js";import"../qrcode@1.5.3/qrcode@1.5.3.ae99ec0a.js";import"../encode-utf8@1.0.3/encode-utf8@1.0.3.2ec93547.js";import"../dijkstrajs@1.0.3/dijkstrajs@1.0.3.38d0b2a1.js";import"../seemly@0.3.6/seemly@0.3.6.21da59ee.js";import"../vueuc@0.4.51_vue@3.2.47/vueuc@0.4.51_vue@3.2.47.ce1cbfa6.js";import"../@css-render_vue3-ssr@0.15.12_vue@3.2.47/@css-render_vue3-ssr@0.15.12_vue@3.2.47.e49104bd.js";import"../vdirs@0.1.8_vue@3.2.47/vdirs@0.1.8_vue@3.2.47.bf970686.js";import"../@juggle_resize-observer@3.4.0/@juggle_resize-observer@3.4.0.80d14552.js";import"../css-render@0.15.12/css-render@0.15.12.af3f05a4.js";import"../@emotion_hash@0.8.0/@emotion_hash@0.8.0.b17c1a96.js";import"../lodash-es@4.17.21/lodash-es@4.17.21.6a776102.js";import"../treemate@0.3.11/treemate@0.3.11.05d63ee5.js";import"../async-validator@4.2.5/async-validator@4.2.5.8d480e59.js";import"../@css-render_plugin-bem@0.15.12_css-render@0.15.12/@css-render_plugin-bem@0.15.12_css-render@0.15.12.0c2c3e5c.js";const K={class:"loading-text"},W=c(h({__name:"Loading1",props:{gap:{default:10},progress:{default:0},tips:{default:""},bgColor:null,words:{default:["L","O","A","D","I","N","G"]}},setup(e){const a=e,s=v(),t=w((()=>s.theme)),i=w((()=>"dark"===t.value?"#fff":"#000"));return(e,s)=>(C(),A("div",{class:"loading",style:q({background:a.bgColor})},[B("div",K,[(C(!0),A(F,null,D(a.words,(e=>(C(),A("span",{key:e,style:q({margin:`0 ${a.gap}px`,color:U(i)}),class:"loading-text-words"},M(e),5)))),128))])],4))}}),[["__scopeId","data-v-e7603c8e"]]),$=e=>(N("data-v-d456eb3a"),e=e(),S(),e),Y={key:1},Z={key:2},ee={key:3,class:"text-image-container flex flex-row",style:{width:"100%"}},ae={style:{width:"100%"}},se={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},te={class:"contentBox dark:bg-[#272740] bg-[#F4F4F5]"},ie={style:{"overflow-y":"auto","padding-bottom":"70px"}},re=J('<div class="MJBox dark:bg-[#1A1A2F] bg-[#E8E8E8]" data-v-d456eb3a><img class="logoImg" src="'+i+'" alt="" data-v-d456eb3a><div class="titleBox" data-v-d456eb3a><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-d456eb3a>Mid Journey</p><p class="title2" data-v-d456eb3a>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-d456eb3a> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),le={class:"modeBox"},oe=$((()=>B("div",{class:"modeTitle"},[B("p",{class:"title text-[#808080] dark:text-[#fff]"},"模型广场")],-1))),ne={class:"modeContent"},de=["onClick"],ue=$((()=>B("p",{style:{"font-size":"19px"}},"#",-1))),ve={class:"contentNmae"},ce={class:"contentIntro"},pe={class:"userInfo dark:bg-[#1A1A2F] bg-[#E8E8E8]"},me={key:0},ge=["src"],fe={class:"userName"},xe={class:"name text-[#808080] dark:text-[#fff]"},ye={key:0,class:"isVip dark:text-[#CCCCCC] text-[#A0A0A0]"},be={key:1,class:"isVip dark:text-[#CCCCCC] text-[#A0A0A0]"},_e={class:"contentCenter"},je=$((()=>B("div",{class:"contentCenterTop dark:bg-[#1F1F38] border-b-[2px] bg-[#fff] dark:border-[#2C2C4F] border-[#D1D1D1]"},[B("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),B("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ke={key:0,class:"w-full",style:{padding:"0 40px",position:"relative"}},he={key:1,class:"drawList"},we={style:{"margin-top":"10px"}},Ce={class:"bg-[#fff] dark:bg-[#1F1F38]",style:{padding:"0 40px","margin-top":"0px",position:"absolute",bottom:"0",width:"80%","z-index":"9999"}},Ae={style:{position:"relative",margin:"0 40px"}},Be=$((()=>B("div",{class:"settingTitle dark:bg-[#272740] bg-[#E8E8E8]"},[B("img",{class:"settingImg",src:r,alt:""}),B("p",{class:"settingText text-[#808080] dark:text-[#fff]"},"高级选项")],-1))),Fe={class:"sttingContent"},De={class:"contentBox1"},Ie={class:"upLoadContent bg-[#fff] dark:bg-[#1A1A2F]"},Ee={class:""},Le=$((()=>B("div",{class:"content1"},[B("div",{style:{width:"6px",height:"25px","background-color":"#4BA3FF","border-radius":"3px","margin-right":"10px"}}),B("p",{class:"settingText text-[#808080] dark:text-[#fff]"},"不想出现的词")],-1))),Te={style:{position:"relative",width:"826px"}},Ve={class:"contentBox2"},ze=$((()=>B("div",{class:"content2"},[B("div",{style:{width:"6px",height:"25px","background-color":"#4BA3FF","border-radius":"3px","margin-right":"10px"}}),B("p",{class:"settingText text-[#808080] dark:text-[#fff]"},"生成尺寸 --ar"),B("span",{style:{color:"#BBBBC1","font-size":"16px","margin-left":"20px"}},"选择生成图像的宽度X高度比例")],-1))),Je={class:"sizeBox"},Ne=["onClick"],Se={style:{height:"54px",display:"flex","justify-content":"center","align-items":"center","padding-top":"9px"}},qe=["src"],Me={style:{"margin-top":"5px"}},Re={class:"contentBox3"},Ue=$((()=>B("div",{class:"content3"},[B("div",{style:{width:"6px",height:"25px","background-color":"#4BA3FF","border-radius":"3px","margin-right":"10px"}}),B("p",{class:"settingText text-[#808080] dark:text-[#fff]"},"高级参数")],-1))),Pe={class:"sliderBox"},Oe={style:{width:"207px"}},Ge={class:"sliderButton dark:bg-[#272740] bg-[#E8E8E8;]"},Qe=["onClick"],Xe=["onClick"],He={class:"contentBox4"},Ke=$((()=>B("div",{class:"content4"},[B("div",{style:{width:"6px",height:"25px","background-color":"#4BA3FF","border-radius":"3px","margin-right":"10px"}}),B("p",{class:"settingText text-[#808080] dark:text-[#fff]"},"公开作品")],-1))),We={class:"Show"},$e=$((()=>B("p",{class:"showText"},"开启后您的绘画生成结果将会在公共画廊中展示",-1))),Ye=c(h({__name:"text2image",setup(i){const r=p(),v=m(),{isMobile:c}=g(),h=P(),J=m();w((()=>J.isLogin));const N=w((()=>J.userInfo.avatar)),S=w((()=>J.userInfo.username)),q=w((()=>J.userBalance)),K=w((()=>J.mjDrawForm)),$=P(),Ye=O(),Ze=P([]),ea=P(0);f({page:1,size:20}).then((e=>{Ze.value=e.data.rows,ea.value=1,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));const aa=P({status:0}),sa=e=>{e&&(_({jobId:e}).then((e=>{aa.value=e.data})),na.value&&aa.value.status>=4&&clearTimeout(na.value),aa.value.status>=4&&(h.value=0,x.emit("status",h.value)))},ta=P(),ia=P(null),ra=()=>{ia.value.scrollTo({top:0,behavior:"smooth"})},la=e=>{ta.value=e,ra(),sa(e),da()},oa=e=>{$.value=e,ra(),sa(e),da()},na=P(),da=()=>{na.value&&clearTimeout(na.value),na.value=setTimeout((()=>{var e;if((null==(e=aa.value)?void 0:e.status)>=b.DRAWED)return na.value&&clearTimeout(na.value),h.value=0,x.emit("status",h.value),Ze.value.unshift(aa.value),x.emit("newDrawLogList",Ze.value),ta.value="",$.value="",void f({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));da(),$.value?sa($.value):ta.value&&sa(ta.value)}),3e3)};I((()=>{na.value&&clearTimeout(na.value),na.value=null,v.updateDrawId({id:""})}));const ua=[{name:"MJ6.0（最新）",intro:"全新6.0 ALPHA真实风格图像",id:0,value:"--v 6.0"},{name:"MJ5.2（真实细节）",intro:"增加真实风格图像细节",id:1,value:"--v 5.2"},{name:"MJ5.1（艺术）",intro:"专注真实艺术风格图像",id:2,value:"--v 5.1"},{name:"NJ5.0（动漫增强）",intro:"官方最新动漫模型同步",id:5,value:"--niji 5"},{name:"NJ4.0（动漫）",intro:"官方最新动漫模型同步",id:6,value:"--niji 4"}],va=P(0);const ca=P(!1);function pa(e){ca.value=e,e||(ma.value="")}const ma=P(""),ga=[{name:"头像框",src:"/src/views/midjourney/img/1.png",id:0,value:" 1:1"},{name:"手机壁纸",src:"/src/views/midjourney/img/2.png",id:1,value:" 1:2"},{name:"电脑壁纸",src:"/src/views/midjourney/img/3.png",id:2,value:" 16:9"},{name:"宣传海报",src:"/src/views/midjourney/img/4.png",id:3,value:" 9:16"},{name:"文章配图",src:"/src/views/midjourney/img/5.png",id:4,value:" 4:3"},{name:"媒体配图",src:"/src/views/midjourney/img/6.png",id:5,value:" 3:4"},{name:"横版名片",src:"/src/views/midjourney/img/7.png",id:6,value:" 3:2"},{name:"小红书图",src:"/src/views/midjourney/img/8.png",id:7,value:" 2:3"}],fa=P(0);const xa=P([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]);const ya=P(!1),ba=P(0);function _a(){ya.value?ba.value=1:ba.value=0,console.log(ba.value)}function ja(){x.emit("--no",ma.value)}const ka=e=>{h.value=e},ha=P([]),wa=["jpg","jpeg","png"],Ca=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,s)=>{const t=new FileReader;t.readAsDataURL(a),t.onload=function(){const a=t.result.split(",")[1];e(a)},t.onerror=function(){s(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;ha.value.push(a)})),"removed"===e.file.status&&(ha.value=[]),x.emit("base64Array",ha.value)},Aa=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=1?(Ye.warning("最多只能上传1张图片"),!1):wa.includes(a)&&e.fileList.length<=1},Ba=e=>{const a=e.file.name;K.value.extendParam=K.value.extendParam.filter((e=>!e.filename.includes(a))),Fa()},Fa=async()=>{J.updateMjDrawForm(K.value)};const Da=P(!1);x.on("error",(e=>{Da.value=e}));const Ia=()=>{Da.value=!1},Ea=()=>{Da.value=!1,J.checkAuth()&&r.updateVipDialog(!0)},La=P(!1);return x.emit("drawRoute",y.options.history.location),(i,r)=>{var v,p;return C(),A(F,null,[La.value?(C(),A("div",{key:0,class:"mask",onClick:r[0]||(r[0]=e=>La.value=!1)})):E("",!0),U(c)?(C(),A("div",Y,[L(l)])):E("",!0),Da.value?(C(),A("div",Z,[L(o,{onClosePop:Ia,onBuyVip:Ea})])):E("",!0),U(c)?E("",!0):(C(),A("div",ee,[U(c)?E("",!0):(C(),T(k,{key:0})),B("div",ae,[B("div",se,[B("div",te,[B("div",ie,[re,B("div",le,[oe,B("div",ne,[(C(),A(F,null,D(ua,((e,a)=>B("div",{class:R(a==va.value?"active text-[#fff] dark:text-[#fff]":"contentItem  text-[#808080] dark:text-[#fff]"),key:e.id,onClick:s=>{return t={item:e,index:a},va.value=t.index,void x.emit("--v",t.item.value);var t}},[ue,B("div",null,[B("p",ve,M(e.name),1),B("p",ce,M(e.intro),1)])],10,de))),64))])])]),B("div",pe,[La.value?(C(),A("div",me,[L(n)])):E("",!0),B("img",{class:"avatar",src:U(N)?U(N):"./img/avatar.png",alt:"",onClick:r[1]||(r[1]=e=>La.value=!0)},null,8,ge),B("div",fe,[B("p",xe,M(U(S)),1),(null==(v=U(q))?void 0:v.expirationTime)?(C(),A("p",ye," 到期时间："+M(U(j)(null==(p=U(q))?void 0:p.expirationTime)),1)):(C(),A("p",be,"未开通，点击了解特权"))])])]),B("div",_e,[je,B("div",{style:{padding:"0 0 300px 0","overflow-y":"auto"},ref_key:"toTop",ref:ia},[0!=Ze.value.length||$.value?E("",!0):(C(),A("div",ke,[0==ea.value?(C(),T(W,{key:0})):E("",!0),1==ea.value?(C(),T(u,{key:1})):E("",!0)])),0!==Ze.value.length?(C(),A("div",he,[$.value?(C(),T(a,{key:0,task:aa.value,onRefresh:oa},null,8,["task"])):E("",!0),ta.value?(C(),T(s,{key:1,task:aa.value,onNewJob:la},null,8,["task"])):E("",!0),B("div",we,[L(t,{drawLogList:Ze.value,onNewJobId:la},null,8,["drawLogList"])])])):E("",!0)],512),B("div",Ce,[L(d,{onIsSettingShow:pa,onGetjobId:oa,onResquestStatus:ka})]),B("div",Ae,[B("div",{class:R(ca.value?"setting dark:bg-[#1A1A2F] bg-[#fff] shadow-md border-[1px] border-[#D7D7DA] dark:border-[transparent]":"none dark:bg-[#1A1A2F] bg-[#fff] shadow-md border-[1px] border-[#D7D7DA] dark:border-[transparent]")},[Be,B("div",Fe,[B("div",De,[B("div",Ie,[B("div",Ee,[L(U(G),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Ca,"on-before-upload":Aa,"on-remove":Ba,"list-type":"image-card","directory-dnd":""})])]),Le,B("div",Te,[V(B("textarea",{onInput:ja,class:"textBox bg-[#E8E8E8] dark:bg-[#1A1A2F] border-[1px] border-[#D1D1D1] dark:border-[#5B5B7A]","onUpdate:modelValue":r[2]||(r[2]=e=>ma.value=e),name:"",id:"",cols:"30",rows:"10",placeholder:"输入不想出现的描述词，如美女，帅哥 以逗号隔开"},null,544),[[e,ma.value]]),B("p",{style:{color:"#BBBBC1","font-size":"16px",position:"absolute",bottom:"16px",right:"21px",cursor:"pointer"},onClick:r[3]||(r[3]=e=>ma.value="")},"清空内容")])]),B("div",Ve,[ze,B("div",Je,[(C(),A(F,null,D(ga,((e,a)=>B("div",{class:R(fa.value==a?"sizeSelect":"sizeItem"),key:e.id,onClick:e=>function(e){fa.value=e,x.emit("sizeValue","--ar"+ga[e].value)}(a)},[B("div",Se,[B("img",{src:e.src,alt:""},null,8,qe)]),B("p",Me,M(e.value),1),B("p",null,M(e.name),1)],10,Ne))),64))])]),B("div",Re,[Ue,B("div",Pe,[(C(!0),A(F,null,D(xa.value,((e,a)=>(C(),A("div",{class:"sliderItem",key:e.id},[B("p",null,M(e.name),1),B("div",Oe,[L(U(X),{vertical:""},{default:z((()=>[L(U(Q),{value:e.sliderValue,"onUpdate:value":a=>e.sliderValue=a,step:1,max:e.max,onDragend:e=>function(e){let{sliderValue:a,type:s}=xa.value[e];0==e?x.emit("--q",{sliderValue:a,type:s}):1==e?x.emit("--s",{sliderValue:a,type:s}):2==e&&x.emit("--c",{sliderValue:a,type:s})}(a)},null,8,["value","onUpdate:value","max","onDragend"])])),_:2},1024)]),B("div",Ge,[B("p",{style:{cursor:"pointer"},onClick:e=>function(e){xa.value[e].sliderValue--}(a)},"-",8,Qe),B("p",null,M(e.sliderValue),1),B("p",{style:{cursor:"pointer"},onClick:e=>function(e){xa.value[e].sliderValue++}(a)},"+",8,Xe)])])))),128))])]),B("div",He,[Ke,B("div",We,[$e,L(U(X),null,{default:z((()=>[L(U(H),{value:ya.value,"onUpdate:value":[r[4]||(r[4]=e=>ya.value=e),_a],size:"small"},null,8,["value"])])),_:1})])])])],2)])])])])]))],64)}}}),[["__scopeId","data-v-d456eb3a"]]);export{Ye as default};
