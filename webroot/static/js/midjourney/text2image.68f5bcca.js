import{d as e,e as a,c as l,y as t,o as i,i as s,j as d,M as n,a1 as u,a2 as v,an as o,C as r,D as c,E as m,F as g,r as p,a3 as x,m as f,aI as y,b as k,g as b,u as h,aG as w,aN as F,W as A,aF as I,a5 as S,aO as C,aP as B,l as E,h as L,n as j,k as z,w as D,aJ as P,aK as T,aM as _,_ as M,aL as N,$ as V,aQ as U,L as R,ag as J,aD as O}from"../main-848db7b0.js";import{_ as W,d as q,a as G,b as H,p as $,e as Q,g as K,c as X}from"../popup/popup.d1ab5c8b.js";import{N as Y}from"../newSend/newSend.69411a62.js";import{S as Z}from"../index/index.7fbd374b.js";import{u as ee}from"../index/index.82a95a88.js";import"../punycode@2.3.0/punycode@2.3.0.8a62a219.js";import"../draw-fail/draw-fail.50b43169.js";import"../music/music.6c9b03af.js";const ae="/static/svg/9.16-8968f21a.svg",le="/static/svg/9.16Light-92609f96.svg",te="/static/svg/4.3-6838831b.svg",ie="/static/svg/4.3Light-c190a37f.svg",se=e=>(r("data-v-7e62bb57"),e=e(),c(),e),de={class:"imgSizeBox"},ne={class:"imgBox"},ue={key:0,src:"/static/svg/1.1-68cd80ea.svg",alt:""},ve={key:1,src:"/static/svg/1.1Light-7c7c45ed.svg",alt:""},oe=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),re=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),ce={class:"imgBox"},me={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},ge={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},pe=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),xe=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),fe={class:"imgBox"},ye={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},ke={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},be=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),he=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),we={class:"imgBox"},Fe={key:0,src:ae,alt:""},Ae={key:1,src:le,alt:""},Ie=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Se=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Ce={class:"imgBox"},Be={key:0,src:te,alt:""},Ee={key:1,src:ie,alt:""},Le=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),je=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),ze={class:"imgBox"},De={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},Pe={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},Te=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),_e=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Me={class:"imgBox"},Ne={key:0,src:ae,alt:""},Ve={key:1,src:le,alt:""},Ue=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Re=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Je={class:"imgBox"},Oe={key:0,src:te,alt:""},We={key:1,src:ie,alt:""},qe=se((()=>d("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Ge=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),He={class:"imgBox"},$e={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},Qe={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Ke=se((()=>d("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),Xe={style:{display:"flex","margin-top":"8px"}},Ye=se((()=>d("div",{style:{margin:"0 4px"}},":",-1))),Ze=se((()=>d("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),ea=m(e({__name:"imgSize",setup(e){const r=a(),c=l((()=>"dark"===r.theme)),m=t(0),g=t(1),p=t(1),x=t("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=g+":"+p),o.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",de,[d("div",{class:n([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[d("div",ne,[c.value?(i(),s("img",ue)):(i(),s("img",ve))]),oe,re],2),d("div",{class:n([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[d("div",ce,[c.value?(i(),s("img",me)):(i(),s("img",ge))]),pe,xe],2),d("div",{class:n([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[d("div",fe,[c.value?(i(),s("img",ye)):(i(),s("img",ke))]),be,he],2),d("div",{class:n([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[d("div",we,[c.value?(i(),s("img",Fe)):(i(),s("img",Ae))]),Ie,Se],2),d("div",{class:n([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[d("div",Ce,[c.value?(i(),s("img",Be)):(i(),s("img",Ee))]),Le,je],2),d("div",{class:n([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[d("div",ze,[c.value?(i(),s("img",De)):(i(),s("img",Pe))]),Te,_e],2),d("div",{class:n([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[d("div",Me,[c.value?(i(),s("img",Ne)):(i(),s("img",Ve))]),Ue,Re],2),d("div",{class:n([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[d("div",Je,[c.value?(i(),s("img",Oe)):(i(),s("img",We))]),qe,Ge],2),d("div",{class:n([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[d("div",He,[c.value?(i(),s("img",$e)):(i(),s("img",Qe)),Ke]),d("div",Xe,[u(d("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>g.value=e),type:"text"},null,512),[[v,g.value]]),Ye,u(d("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>p.value=e),type:"text"},null,512),[[v,p.value]])]),Ze],2)]))}}),[["__scopeId","data-v-7e62bb57"]]),aa={class:"loading-text"},la=m(e({__name:"Loading1",props:{gap:{default:10},progress:{default:0},tips:{default:""},bgColor:{},words:{default:["L","O","A","D","I","N","G"]}},setup(e){const t=e,n=a(),u=l((()=>n.theme)),v=l((()=>"dark"===u.value?"#fff":"#000"));return(e,a)=>(i(),s("div",{class:"loading",style:x({background:t.bgColor})},[d("div",aa,[(i(!0),s(g,null,p(t.words,(e=>(i(),s("span",{key:e,style:x({margin:`0 ${t.gap}px`,color:v.value}),class:"loading-text-words"},f(e),5)))),128))])],4))}}),[["__scopeId","data-v-2f5e1775"]]),ta=e=>(r("data-v-5b3f117a"),e=e(),c(),e),ia={key:1},sa={key:2},da={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},na={style:{width:"100%"}},ua={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},va={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},oa={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ra={style:{display:"flex","margin-top":"12px"}},ca=["onClick"],ma=P('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-5b3f117a><img class="logoImg" src="'+Q+'" alt="" data-v-5b3f117a><div class="titleBox" data-v-5b3f117a><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-5b3f117a>Mid Journey</p><p class="title2" data-v-5b3f117a>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-5b3f117a> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),ga={style:{"margin-top":"280px","padding-bottom":"300px","overflow-y":"scroll",height:"100%"}},pa={class:"modeBox"},xa=ta((()=>d("div",{class:"modeTitle"},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),fa={class:"modePutExpand"},ya={class:"modeImg"},ka=[ta((()=>d("div",{class:"imgText"},[d("p",null,"Midjourney"),d("p",null,"真实感强")],-1))),ta((()=>d("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],ba=[ta((()=>d("div",{class:"imgText"},[d("p",null,"Niji"),d("p",null,"卡通动漫")],-1))),ta((()=>d("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],ha={key:0,class:"modeSelect"},wa=ta((()=>d("p",null,"版本",-1))),Fa=["onClick"],Aa={key:1,class:"modeSelect"},Ia=ta((()=>d("p",null,"版本",-1))),Sa=["onClick"],Ca={class:"styleMain"},Ba=ta((()=>d("div",{style:{display:"flex"}},[d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择")],-1))),Ea={class:"modePutExpand"},La=["onClick"],ja={class:"styleImgBox"},za=["onClick"],Da={class:"styleImgText"},Pa=["src"],Ta=ta((()=>d("div",{class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},[d("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""})],-1))),_a={key:0,class:"padMapBox"},Ma={style:{display:"flex","justify-content":"space-between"}},Na={style:{display:"flex"}},Va=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Ua=ta((()=>d("div",{class:"uploadBtn"},"上传网络图片",-1))),Ra=ta((()=>d("div",null,[d("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),d("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Ja={class:"upLoadContent"},Oa={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Wa={style:{display:"flex","align-items":"center"}},qa=ta((()=>d("div",{class:"similarText"},"-- iw 图片相似度",-1))),Ga=ta((()=>d("img",{src:K,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Ha=ta((()=>d("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),$a={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Qa=["onClick"],Ka={key:1,class:"roleConsistent"},Xa={style:{display:"flex","justify-content":"space-between"}},Ya={style:{display:"flex"}},Za=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),el=ta((()=>d("div",{class:"uploadBtn"},"上传网络图片",-1))),al=ta((()=>d("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),ll={class:"upLoadContent"},tl={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},il={style:{display:"flex","align-items":"center"}},sl=ta((()=>d("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),dl=ta((()=>d("img",{src:K,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),nl={style:{width:"102px"}},ul={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},vl={key:2,class:"styleConsistent"},ol={style:{display:"flex","justify-content":"space-between"}},rl={style:{display:"flex"}},cl=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),ml=ta((()=>d("div",{class:"uploadBtn"},"上传网络图片",-1))),gl=ta((()=>d("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),pl={class:"upLoadContent"},xl={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},fl={style:{display:"flex","align-items":"center"}},yl=ta((()=>d("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),kl=ta((()=>d("img",{src:K,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),bl={style:{width:"102px"}},hl={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},wl={class:"imgSize"},Fl={class:"notWant"},Al={style:{display:"flex"}},Il=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),Sl={class:"parameterBox"},Cl={style:{display:"flex"}},Bl=ta((()=>d("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),El={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ll=ta((()=>d("div",null,"--seed 种子",-1))),jl=ta((()=>d("div",{class:"parameterLine"},null,-1))),zl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Dl=ta((()=>d("div",null,"--s 风格化",-1))),Pl=ta((()=>d("img",{src:K,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Tl={style:{width:"120px"}},_l={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Ml={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Nl=ta((()=>d("div",null,"--c 多样性",-1))),Vl=ta((()=>d("img",{src:K,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),Ul={style:{width:"120px"}},Rl={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Jl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ol=ta((()=>d("div",null,"--quality 质量",-1))),Wl=ta((()=>d("div",{class:"parameterLine"},null,-1))),ql={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},Gl={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Hl=["onClick"],$l={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Ql=ta((()=>d("div",null,"--weird 奇妙",-1))),Kl=ta((()=>d("img",{src:K,alt:"",style:{width:"14px",height:"14px","margin-left":"5px","margin-right":"5px"}},null,-1))),Xl={style:{width:"110px"}},Yl={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},Zl={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},et=ta((()=>d("div",null,"--stop 停止",-1))),at=ta((()=>d("img",{src:K,alt:"",style:{width:"14px",height:"14px","margin-left":"8px","margin-right":"8px"}},null,-1))),lt={style:{width:"110px"}},tt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},it={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},st={class:"userInfoAvatar"},dt=["src"],nt={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},ut={class:"drawIntegral text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-left":"12px"}},vt={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},ot=ta((()=>d("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[d("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),d("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),rt={key:0,class:"w-full",style:{padding:"0 40px",position:"relative","margin-top":"10px"}},ct={key:0,style:{height:"780px"}},mt={key:1,class:"drawList"},gt={style:{"margin-top":"10px"}},pt={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},xt=m(e({__name:"text2image",setup(e){const a=y(),r=k(),{isMobile:c}=b(),m=t(),x=k(),P=ee(),Q=l((()=>P.openRegionDialog)),K=l((()=>x.isLogin)),ae=l((()=>x.userInfo.avatar)),le=l((()=>x.userInfo.username)),te=l((()=>x.userBalance)),ie=l((()=>x.mjDrawForm)),se=t(),de=h(),ne=t([]),ue=t(0);w({page:1,size:20}).then((e=>{let a=e.data.rows;ne.value=a,ue.value=1;for(let l=0;l<ne.value.length;l++)3==ne.value[l].status&&F({jobId:ne.value[l].jobId}).then((e=>{ne.value[l].seed=e.data,localStorage.setItem("drawLogList",JSON.stringify(ne.value))}))}));const ve=t({status:0}),oe=async e=>{if(!e)return;const a=await J({jobId:e});ve.value=a.data;const l=a.data;if(6===a.data.status)return 9===l.action?P.openRegionModal(!0,{customId:l.customId,taskId:l.id,mode:l.mode}):x.updateRemixModal(!0,{prompt:"",taskId:l.id,customId:l.customId}),void(xe.value&&clearTimeout(xe.value));if(xe.value&&ve.value.status>=4&&clearTimeout(xe.value),ve.value.status>=4&&(m.value=0,o.emit("status",m.value),xe.value&&clearTimeout(xe.value)),3==ve.value.status){let e={jobId:ve.value.jobId};F(e).then((e=>{o.emit("seed",e.data)})),xe.value&&clearTimeout(xe.value)}};A((()=>Q.value),(e=>{e||setTimeout((()=>{se.value?oe(se.value):re.value&&oe(re.value),fe()}),1e3)}));const re=t(),ce=t(null),me=()=>{ce.value.scrollTo({top:0,behavior:"smooth"})},ge=e=>{re.value=e,me(),oe(e),fe()},pe=e=>{se.value=e,me(),oe(e),fe()},xe=t(),fe=()=>{xe.value&&clearTimeout(xe.value),xe.value=setTimeout((()=>{var e,a;if((null==(e=ve.value)?void 0:e.status)===T.DRAWFAIL||(null==(a=ve.value)?void 0:a.status)===T.DRAWTIMEOUT)return xe.value&&clearTimeout(xe.value),m.value=0,o.emit("status",m.value),ne.value.unshift(ve.value),o.emit("newDrawLogList",ne.value),re.value="",se.value="",void w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));fe(),se.value?oe(se.value):re.value&&oe(re.value)}),3e3)};I((()=>{xe.value&&clearTimeout(xe.value),xe.value=null,r.updateDrawId({id:""})}));const ye=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:" 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:" 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:" 5"}],ke=[{name:"Niji 6",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6"},{name:"Niji 5",intro:"增加真实风格图像细节",id:1,value:" 5"},{name:"Niji 4",intro:"专注真实艺术风格图像",id:2,value:" 4"}],be=t(0),he=t(!0);function we(e){be.value=e.index,o.emit("--v",e.item.value),0!=e.item.id?he.value=!1:he.value=!0}const Fe=t(!1);function Ae(e){Fe.value=e,e||(Ie.value="")}const Ie=t("");t(0),t([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),t(!1),t(0);const Se=t([]),Ce=["jpg","jpeg","png"],Be=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,l)=>{const t=new FileReader;t.readAsDataURL(a),t.onload=function(){const a=t.result.split(",")[1];e(a)},t.onerror=function(){l(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;Se.value.push(a)})),"removed"===e.file.status&&(Se.value=[])},Ee=t(`${{}.VITE_APP_API_BASE_URL}/api/upload/file`),Le=new FormData,je=new FormData,ze=new FormData,De=t([]),Pe=t([]),Te=t([]),_e=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return de.warning("最多只能上传3张图片"),!1;Le.append("file",e.file.file);const t=await O.post(Ee.value,Le,{headers:{"Content-Type":"multipart/form-data"}});return Le.delete("file"),De.value=[...De.value,{url:t.data.data,name:l}],console.log("垫图",De.value),o.emit("pidImgList",De.value),Ce.includes(a)&&e.fileList.length<=3},Me=e=>{const a=e.file.name,l=e.file.name.split(".")[0];ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),De.value=De.value.filter((e=>e.name!=l)),o.emit("pidImgList",De.value),Je()},Ne=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=1)return de.warning("最多只能上传1张图片"),!1;je.append("file",e.file.file);const t=await O.post(Ee.value,je,{headers:{"Content-Type":"multipart/form-data"}});return je.delete("file"),Pe.value=[...Pe.value,{url:t.data.data,name:l}],console.log("角色",Pe.value),o.emit("roleImgList",Pe.value),Ce.includes(a)&&e.fileList.length<=1},Ve=e=>{const a=e.file.name,l=e.file.name.split(".")[0];ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),Pe.value=Pe.value.filter((e=>e.name!=l)),o.emit("roleImgList",Pe.value),Je()},Ue=async e=>{const a=e.file.type.split("/")[1],l=e.file.name.split(".")[0];if(e.fileList.length>=3)return de.warning("最多只能上传3张图片"),!1;ze.append("file",e.file.file);const t=await O.post(Ee.value,ze,{headers:{"Content-Type":"multipart/form-data"}});return ze.delete("file"),Te.value=[...Te.value,{url:t.data.data,name:l}],console.log("风格",Te.value),o.emit("styleImgList",Te.value),Ce.includes(a)&&e.fileList.length<=3},Re=e=>{const a=e.file.name,l=e.file.name.split(".")[0];Te.value=Te.value.filter((e=>e.name!=l)),o.emit("styleImgList",Te.value),ie.value.extendParam=ie.value.extendParam.filter((e=>!e.filename.includes(a))),Je()},Je=async()=>{x.updateMjDrawForm(ie.value)};const Oe=t(!1);o.on("error",(e=>{Oe.value=e}));const We=()=>{Oe.value=!1},qe=()=>{Oe.value=!1,x.checkAuth()&&a.updateVipDialog(!0)},Ge=t(!1);o.emit("drawRoute",S.options.history.location);const He=t("/midjourney/text-to-image");He.value=S.currentRoute.value.fullPath;const $e=t(0);function Qe(e){$e.value=e,be.value=0,0==e?(o.emit("MjOrNj","--v"),o.emit("--v",ye[0].value)):1==e&&(o.emit("MjOrNj","--niji"),o.emit("--v",ke[0].value))}const Ke=t(0),Xe=t(null),Ye=t([]);C({page:1,size:20,type:"style"}).then((e=>{let a=e.data.filter((e=>2==e.level));Ye.value=a,aa(Ye.value[0].pid)}));const Ze=t([]);function aa(e){B({id:e}).then((e=>{console.log(e.data.rows[0].children),e.data.rows.length&&(Ze.value=e.data.rows[0].children)}))}const ta=e=>{m.value=e,1==e&&(xt.value=0,ft.value=0,ht.value=0,wt.value=0,At.value=10,Ft.value=0,Mt.value="",o.emit("--cw",xt.value),o.emit("--sw",ft.value),o.emit("--s",ht.value),o.emit("--c",wt.value),o.emit("--weird",Ft.value),o.emit("--stop",At.value),o.emit("--no",Mt.value))},xt=t(0),ft=t(0);function yt(){o.emit("--cw",xt.value)}function kt(){o.emit("--sw",ft.value)}const bt=t(0),ht=t(0),wt=t(0),Ft=t(0),At=t(10);function It(){o.emit("--s",ht.value)}function St(){o.emit("--c",wt.value)}function Ct(){o.emit("--weird",Ft.value)}function Bt(){o.emit("--stop",At.value)}t(!1),A((()=>Q.value),(e=>{e||handleQueryTaskByPage()}));const Et=t(!1),Lt=t(!1),jt=t(!1),zt=t(!1),Dt=t(!1),Pt=t(!1),Tt=t(!1);function _t(e){0==e?Et.value=!Et.value:1==e?Lt.value=!Lt.value:2==e?jt.value=!jt.value:3==e?zt.value=!zt.value:4==e?Dt.value=!Dt.value:5==e?Pt.value=!Pt.value:6==e&&(Tt.value=!Tt.value)}const Mt=t("");function Nt(){o.emit("--no",Mt.value)}const Vt=t(""),Ut=t([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);Vt.value=Ut.value[0].name;const Rt=t(!1),Jt=t(!1);function Ot(){Jt.value=!Jt.value}const Wt=t([{name:"1x - 默认",id:0,isSelect:!0,value:1},{name:"0.25x",id:1,isSelect:!1,value:.25},{name:"0.5x",id:2,isSelect:!1,value:.5}]),qt=t("");function Gt(){o.emit("--seed",bt.value)}qt.value=Wt.value[0].name;const Ht=t();return(e,a)=>{var l;return i(),s(g,null,[Ge.value?(i(),s("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>Ge.value=!1)})):E("",!0),L(c)?(i(),s("div",ia,[j(H)])):E("",!0),Oe.value?(i(),s("div",sa,[j($,{onClosePop:We,onBuyVip:qe})])):E("",!0),L(c)?E("",!0):(i(),s("div",da,[L(c)?E("",!0):(i(),z(Z,{key:0})),d("div",na,[d("div",ua,[d("div",va,[d("div",oa,[d("div",ra,[(i(!0),s(g,null,p(L(_),(e=>(i(),s("div",{class:n(He.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){S.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&o.emit("upLoadShow",1)}(e)},f(e.menuName),11,ca)))),128))]),ma]),d("div",ga,[d("div",pa,[xa,d("div",fa,[d("div",ya,[d("div",{style:{"margin-right":"8px"},onClick:a[1]||(a[1]=e=>Qe(0)),class:n(0==$e.value?"select":"unSelect")},ka,2),d("div",{onClick:a[2]||(a[2]=e=>Qe(1)),class:n(1==$e.value?"select":"unSelect")},ba,2)]),0==$e.value?(i(),s("div",ha,[wa,(i(),s(g,null,p(ye,((e,a)=>d("div",{class:n(be.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:l=>we({item:e,index:a})},f(e.name),11,Fa))),64))])):E("",!0),1==$e.value?(i(),s("div",Aa,[Ia,(i(),s(g,null,p(ke,((e,a)=>d("div",{class:n(be.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:l=>we({item:e,index:a})},f(e.name),11,Sa))),64))])):E("",!0)])]),d("div",Ca,[Ba,d("div",Ea,[d("div",{class:"styleBox",ref_key:"container",ref:Xe},[(i(!0),s(g,null,p(Ye.value,((e,a)=>(i(),s("div",{class:n(Ke.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){Ke.value=e,aa(Ye.value[e].pid);let a=Xe.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},f(e.classifyName),11,La)))),128))],512),d("div",ja,[(i(!0),s(g,null,p(Ze.value,((e,a)=>(i(),s("div",{class:n(Ht.value==a?"styleImgItemSelect":"styleImgItem"),onClick:l=>{return t={item:e,index:a},Ht.value=t.index,void o.emit("styleWord",t.item.incantationEn);var t}},[d("div",Da,f(e.incantationCn),1),d("img",{src:e.img,alt:""},null,8,Pa)],10,za)))),256))]),Ta])]),he.value?(i(),s("div",_a,[d("div",Ma,[d("div",Na,[d("div",{class:n(jt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[3]||(a[3]=e=>_t(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Va]),Ua]),d("div",{class:n(jt.value?"modePutExpand":"modePutAway")},[Ra,d("div",Ja,[d("div",null,[j(L(N),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":_e,"on-remove":Me,"list-type":"image-card","directory-dnd":""})])]),d("div",Oa,[d("div",Wa,[qa,Ga,Ha,d("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[4]||(a[4]=e=>{Rt.value=!Rt.value})},[d("div",null,f(Vt.value),1),j(L(M),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),Rt.value?(i(),s("div",$a,[(i(!0),s(g,null,p(Ut.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){Ut.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,Vt.value=e.name,Rt.value=!1,o.emit("--iw",e.value)}(e)},[V(f(e.name)+" ",1),e.isSelect?(i(),z(L(M),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Qa)))),128))])):E("",!0)])])],2)])):E("",!0),he.value?(i(),s("div",Ka,[d("div",Xa,[d("div",Ya,[d("div",{class:n(zt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[5]||(a[5]=e=>_t(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Za]),el]),d("div",{class:n(zt.value?"modePutExpand":"modePutAway")},[al,d("div",ll,[d("div",null,[j(L(N),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":Ne,"on-remove":Ve,"list-type":"image-card","directory-dnd":""})])]),d("div",tl,[d("div",il,[sl,dl,d("div",nl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:xt.value,"onUpdate:value":a[6]||(a[6]=e=>xt.value=e),step:1,max:100,onDragend:yt},null,8,["value"])])),_:1})]),d("div",ul,f(xt.value),1)])])],2)])):E("",!0),he.value?(i(),s("div",vl,[d("div",ol,[d("div",rl,[d("div",{class:n(Dt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[7]||(a[7]=e=>_t(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),cl]),ml]),d("div",{class:n(Dt.value?"modePutExpand":"modePutAway")},[gl,d("div",pl,[d("div",null,[j(L(N),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":Be,"on-before-upload":Ue,"on-remove":Re,"list-type":"image-card","directory-dnd":""})])]),d("div",xl,[d("div",fl,[yl,kl,d("div",bl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:ft.value,"onUpdate:value":a[8]||(a[8]=e=>ft.value=e),step:1,max:100,onDragend:kt},null,8,["value"])])),_:1})]),d("div",hl,f(ft.value),1)])])],2)])):E("",!0),d("div",wl,[j(ea)]),d("div",Fl,[d("div",Al,[d("div",{class:n(Pt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[9]||(a[9]=e=>_t(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Il]),d("div",{class:n(Pt.value?"modePutExpand":"modePutAway")},[u(d("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:Nt,"onUpdate:modelValue":a[10]||(a[10]=e=>Mt.value=e)},null,544),[[v,Mt.value]])],2)]),d("div",Sl,[d("div",Cl,[d("div",{class:n(Tt.value?"putExpand":"putAway")},[j(L(M),{onClick:a[11]||(a[11]=e=>_t(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Bl]),d("div",{class:n(Tt.value?"modePutExpand":"modePutAway")},[d("div",El,[Ll,jl,u(d("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[12]||(a[12]=e=>bt.value=e),onInput:Gt,type:"number"},null,544),[[v,bt.value]])]),d("div",zl,[Dl,Pl,d("div",Tl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:ht.value,"onUpdate:value":a[13]||(a[13]=e=>ht.value=e),step:1,max:100,onDragend:It},null,8,["value"])])),_:1})]),d("div",_l,f(ht.value),1)]),d("div",Ml,[Nl,Vl,d("div",Ul,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:wt.value,"onUpdate:value":a[14]||(a[14]=e=>wt.value=e),step:1,max:100,onDragend:St},null,8,["value"])])),_:1})]),d("div",Rl,f(wt.value),1)]),d("div",Jl,[Ol,Wl,d("div",ql,[d("div",{style:{display:"flex","justify-content":"space-between",width:"100%"},onClick:Ot},[d("div",null,f(qt.value),1),d("div",null,[j(L(M),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])]),Jt.value?(i(),s("div",Gl,[(i(!0),s(g,null,p(Wt.value,(e=>(i(),s("div",{class:n(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){Wt.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,qt.value=e.name,Jt.value=!1,o.emit("--q",e.value)}(e)},[V(f(e.name)+" ",1),e.isSelect?(i(),z(L(M),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Hl)))),128))])):E("",!0)])]),d("div",$l,[Ql,Kl,d("div",Xl,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:Ft.value,"onUpdate:value":a[15]||(a[15]=e=>Ft.value=e),step:1,max:100,onDragend:Ct},null,8,["value"])])),_:1})]),d("div",Yl,f(Ft.value),1)]),d("div",Zl,[et,at,d("div",lt,[j(L(R),{vertical:""},{default:D((()=>[j(L(U),{value:At.value,"onUpdate:value":a[16]||(a[16]=e=>At.value=e),step:1,max:100,min:10,onDragend:Bt},null,8,["value"])])),_:1})]),d("div",tt,f(At.value),1)])],2)])]),d("div",it,[d("div",st,[d("img",{class:"avatar",src:ae.value?ae.value:"./img/avatar.png",alt:"",onClick:a[17]||(a[17]=e=>Ge.value=!0)},null,8,dt)]),d("div",null,[d("div",nt,f(le.value),1),d("div",ut," 绘画积分:"+f(null==(l=te.value)?void 0:l.drawMjCount),1)])])]),d("div",vt,[ot,d("div",{style:{"overflow-y":"auto",position:"relative"},ref_key:"toTop",ref:ce},[0!=ne.value.length||se.value?E("",!0):(i(),s("div",rt,[0==ue.value&&K.value?(i(),s("div",ct,[j(la)])):E("",!0),0==ue.value&&K.value?E("",!0):(i(),z(X,{key:1}))])),0!==ne.value.length?(i(),s("div",mt,[se.value?(i(),z(W,{key:0,task:ve.value,onRefresh:pe},null,8,["task"])):E("",!0),re.value?(i(),z(q,{key:1,task:ve.value,onNewJob:ge},null,8,["task"])):E("",!0),d("div",gt,[j(G,{drawLogList:ne.value,onNewJobId:ge},null,8,["drawLogList"])])])):E("",!0)],512),d("div",pt,[j(Y,{onIsSettingShow:Ae,onGetjobId:pe,onResquestStatus:ta})])])])])]))],64)}}}),[["__scopeId","data-v-5b3f117a"]]);export{xt as default};
