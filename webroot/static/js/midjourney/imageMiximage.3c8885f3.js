import{_ as e,d as a,a as t,b as l,p as s,N as i,c as d,e as o,f as r}from"../popup/popup.ce2f54a7.js";import{_ as n,a as u}from"../1.1Light/1.1Light.a9718ff8.js";import{_ as v,a as c}from"../police/police.b4a86fcd.js";import{d as p,e as g,c as m,aI as x,b as f,g as y,u as b,y as k,a5 as h,aG as w,aF as F,an as A,i as I,l as C,h as L,n as S,k as E,j as B,F as j,r as D,M as z,$ as N,m as T,aJ as P,ag as R,aK as J,o as M,aL as _,_ as U,aM as O,C as V,D as q,E as G}from"../main-e96a6f7d.js";import{S as Q}from"../index/index.5d7e51c4.js";import{a as H}from"../music/music.ddbcae82.js";import"../draw-fail/draw-fail.50b43169.js";import"../index/index.317d6703.js";import"../punycode@2.3.0/punycode@2.3.0.8a62a219.js";const K="/static/svg/Line 1-3a078c07.svg",W=e=>(V("data-v-24e006d2"),e=e(),q(),e),$={key:1},X={key:2},Y={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},Z={style:{width:"100%"}},ee={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},ae={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},te={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},le={style:{display:"flex","margin-top":"12px"}},se=["onClick"],ie=P('<div class="MJBox dark:bg-[#202B3A] bg-[#fff]" data-v-24e006d2><img class="logoImg" src="'+o+'" alt="" data-v-24e006d2><div class="titleBox" data-v-24e006d2><p class="title1 dark:text-[#CAC5C5] text-[#808080]" data-v-24e006d2>Mid Journey</p><p class="title2" data-v-24e006d2>AI</p></div><div class="intro dark:text-[#CAC5C5] text-[#808080]" data-v-24e006d2> 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 </div></div>',1),de={class:"padMapBox"},oe={style:{display:"flex","justify-content":"space-between"}},re={style:{display:"flex"}},ne=W((()=>B("div",{style:{"font-size":"15px","font-weight":"500"}},"上传图片（2-5张）",-1))),ue={class:"upLoadContent"},ve={class:"ImgSize",style:{"margin-top":"10px"}},ce={style:{display:"flex","justify-content":"space-between"}},pe={style:{display:"flex"}},ge=W((()=>B("div",{style:{"font-size":"15px","font-weight":"500"}},"图片尺寸",-1))),me={class:"sizeBox"},xe={class:"imgBox"},fe={key:0,src:n,alt:""},ye={key:1,src:u,alt:""},be=W((()=>B("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),ke=W((()=>B("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),he={class:"imgBox"},we={key:0,src:n,alt:""},Fe={key:1,src:u,alt:""},Ae=W((()=>B("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Ie=W((()=>B("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Ce={class:"imgBox"},Le={key:0,src:n,alt:""},Se={key:1,src:u,alt:""},Ee=W((()=>B("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Be=W((()=>B("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),je=W((()=>B("div",{class:"promptBox dark:bg-[#202B3A] bg-[#F5F8FE] text-[#3378ED] dark:text-[#2960BE]"}," 温馨提示：同官方的/blend命令图混图，最多可以上传5张图片进行混图，图片越靠前，权重越高。 ",-1))),De={class:"radioBox dark:bg-[#15171A] bg-[#FFFFFF]"},ze={style:{display:"flex"}},Ne=[W((()=>B("img",{src:K,alt:""},null,-1)))],Te=W((()=>B("p",{style:{"margin-left":"4px"}},"快图模式",-1))),Pe=[W((()=>B("img",{src:K,alt:""},null,-1)))],Re=W((()=>B("p",{style:{"margin-left":"4px"}},"常规模式",-1))),Je=W((()=>B("div",{style:{display:"flex","align-items":"center"}},[B("img",{style:{width:"12px",height:"12px","margin-right":"4px"},src:r,alt:""}),B("p",null,"免责声明")],-1))),Me={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},_e=W((()=>B("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[B("span",null,"#  创作中心"),B("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),Ue={key:0,class:"w-full",style:{padding:"0 40px","margin-top":"10px"}},Oe={style:{"margin-top":"10px"}},Ve=W((()=>B("div",{style:{position:"relative",padding:"0 40px","margin-right":"12px"},class:"bg-[#fff] dark:bg-[#1F1F38]"},[B("div",{style:{position:"relative"}})],-1))),qe={style:{color:"#eeeeee"},class:"end"},Ge={style:{display:"flex"}},Qe={key:0,style:{display:"flex"}},He=W((()=>B("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:v,alt:""},null,-1))),Ke=["href"],We={key:1,style:{display:"flex"}},$e=W((()=>B("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:c,alt:""},null,-1))),Xe=["href"],Ye=G(p({__name:"imageMiximage",setup(o){const r=g(),n=m((()=>"dark"===r.theme)),u=x(),v=f(),{isMobile:c}=y(),p=b(),P=f(),V=m((()=>P.isLogin));m((()=>P.userInfo.avatar)),m((()=>P.userInfo.username)),m((()=>P.userBalance));const q=m((()=>P.mjDrawForm)),G=k(),K=k([]),W=k("");W.value=h.currentRoute.value.fullPath;const Ye=k();w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})),localStorage.getItem("drawLogList")?K.value=JSON.parse(localStorage.getItem("drawLogList")):w({page:1,size:20}).then((e=>{K.value=e.data.rows,localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));const Ze=k(null),ea=()=>{Ze.value.scrollTo({top:0,behavior:"smooth"})},aa=k(),ta=e=>{aa.value=e,ea(),la(e),oa()},la=async e=>{e&&(ia.value=await R({jobId:e}).then((e=>e.data)),da.value&&ia.value.status>=4&&clearTimeout(da.value))},sa=e=>{Ye.value=e,ea(),la(e),oa()},ia=k({status:0}),da=k(),oa=()=>{da.value&&clearTimeout(da.value),da.value=setTimeout((()=>{var e;if((null==(e=ia.value)?void 0:e.status)>=J.DRAWED)return da.value&&clearTimeout(da.value),G.value=0,K.value.unshift(ia.value),A.emit("status",G.value),A.emit("newDrawLogList",K.value),aa.value="",Ye.value="",void w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));oa(),la(Ye.value)}),3e3)};F((()=>{da.value&&clearTimeout(da.value),da.value=null,v.updateDrawId({id:""})})),k(0),k(!1),k(""),k(0),k([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),k(!1),k(0);const ra=k(0);setTimeout((()=>{ra.value=1}),0);const na=k([]),ua=["jpg","jpeg","png"],va=e=>{"pending"===e.file.status&&xa(e.file.file).then((e=>{let a="data:image/png;base64,"+e;na.value.push(a)})),"removed"===e.file.status&&xa(e.file.file).then((e=>{let a="data:image/png;base64,"+e;na.value=na.value.filter((e=>e!==a))})),A.emit("base64Array",na.value)},ca=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=5?(p.warning("最多只能上传5张图片"),!1):ua.includes(a)&&e.fileList.length<=5},pa=e=>{const a=e.file.name;q.value.extendParam=q.value.extendParam.filter((e=>!e.filename.includes(a))),ga()},ga=async()=>{P.updateMjDrawForm(q.value)},ma=e=>{G.value=e};function xa(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}A.on("upLoadIsShow",(e=>{ra.value=e})),A.on("upLoadShow",(e=>{ra.value=e}));const fa=k(!1);A.on("error",(e=>{fa.value=e}));const ya=()=>{fa.value=!1},ba=()=>{fa.value=!1,P.checkAuth()&&u.updateVipDialog(!0)},ka=k(!1);A.emit("drawRoute",h.options.history.location);const ha=k(""),wa=k(""),Fa=k(""),Aa=k(""),Ia=k("");H({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{ha.value=e.data.copyrightTitle,wa.value=e.data.icpNumber,Fa.value=e.data.policeFilingNumber,Aa.value=e.data.icpUrl,Ia.value=e.data.policeFilingUrl}));const Ca=k(!1),La=k(!1);function Sa(e){0==e?Ca.value=!Ca.value:1==e&&(La.value=!La.value)}const Ea=k(0),Ba=k("SQUARE");function ja(e){Ea.value=e,0==e?Ba.value="SQUARE":1==e?Ba.value="PORTRAIT":2==e&&(Ba.value="LANDSCAPE"),A.emit("imageMixImageSize",Ba.value)}k("快图模式");const Da=k(0);function za(e){Da.value=e}return(o,r)=>(M(),I(j,null,[ka.value?(M(),I("div",{key:0,class:"mask",onClick:r[0]||(r[0]=e=>ka.value=!1)})):C("",!0),L(c)?(M(),I("div",$,[S(l)])):C("",!0),fa.value?(M(),I("div",X,[S(s,{onClosePop:ya,onBuyVip:ba})])):C("",!0),L(c)?C("",!0):(M(),I("div",Y,[L(c)?C("",!0):(M(),E(Q,{key:0})),B("div",Z,[B("div",ee,[B("div",ae,[B("div",te,[B("div",le,[(M(!0),I(j,null,D(L(_),(e=>(M(),I("div",{class:z(W.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){h.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&A.emit("upLoadShow",1)}(e)},T(e.menuName),11,se)))),128))]),ie]),B("div",de,[B("div",oe,[B("div",re,[B("div",{class:z(Ca.value?"putExpand":"putAway")},[S(L(U),{onClick:r[1]||(r[1]=e=>Sa(0)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ne])]),B("div",{class:z(Ca.value?"modePutExpand":"modePutAway")},[B("div",ue,[B("div",null,[S(L(O),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":va,"on-before-upload":ca,"on-remove":pa,"list-type":"image-card","directory-dnd":""})])])],2)]),B("div",ve,[B("div",ce,[B("div",pe,[B("div",{class:z(La.value?"putExpand":"putAway")},[S(L(U),{onClick:r[2]||(r[2]=e=>Sa(1)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ge])]),B("div",{class:z(La.value?"modePutExpand":"modePutAway")},[B("div",me,[B("div",{class:z([0==Ea.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:r[3]||(r[3]=e=>ja(0))},[B("div",xe,[n.value?(M(),I("img",fe)):(M(),I("img",ye))]),be,ke],2),B("div",{class:z([1==Ea.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:r[4]||(r[4]=e=>ja(1))},[B("div",he,[n.value?(M(),I("img",we)):(M(),I("img",Fe))]),Ae,Ie],2),B("div",{class:z([2==Ea.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:r[5]||(r[5]=e=>ja(2))},[B("div",Ce,[n.value?(M(),I("img",Le)):(M(),I("img",Se))]),Ee,Be],2)])],2)]),je,B("div",De,[B("div",ze,[B("div",{class:"radioItem",onClick:r[6]||(r[6]=e=>za(0))},[B("div",{class:z(["radioItemImgBox",0==Da.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},Ne,2),Te]),B("div",{class:"radioItem",style:{"margin-left":"12px"},onClick:r[7]||(r[7]=e=>za(1))},[B("div",{class:z(["radioItemImgBox",1==Da.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},Pe,2),Re])]),Je]),S(i,{sendType:1,onGetjobId:sa,onResquestStatus:ma})]),B("div",Me,[_e,0!=K.value.length&&V.value?(M(),I("div",{key:1,class:"drawList",ref_key:"toTop",ref:Ze},[Ye.value?(M(),E(e,{key:0,task:ia.value,onRefresh:sa},null,8,["task"])):C("",!0),aa.value?(M(),E(a,{key:1,task:ia.value,onNewJob:ta},null,8,["task"])):C("",!0),B("div",Oe,[S(t,{drawLogList:K.value,onNewJobId:ta},null,8,["drawLogList"])])],512)):(M(),I("div",Ue,[S(d)])),Ve,B("div",qe,[B("div",Ge,[N("版权所有 © "+T(ha.value)+" ",1),wa.value?(M(),I("div",Qe,[He,B("a",{href:Aa.value||"#"},T(wa.value),9,Ke)])):C("",!0),Fa.value?(M(),I("div",We,[$e,B("a",{href:Ia.value||"#"},T(Fa.value),9,Xe)])):C("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-24e006d2"]]);export{Ye as default};
