import{_ as e,a}from"../1.1Light/1.1Light.a9718ff8.js";import{_ as t}from"../Line 1/Line 1.30390b32.js";import{_ as l}from"../draw-fail/draw-fail.8f549170.js";import{_ as i,a as s}from"../police/police.b4a86fcd.js";import{d as o,_ as r,a as d,b as n,p as u,N as v,c}from"../popup/popup.50260902.js";import{d as p,e as g,c as m,aI as f,b as x,g as y,u as k,y as b,a2 as h,aE as F,aD as w,a5 as I,i as A,l as L,h as S,n as C,k as B,j as D,F as j,r as E,K as _,X as T,m as z,ae as N,aJ as P,o as R,aK as J,aL as M,C as U,D as V,E as H}from"../main-4e4d4648.js";import{S as O}from"../index/index.9db8dd62.js";import{a as q}from"../music/music.ba78f089.js";import"../index/index.9193bd7b.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.5508f1fb.js";const K=e=>(U("data-v-f7f442f1"),e=e(),V(),e),G={key:1},Q={key:2},W={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},X={style:{width:"100%"}},Y={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%"}},Z={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},$={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},ee={style:{display:"flex","margin-top":"12px"}},ae=["onClick"],te=K((()=>D("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[D("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),le={class:"padMapBox"},ie=K((()=>D("div",{style:{display:"flex","justify-content":"space-between"}},[D("div",{style:{display:"flex"}},[D("div",{style:{"font-size":"15px","font-weight":"500"}},"上传图片（2-5张）")])],-1))),se={class:"modePutExpand"},oe={class:"upLoadContent"},re={class:"ImgSize",style:{"margin-top":"10px"}},de=K((()=>D("div",{style:{display:"flex","justify-content":"space-between"}},[D("div",{style:{display:"flex"}},[D("div",{style:{"font-size":"15px","font-weight":"500"}},"图片尺寸")])],-1))),ne={class:"modePutExpand"},ue={class:"sizeBox"},ve={class:"imgBox"},ce={key:0,src:e,alt:""},pe={key:1,src:a,alt:""},ge=K((()=>D("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),me=K((()=>D("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),fe={class:"imgBox"},xe={key:0,src:e,alt:""},ye={key:1,src:a,alt:""},ke=K((()=>D("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),be=K((()=>D("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),he={class:"imgBox"},Fe={key:0,src:e,alt:""},we={key:1,src:a,alt:""},Ie=K((()=>D("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),Ae=K((()=>D("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),Le=K((()=>D("div",{class:"promptBox dark:bg-[#202B3A] bg-[#F5F8FE] text-[#3378ED] dark:text-[#2960BE]"}," 温馨提示：同官方的/blend命令图混图，最多可以上传5张图片进行混图，图片越靠前，权重越高。 ",-1))),Se={class:"radioBox dark:bg-[#15171A] bg-[#FFFFFF]"},Ce={style:{display:"flex"}},Be=[K((()=>D("img",{src:t,alt:""},null,-1)))],De=K((()=>D("p",{style:{"margin-left":"4px","font-size":"10px"}},"快图模式",-1))),je=[K((()=>D("img",{src:t,alt:""},null,-1)))],Ee=K((()=>D("p",{style:{"margin-left":"4px","font-size":"10px"}},"常规模式",-1))),_e=[K((()=>D("img",{style:{width:"12px",height:"12px","margin-right":"4px"},src:l,alt:""},null,-1))),K((()=>D("p",{style:{"font-size":"10px"},class:"text-[#A3A5A6] dark:text-[#76777A]"},"免责声明",-1)))],Te={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},ze=K((()=>D("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[D("span",null,"#  创作中心"),D("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),Ne={key:0,class:"w-full",style:{padding:"0 40px","margin-top":"10px"}},Pe={style:{"margin-top":"10px"}},Re=K((()=>D("div",{style:{position:"relative",padding:"0 40px","margin-right":"12px"},class:"bg-[#fff] dark:bg-[#1F1F38]"},[D("div",{style:{position:"relative"}})],-1))),Je={style:{color:"#eeeeee"},class:"end"},Me={style:{display:"flex"}},Ue={key:0,style:{display:"flex"}},Ve=K((()=>D("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:i,alt:""},null,-1))),He=["href"],Oe={key:1,style:{display:"flex"}},qe=K((()=>D("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:s,alt:""},null,-1))),Ke=["href"],Ge=H(p({__name:"imageMiximage",setup(e){const a=g(),t=m((()=>"dark"===a.theme)),l=f(),i=x(),{isMobile:s}=y(),p=k(),U=x(),V=m((()=>U.isLogin));m((()=>U.userInfo.avatar)),m((()=>U.userInfo.username)),m((()=>U.userBalance));const H=m((()=>U.mjDrawForm)),K=b(),Ge=b([]),Qe=b("");Qe.value=h.currentRoute.value.fullPath;const We=b();localStorage.getItem("drawLogList")?(Ge.value=JSON.parse(localStorage.getItem("drawLogList")),setTimeout((()=>{Ze()}),10)):F({page:1,size:20}).then((e=>{let a=e.data.rows;Ge.value=a.reverse(),setTimeout((()=>{Ze()}),10),localStorage.setItem("drawLogList",JSON.stringify(Ge.value))}));const Xe=b(null),Ye=()=>{let e=Xe.value;e.scrollTo({top:e.scrollHeight+e.clientHeight,behavior:"smooth"})},Ze=()=>{let e=Xe.value;e.scrollTop=e.scrollHeight},$e=b(),ea=e=>{$e.value=e,setTimeout((()=>Ye()),10),aa(e),sa()},aa=async e=>{e&&(la.value=await N({jobId:e}).then((e=>e.data)),ia.value&&la.value.status>=4&&clearTimeout(ia.value))},ta=e=>{We.value=e,setTimeout((()=>Ye()),10),aa(e),sa()},la=b({status:0}),ia=b(),sa=()=>{ia.value&&clearTimeout(ia.value),ia.value=setTimeout((()=>{var e;if((null==(e=la.value)?void 0:e.status)>=P.DRAWED){ia.value&&clearTimeout(ia.value),K.value=0,Ge.value.push(la.value),I.emit("status",K.value);return 0==Ge.value.filter((e=>e.id==la.value.id)).length?Ge.value.push(la.value):console.log("重复了"),I.emit("newDrawLogList",Ge.value),$e.value="",We.value="",void F({page:1,size:20}).then((e=>{let a=e.data.rows;Ge.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(e.data.rows)),setTimeout((()=>Ye()),10)}))}sa(),aa(We.value)}),3e3)};w((()=>{ia.value&&clearTimeout(ia.value),ia.value=null,i.updateDrawId({id:""})})),b(0),b(!1),b(""),b(0),b([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),b(!1),b(0);const oa=b(0);setTimeout((()=>{oa.value=1}),0);const ra=b([]),da=["jpg","jpeg","png"],na=e=>{"pending"===e.file.status&&ga(e.file.file).then((e=>{let a="data:image/png;base64,"+e;ra.value.push(a)})),"removed"===e.file.status&&ga(e.file.file).then((e=>{let a="data:image/png;base64,"+e;ra.value=ra.value.filter((e=>e!==a))})),I.emit("base64Array",ra.value)},ua=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>=5?(p.warning("最多只能上传5张图片"),!1):da.includes(a)&&e.fileList.length<=5},va=e=>{const a=e.file.name;H.value.extendParam=H.value.extendParam.filter((e=>!e.filename.includes(a))),ca()},ca=async()=>{U.updateMjDrawForm(H.value)},pa=e=>{K.value=e};function ga(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}I.on("upLoadIsShow",(e=>{oa.value=e})),I.on("upLoadShow",(e=>{oa.value=e}));const ma=b(!1);I.on("error",(e=>{ma.value=e}));const fa=()=>{ma.value=!1},xa=()=>{ma.value=!1,U.checkAuth()&&l.updateVipDialog(!0)},ya=b(!1);I.emit("drawRoute",h.options.history.location);const ka=b(""),ba=b(""),ha=b(""),Fa=b(""),wa=b("");q({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{ka.value=e.data.copyrightTitle,ba.value=e.data.icpNumber,ha.value=e.data.policeFilingNumber,Fa.value=e.data.icpUrl,wa.value=e.data.policeFilingUrl})),b(!1),b(!1);const Ia=b(0),Aa=b("SQUARE");function La(e){Ia.value=e,0==e?Aa.value="SQUARE":1==e?Aa.value="PORTRAIT":2==e&&(Aa.value="LANDSCAPE"),I.emit("imageMixImageSize",Aa.value)}b("快图模式");const Sa=b(0),Ca=b(1);function Ba(e){0==e?Ca.value=1:1==e&&(Ca.value=2),I.emit("drawMode",Ca.value),Sa.value=e}function Da(){h.push("/serviceAgreement")}return b(1),b(1),(e,a)=>(R(),A(j,null,[ya.value?(R(),A("div",{key:0,class:"mask",onClick:a[0]||(a[0]=e=>ya.value=!1)})):L("",!0),S(s)?(R(),A("div",G,[C(n)])):L("",!0),ma.value?(R(),A("div",Q,[C(u,{onClosePop:fa,onBuyVip:xa})])):L("",!0),S(s)?L("",!0):(R(),A("div",W,[S(s)?L("",!0):(R(),B(O,{key:0})),D("div",X,[D("div",Y,[D("div",Z,[D("div",$,[D("div",ee,[(R(!0),A(j,null,E(S(J),(e=>(R(),A("div",{class:_(Qe.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){h.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&I.emit("upLoadShow",1)}(e)},z(e.menuName),11,ae)))),128))]),te]),D("div",le,[ie,D("div",se,[D("div",oe,[D("div",null,[C(S(M),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":na,"on-before-upload":ua,"on-remove":va,"list-type":"image-card","directory-dnd":""})])])])]),D("div",re,[de,D("div",ne,[D("div",ue,[D("div",{class:_([0==Ia.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>La(0))},[D("div",ve,[t.value?(R(),A("img",ce)):(R(),A("img",pe))]),ge,me],2),D("div",{class:_([1==Ia.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>La(1))},[D("div",fe,[t.value?(R(),A("img",xe)):(R(),A("img",ye))]),ke,be],2),D("div",{class:_([2==Ia.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>La(2))},[D("div",he,[t.value?(R(),A("img",Fe)):(R(),A("img",we))]),Ie,Ae],2)])])]),Le,D("div",Se,[D("div",Ce,[D("div",{class:"radioItem",onClick:a[4]||(a[4]=e=>Ba(0))},[D("div",{class:_(["radioItemImgBox",0==Sa.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},Be,2),De]),D("div",{class:"radioItem",style:{"margin-left":"12px"},onClick:a[5]||(a[5]=e=>Ba(1))},[D("div",{class:_(["radioItemImgBox",1==Sa.value?"dark:bg-[#2960BE] bg-[#3378ED]":"dark:bg-[#484A4D] bg-[#CECFD0]"])},je,2),Ee])]),D("div",{style:{display:"flex","align-items":"center",cursor:"pointer"},onClick:Da},_e)]),C(v,{sendType:1,onGetjobId:ta,onResquestStatus:pa})]),D("div",Te,[ze,0!=Ge.value.length&&V.value?(R(),A("div",{key:1,class:"drawList",ref_key:"toTop",ref:Xe},[D("div",Pe,[C(o,{drawLogList:Ge.value,onNewJobId:ea},null,8,["drawLogList"])]),We.value?(R(),B(r,{key:0,task:la.value,onRefresh:ta},null,8,["task"])):L("",!0),$e.value?(R(),B(d,{key:1,task:la.value,onNewJob:ea},null,8,["task"])):L("",!0)],512)):(R(),A("div",Ne,[C(c)])),Re,D("div",Je,[D("div",Me,[T("版权所有 © "+z(ka.value)+" ",1),ba.value?(R(),A("div",Ue,[Ve,D("a",{href:Fa.value||"#"},z(ba.value),9,He)])):L("",!0),ha.value?(R(),A("div",Oe,[qe,D("a",{href:wa.value||"#"},z(ha.value),9,Ke)])):L("",!0)])])])])])]))],64))}}),[["__scopeId","data-v-f7f442f1"]]);export{Ge as default};
