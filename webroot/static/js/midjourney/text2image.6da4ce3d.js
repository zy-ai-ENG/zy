import{d as e,e as a,c as t,y as l,o as i,i as s,j as n,K as d,$ as u,a0 as v,a6 as o,C as r,D as c,E as m,F as g,r as p,a1 as x,m as f,aK as y,b as k,g as h,u as b,aG as w,aO as F,U as A,aF as I,a3 as S,aP as C,aQ as B,l as E,h as L,n as z,k as _,w as j,aM as D,_ as T,aN as P,Z as N,Y as M,aR as U,aI as V,af as R,aL as O,aD as J}from"../main-4cae9f5a.js";import{d as W,_ as q,a as H,b as G,p as K,N as Q,e as $,c as Y}from"../popup/popup.be55d5f6.js";import{_ as Z,a as X}from"../1.1Light/1.1Light.a9718ff8.js";import{S as ee}from"../index/index.47aafc2b.js";import{u as ae}from"../index/index.0f0a0334.js";import"../draw-fail/draw-fail.50b43169.js";import"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.b4714644.js";import"../police/police.b4a86fcd.js";import"../music/music.676c648f.js";const te="/static/svg/4.3-6838831b.svg",le="/static/svg/4.3Light-c190a37f.svg",ie=e=>(r("data-v-8c623d20"),e=e(),c(),e),se={class:"imgSizeBox"},ne={class:"imgBox"},de={key:0,src:Z,alt:""},ue={key:1,src:X,alt:""},ve=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:1",-1))),oe=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"头像框",-1))),re={class:"imgBox"},ce={key:0,src:"/static/svg/1.2-d86ec2f3.svg",alt:""},me={key:1,src:"/static/svg/1.2Light-ffd7b9e0.svg",alt:""},ge=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"1:2",-1))),pe=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"手机壁纸",-1))),xe={class:"imgBox"},fe={key:0,src:"/static/svg/16.9-914373b6.svg",alt:""},ye={key:1,src:"/static/svg/16.9Light-61641613.svg",alt:""},ke=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"16:9",-1))),he=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"电脑壁纸",-1))),be={class:"imgBox"},we={key:0,src:"/static/svg/9.16-8968f21a.svg",alt:""},Fe={key:1,src:"/static/svg/9.16Light-92609f96.svg",alt:""},Ae=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"9:16",-1))),Ie=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"宣传海报",-1))),Se={class:"imgBox"},Ce={key:0,src:te,alt:""},Be={key:1,src:le,alt:""},Ee=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"4:3",-1))),Le=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"文章配图",-1))),ze={class:"imgBox"},_e={key:0,src:"/static/svg/3.4-cbd71db4.svg",alt:""},je={key:1,src:"/static/svg/3.4Light-11fadb4b.svg",alt:""},De=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:4",-1))),Te=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"媒体配图",-1))),Pe={class:"imgBox"},Ne={key:0,src:"/static/svg/3.2-5ec9169a.svg",alt:""},Me={key:1,src:"/static/svg/3.2Light-3c6aac35.svg",alt:""},Ue=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"3:2",-1))),Ve=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"横板名片",-1))),Re={class:"imgBox"},Oe={key:0,src:te,alt:""},Je={key:1,src:le,alt:""},We=ie((()=>n("div",{class:"title1 text-[#919393] dark:text-[#707277]"},"2:3",-1))),qe=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"小红书图",-1))),He={class:"imgBox"},Ge={key:0,src:"/static/svg/zdy-024838ba.svg",alt:""},Ke={key:1,src:"/static/svg/zdyLight-3b894bed.svg",alt:""},Qe=ie((()=>n("img",{class:"setSvg",src:"/static/svg/set-81682ae1.svg",alt:""},null,-1))),$e={style:{display:"flex","margin-top":"8px"}},Ye=ie((()=>n("div",{style:{margin:"0 4px"}},":",-1))),Ze=ie((()=>n("div",{class:"title2 text-[#919393] dark:text-[#707277]"},"自定义",-1))),Xe=m(e({__name:"imgSize",setup(e){const r=a(),c=t((()=>"dark"===r.theme)),m=l(0),g=l(1),p=l(1),x=l("1:1");function f(e){m.value=e,0==e?x.value="1:1":1==e?x.value="1:2":2==e?x.value="16:9":3==e?x.value="9:16":4==e?x.value="4:3":5==e?x.value="3:4":6==e?x.value="3:2":7==e?x.value="2:3":8==e&&(x.value=g+":"+p),o.emit("sizeValue",x.value)}return(e,a)=>(i(),s("div",se,[n("div",{class:d([0==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[0]||(a[0]=e=>f(0))},[n("div",ne,[c.value?(i(),s("img",de)):(i(),s("img",ue))]),ve,oe],2),n("div",{class:d([1==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[1]||(a[1]=e=>f(1))},[n("div",re,[c.value?(i(),s("img",ce)):(i(),s("img",me))]),ge,pe],2),n("div",{class:d([2==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[2]||(a[2]=e=>f(2))},[n("div",xe,[c.value?(i(),s("img",fe)):(i(),s("img",ye))]),ke,he],2),n("div",{class:d([3==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[3]||(a[3]=e=>f(3))},[n("div",be,[c.value?(i(),s("img",we)):(i(),s("img",Fe))]),Ae,Ie],2),n("div",{class:d([4==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[4]||(a[4]=e=>f(4))},[n("div",Se,[c.value?(i(),s("img",Ce)):(i(),s("img",Be))]),Ee,Le],2),n("div",{class:d([5==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[5]||(a[5]=e=>f(5))},[n("div",ze,[c.value?(i(),s("img",_e)):(i(),s("img",je))]),De,Te],2),n("div",{class:d([6==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[6]||(a[6]=e=>f(6))},[n("div",Pe,[c.value?(i(),s("img",Ne)):(i(),s("img",Me))]),Ue,Ve],2),n("div",{class:d([7==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[7]||(a[7]=e=>f(7))},[n("div",Re,[c.value?(i(),s("img",Oe)):(i(),s("img",Je))]),We,qe],2),n("div",{class:d([8==m.value?"imgSizeItemSelect border-[2px] border-[#76A5F3] dark:border-[#2A63C5]":"imgSizeItem","dark:bg-[#202B3A] bg-[#F5F8FE]"]),onClick:a[10]||(a[10]=e=>f(8))},[n("div",He,[c.value?(i(),s("img",Ge)):(i(),s("img",Ke)),Qe]),n("div",$e,[u(n("input",{class:"sizeInp","onUpdate:modelValue":a[8]||(a[8]=e=>g.value=e),type:"text"},null,512),[[v,g.value]]),Ye,u(n("input",{class:"sizeInp","onUpdate:modelValue":a[9]||(a[9]=e=>p.value=e),type:"text"},null,512),[[v,p.value]])]),Ze],2)]))}}),[["__scopeId","data-v-8c623d20"]]),ea={class:"loading-text"},aa=m(e({__name:"Loading1",props:{gap:{default:10},progress:{default:0},tips:{default:""},bgColor:{},words:{default:["L","O","A","D","I","N","G"]}},setup(e){const l=e,d=a(),u=t((()=>d.theme)),v=t((()=>"dark"===u.value?"#fff":"#000"));return(e,a)=>(i(),s("div",{class:"loading",style:x({background:l.bgColor})},[n("div",ea,[(i(!0),s(g,null,p(l.words,(e=>(i(),s("span",{key:e,style:x({margin:`0 ${l.gap}px`,color:v.value}),class:"loading-text-words"},f(e),5)))),128))])],4))}}),[["__scopeId","data-v-2f5e1775"]]),ta=e=>(r("data-v-549314f0"),e=e(),c(),e),la={key:1},ia={key:2},sa={key:3,class:"text-image-container flex flex-row dark:bg-[#010102] bg-[#F4F4F4]",style:{width:"100%"}},na={style:{width:"100%"}},da={class:"h-full flex justify-start items-between",style:{height:"100vh",width:"100%",overflow:"hidden"}},ua={class:"contentBox dark:bg-[#15171A] bg-[#FFFFFF]"},va={style:{position:"absolute","z-index":"99",width:"278px","padding-bottom":"10px",top:"0"},class:"bg-[#fff] dark:bg-[#15171A]"},oa={style:{display:"flex","margin-top":"12px"}},ra=["onClick"],ca=ta((()=>n("div",{class:"MJBox dark:bg-[#202B3A] bg-[#fff]"},[n("div",{class:"intro dark:text-[#CAC5C5] text-[#808080]"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的绘画功能，一次性生成4张高质量的艺术创作。 ")],-1))),ma={class:"crollBox",style:{"margin-top":"150px","padding-bottom":"300px","overflow-y":"scroll",height:"100%"}},ga={class:"modeBox"},pa=ta((()=>n("div",{class:"modeTitle"},[n("div",{style:{"font-size":"15px","font-weight":"500"}},"模型选择")],-1))),xa={class:"modePutExpand"},fa={class:"modeImg"},ya=[ta((()=>n("div",{class:"imgText"},[n("p",null,"Midjourney"),n("p",null,"真实感强")],-1))),ta((()=>n("img",{src:"/static/png/image 6-ee2e06ca.png",alt:""},null,-1)))],ka=[ta((()=>n("div",{class:"imgText"},[n("p",null,"Niji"),n("p",null,"卡通动漫")],-1))),ta((()=>n("img",{src:"/static/png/image 6 (1)-dee0c9b5.png",alt:""},null,-1)))],ha={key:0,class:"modeSelect"},ba=ta((()=>n("p",null,"版本",-1))),wa=["onClick"],Fa={key:1,class:"modeSelect"},Aa=ta((()=>n("p",null,"版本",-1))),Ia=["onClick"],Sa={class:"styleMain"},Ca=ta((()=>n("div",{style:{display:"flex"}},[n("div",{style:{"font-size":"15px","font-weight":"500"}},"风格选择")],-1))),Ba={class:"modePutExpand"},Ea=["onClick"],La=["onClick"],za={class:"styleImgText"},_a=["src"],ja=[ta((()=>n("img",{src:"/static/svg/Union-fd7f7f95.svg",alt:""},null,-1)))],Da={key:0,class:"padMapBox"},Ta={style:{display:"flex","justify-content":"space-between"}},Pa={style:{display:"flex"}},Na=ta((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"垫图图片（0-3张）",-1))),Ma=ta((()=>n("div",null,[n("p",{class:"padMapText text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-top":"16px"}}," 如需垫图请至少上传一张图片，图片总大小上限20M"),n("p",{class:"padMapText text-[#FF3B30] dark:text-[#FF5E55]",style:{"margin-top":"6px"}}," 严禁上传违规图(政治人物、色情、暴恐等)违者100%封号")],-1))),Ua={class:"upLoadContent"},Va={class:"imgSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},Ra={style:{display:"flex","align-items":"center"}},Oa=ta((()=>n("div",{class:"similarText"},"-- iw 图片相似度",-1))),Ja=ta((()=>n("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Wa=ta((()=>n("div",{style:{width:"280px"}},"--iw 值越高，上传的图像对最终效果的影响就越大",-1))),qa=ta((()=>n("div",{style:{width:"2px",height:"10px","margin-right":"7px"},class:"dark:bg-[#484A4D] bg-[#D1D2D3]"},null,-1))),Ha={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Ga=["onClick"],Ka={key:1,class:"roleConsistent"},Qa={style:{display:"flex","justify-content":"space-between"}},$a={style:{display:"flex"}},Ya=ta((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"角色一致性",-1))),Za=ta((()=>n("div",{class:"roleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--cref)请上传1张具有人脸的图片,图片大小上限为20M ",-1))),Xa={class:"upLoadContent"},et={class:"roleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},at={style:{display:"flex","align-items":"center"}},tt=ta((()=>n("div",{class:"similarText"},"-- cw 角色一致性强度",-1))),lt=ta((()=>n("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),it=ta((()=>n("div",{style:{width:"280px"}},"强度为0时会专注面部一致，强度为100时会同时参考面部、头发和衣服。",-1))),st={style:{width:"102px"}},nt={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},dt={key:2,class:"styleConsistent"},ut={style:{display:"flex","justify-content":"space-between"}},vt={style:{display:"flex"}},ot=ta((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"风格一致性",-1))),rt=ta((()=>n("div",{class:"styleIntro text-[#A3A5A6] dark:text-[#76777A]"}," (--sref)请上传1-3张风格相似的图片,图片大小上限为20M ",-1))),ct={class:"upLoadContent"},mt={class:"styleSimilar bg-[#F5F8FE] dark:bg-[#202B3A]"},gt={style:{display:"flex","align-items":"center"}},pt=ta((()=>n("div",{class:"similarText"},"-- cw 风格一致性强度",-1))),xt=ta((()=>n("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),ft=ta((()=>n("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),yt={style:{width:"102px"}},kt={class:"tex-[#3378ED] dark:text-[#2960BE]",style:{"margin-left":"8px",width:"20px"}},ht={class:"imgSize"},bt={class:"notWant"},wt={style:{display:"flex"}},Ft=ta((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"不想出现的词",-1))),At={class:"parameterBox"},It={style:{display:"flex"}},St=ta((()=>n("div",{style:{"font-size":"15px","font-weight":"500"}},"高级参数",-1))),Ct={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Bt=ta((()=>n("div",null,"--seed 种子",-1))),Et=ta((()=>n("div",{class:"parameterLine"},null,-1))),Lt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},zt=ta((()=>n("div",null,"--s 风格化",-1))),_t=ta((()=>n("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),jt=ta((()=>n("div",{style:{width:"280px"}},"这个值越低会更符合 prompt 的描述,数值越高艺术性就会越强，但跟 prompt关联性就会比较弱",-1))),Dt={style:{width:"120px"}},Tt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Pt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Nt=ta((()=>n("div",null,"--c 多样性",-1))),Mt=ta((()=>n("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Ut=ta((()=>n("div",{style:{width:"280px"}},"这个值越低生成的四张图风格越相似，反之差异越大",-1))),Vt={style:{width:"120px"}},Rt={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},Ot={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Jt=ta((()=>n("div",null,"--quality 质量",-1))),Wt=ta((()=>n("div",{class:"parameterLine"},null,-1))),qt={style:{display:"flex",flex:"1","justify-content":"space-between",cursor:"pointer","align-items":"center"}},Ht={key:0,class:"selectItemList bg-[#48484E] text-[#fff]"},Gt=["onClick"],Kt={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},Qt=ta((()=>n("div",null,"--weird 奇妙",-1))),$t=ta((()=>n("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),Yt=ta((()=>n("div",{style:{width:"280px"}},"生成的图像引入奇特和离奇的特质，从而产生独特而意想不到的结果",-1))),Zt={style:{width:"110px"}},Xt={style:{width:"22px","margin-left":"10px",color:"#2960BE"}},el={class:"parameterItem dark:bg-[#202B3A] bg-[#F5F8FE]"},al=ta((()=>n("div",null,"--stop 停止",-1))),tl=ta((()=>n("img",{src:$,alt:"",style:{width:"14px",height:"14px","margin-left":"6px","margin-right":"7px"}},null,-1))),ll=ta((()=>n("div",{style:{width:"280px"}},'使用"--stop"参数可以在作业进行到对应的任务百分比时终止任务，比如50，在任务的50%进度时终止任务',-1))),il={style:{width:"110px"}},sl={style:{width:"20px","margin-left":"10px",color:"#2960BE"}},nl={class:"userInfoBox dark:bg-[#15171A] bg-[#FFFFFF]"},dl={class:"userInfoAvatar"},ul=["src"],vl={class:"userInfoNicknmae",style:{"margin-left":"12px","font-weight":"bold","font-size":"17px"}},ol={class:"drawIntegral text-[#A3A5A6] dark:text-[#76777A]",style:{"margin-left":"12px"}},rl={class:"contentCenter bg-[#fff] dark:bg-[#15171A]"},cl=ta((()=>n("div",{class:"contentCenterTop border-b-[2px] dark:border-[#000000] border-[#D1D1D1]"},[n("span",{class:"text-[#808080] dark:text-[#fff]"},"#  创作中心"),n("span",{style:{color:"#EDB830"}},"    请遵守中华人民共和国网络安全法，严禁生成涉及政治人物、色情、恐怖等不良内容，如有违规封号处理")],-1))),ml={key:0,class:"w-full",style:{padding:"0 0px",position:"relative","margin-top":"10px"}},gl={key:0,style:{height:"580px"}},pl={key:1,class:"drawList"},xl={style:{"margin-top":"10px"}},fl={class:"bg-[#fff] dark:bg-[#15171A] newSendBox"},yl={key:0,class:"tipBox dark:bg-[#202B3A] bg-[#f9f9f9]"},kl={class:"tip dark:bg-[#202B3A] bg-[#f9f9f9]"},hl=ta((()=>n("p",null,"推荐关键词",-1))),bl={class:"itemBox"},wl=["onClick"],Fl={style:{"margin-right":"12px"}},Al=["src"],Il={style:{"font-size":"15px"}},Sl={style:{"font-size":"13px"}},Cl=m(e({__name:"text2image",setup(e){const a=y(),r=k(),{isMobile:c}=h(),m=l(),$=k(),Z=ae(),X=t((()=>Z.openRegionDialog)),te=t((()=>$.isLogin)),le=t((()=>$.userInfo.avatar)),ie=t((()=>$.userInfo.username)),se=t((()=>$.userBalance)),ne=t((()=>$.mjDrawForm)),de=l(),ue=b(),ve=l([]),oe=l(0);w({page:1,size:20}).then((e=>{let a=e.data.rows;ve.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(ve.value)),oe.value=1,setTimeout((()=>{xe()}),800)}));const re=l([]);F({page:1,size:20}).then((e=>{console.log("推荐词",e),re.value=e.data.rows}));const ce=l({status:0}),me=async e=>{if(!e)return;const a=await R({jobId:e});ce.value=a.data;const t=a.data;if(6===a.data.status)return 9===t.action?Z.openRegionModal(!0,{customId:t.customId,taskId:t.id,mode:t.mode}):$.updateRemixModal(!0,{prompt:"",taskId:t.id,customId:t.customId}),void(ke.value&&clearTimeout(ke.value));if(ce.value.status>=3){m.value=0,o.emit("status",m.value),ke.value&&clearTimeout(ke.value);return 0==ve.value.filter((e=>e.id==ce.value.id)).length?ve.value.push(ce.value):console.log("重复了"),o.emit("newDrawLogList",ve.value),ge.value="",de.value="",void w({page:1,size:20}).then((e=>{let a=e.data.rows;ve.value=a.reverse(),localStorage.setItem("drawLogList",JSON.stringify(ve.value)),setTimeout((()=>xe()),10)}))}setTimeout((()=>xe()),10),he()};A((()=>X.value),(e=>{e||setTimeout((()=>{de.value?me(de.value):ge.value&&me(ge.value)}),1e3)}));const ge=l(),pe=l(null),xe=()=>{let e=pe.value;e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},fe=e=>{ge.value=e,me(e)},ye=e=>{de.value=e,me(e)},ke=l(),he=()=>{ke.value&&clearTimeout(ke.value),ke.value=setTimeout((()=>{var e,a,t;if((null==(e=ce.value)?void 0:e.status)===O.DRAWED||(null==(a=ce.value)?void 0:a.status)===O.DRAWFAIL||(null==(t=ce.value)?void 0:t.status)===O.DRAWTIMEOUT)return ke.value&&clearTimeout(ke.value),m.value=0,o.emit("status",m.value),ve.value.push(ce.value),o.emit("newDrawLogList",ve.value),ge.value="",de.value="",void w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))}));he(),de.value?me(de.value):ge.value&&me(ge.value)}),3e3)};I((()=>{ke.value&&clearTimeout(ke.value),ke.value=null,r.updateDrawId({id:""})}));const be=[{name:"V 6.0",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6.0"},{name:"V 5.2",intro:"增加真实风格图像细节",id:1,value:" 5.2"},{name:"V 5.1",intro:"专注真实艺术风格图像",id:2,value:" 5.1"},{name:"V 5.0",intro:"增加真实风格图像细节",id:3,value:" 5"}],we=[{name:"Niji 6",intro:"全新6.0 ALPHA真实风格图像",id:0,value:" 6"},{name:"Niji 5",intro:"增加真实风格图像细节",id:1,value:" 5"},{name:"Niji 4",intro:"专注真实艺术风格图像",id:2,value:" 4"}],Fe=l(0),Ae=l(!0);function Ie(e){Fe.value=e.index,o.emit("--v",e.item.value),0!=e.item.id?Ae.value=!1:Ae.value=!0}const Se=l(!1);function Ce(e){Se.value=e,e||(Be.value="")}const Be=l("");l(0),l([{name:"--q 质量化",sliderValue:0,id:0,max:100,type:"--q"},{name:"--s 风格化",sliderValue:0,id:1,max:1e3,type:"--s"},{name:"--c 多样化",sliderValue:0,id:2,max:100,type:"--c"}]),l(!1),l(0);const Ee=l([]),Le=["jpg","jpeg","png"],ze=e=>{var a;"pending"===e.file.status&&(a=e.file.file,new Promise(((e,t)=>{const l=new FileReader;l.readAsDataURL(a),l.onload=function(){const a=l.result.split(",")[1];e(a)},l.onerror=function(){t(new Error("Failed to load file"))}}))).then((e=>{let a="data:image/png;base64,"+e;Ee.value.push(a)})),"removed"===e.file.status&&(Ee.value=[])},_e=l("/api/upload/file"),je=new FormData,De=new FormData,Te=new FormData,Pe=l([]),Ne=l([]),Me=l([]),Ue=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ue.warning("最多只能上传3张图片"),!1;je.append("file",e.file.file);const l=await J.post(_e.value,je,{headers:{"Content-Type":"multipart/form-data"}});return je.delete("file"),Pe.value=[...Pe.value,{url:l.data.data,name:t}],console.log("垫图",Pe.value),o.emit("pidImgList",Pe.value),Le.includes(a)&&e.fileList.length<=3},Ve=e=>{const a=e.file.name,t=e.file.name.split(".")[0];ne.value.extendParam=ne.value.extendParam.filter((e=>!e.filename.includes(a))),Pe.value=Pe.value.filter((e=>e.name!=t)),o.emit("pidImgList",Pe.value),qe()},Re=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=1)return ue.warning("最多只能上传1张图片"),!1;De.append("file",e.file.file);const l=await J.post(_e.value,De,{headers:{"Content-Type":"multipart/form-data"}});return De.delete("file"),Ne.value=[...Ne.value,{url:l.data.data,name:t}],console.log("角色",Ne.value),o.emit("roleImgList",Ne.value),Le.includes(a)&&e.fileList.length<=1},Oe=e=>{const a=e.file.name,t=e.file.name.split(".")[0];ne.value.extendParam=ne.value.extendParam.filter((e=>!e.filename.includes(a))),Ne.value=Ne.value.filter((e=>e.name!=t)),o.emit("roleImgList",Ne.value),qe()},Je=async e=>{const a=e.file.type.split("/")[1],t=e.file.name.split(".")[0];if(e.fileList.length>=3)return ue.warning("最多只能上传3张图片"),!1;Te.append("file",e.file.file);const l=await J.post(_e.value,Te,{headers:{"Content-Type":"multipart/form-data"}});return Te.delete("file"),Me.value=[...Me.value,{url:l.data.data,name:t}],console.log("风格",Me.value),o.emit("styleImgList",Me.value),Le.includes(a)&&e.fileList.length<=3},We=e=>{const a=e.file.name,t=e.file.name.split(".")[0];Me.value=Me.value.filter((e=>e.name!=t)),o.emit("styleImgList",Me.value),ne.value.extendParam=ne.value.extendParam.filter((e=>!e.filename.includes(a))),qe()},qe=async()=>{$.updateMjDrawForm(ne.value)};const He=l(!1);o.on("error",(e=>{He.value=e}));const Ge=()=>{He.value=!1},Ke=()=>{He.value=!1,$.checkAuth()&&a.updateVipDialog(!0)},Qe=l(!1);o.emit("drawRoute",S.options.history.location);const $e=l("/midjourney/text-to-image");$e.value=S.currentRoute.value.fullPath;const Ye=l(0);function Ze(e){Ye.value=e,Fe.value=0,0==e?(o.emit("MjOrNj","--v"),o.emit("--v",be[0].value)):1==e&&(o.emit("MjOrNj","--niji"),o.emit("--v",we[0].value))}const ea=l(0),ta=l(null),Cl=l([]);C({page:1,size:20,type:"style"}).then((e=>{let a=e.data.filter((e=>2==e.level));Cl.value=a,El(Cl.value[0].pid)}));const Bl=l([]);function El(e){B({id:e}).then((e=>{console.log(e.data.rows[0].children),e.data.rows.length&&(Bl.value=e.data.rows[0].children)}))}const Ll=e=>{m.value=e,1==e&&(zl.value=0,_l.value=0,Pl.value=0,Nl.value=0,Ul.value=100,Ml.value=0,Zl.value="",o.emit("--cw",zl.value),o.emit("--sw",_l.value),o.emit("--s",Pl.value),o.emit("--c",Nl.value),o.emit("--weird",Ml.value),o.emit("--stop",Ul.value),o.emit("--no",Zl.value))},zl=l(0),_l=l(0);function jl(){o.emit("--cw",zl.value)}function Dl(){o.emit("--sw",_l.value)}const Tl=l(0),Pl=l(0),Nl=l(0),Ml=l(0),Ul=l(100);function Vl(){o.emit("--s",Pl.value)}function Rl(){o.emit("--c",Nl.value)}function Ol(){o.emit("--weird",Ml.value)}function Jl(){o.emit("--stop",Ul.value)}l(!1),A((()=>X.value),(e=>{e||handleQueryTaskByPage()}));const Wl=l(!1),ql=l(!1),Hl=l(!1),Gl=l(!1),Kl=l(!1),Ql=l(!1),$l=l(!1);function Yl(e){0==e?Wl.value=!Wl.value:1==e?ql.value=!ql.value:2==e?Hl.value=!Hl.value:3==e?Gl.value=!Gl.value:4==e?Kl.value=!Kl.value:5==e?Ql.value=!Ql.value:6==e&&($l.value=!$l.value)}const Zl=l("");function Xl(){o.emit("--no",Zl.value)}const ei=l(""),ai=l([{name:"--iw 0.25 默认 相似度30%",id:0,value:.25,isSelect:!0},{name:"--iw 0.5 相似度40%",id:1,value:.5,isSelect:!1},{name:"--iw 1 相似度50%",id:2,value:1,isSelect:!1},{name:"--iw 1.25 相似度60%",id:3,value:1.25,isSelect:!1},{name:"--iw 1.5 相似度70%",id:4,value:1.5,isSelect:!1},{name:"--iw 1.75 相似度80%",id:5,value:1.75,isSelect:!1},{name:"--iw 2 相似度90%",id:6,value:2,isSelect:!1}]);ei.value=ai.value[0].name;const ti=l(!1),li=l(!1);function ii(){li.value=!li.value}const si=l([{name:"1x - 默认",id:0,isSelect:!0,value:1},{name:"0.25x",id:1,isSelect:!1,value:.25},{name:"0.5x",id:2,isSelect:!1,value:.5}]),ni=l("");function di(){o.emit("--seed",Tl.value)}ni.value=si.value[0].name;const ui=l();const vi=l(!1);function oi(){vi.value=!vi.value}const ri=l(!1);function ci(){Qe.value=!1,ri.value=!1}return o.on("isFocus",(e=>{ri.value=e})),(e,a)=>{var t;return i(),s(g,null,[Qe.value||ri.value?(i(),s("div",{key:0,class:"mask",onClick:ci})):E("",!0),L(c)?(i(),s("div",la,[z(G)])):E("",!0),He.value?(i(),s("div",ia,[z(K,{onClosePop:Ge,onBuyVip:Ke})])):E("",!0),L(c)?E("",!0):(i(),s("div",sa,[L(c)?E("",!0):(i(),_(ee,{key:0})),n("div",na,[n("div",da,[n("div",ua,[n("div",va,[n("div",oa,[(i(!0),s(g,null,p(L(D),(e=>(i(),s("div",{class:d($e.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#F4F4F4;] dark:bg-[#010102] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){S.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&o.emit("upLoadShow",1)}(e)},f(e.menuName),11,ra)))),128))]),ca]),n("div",ma,[n("div",ga,[pa,n("div",xa,[n("div",fa,[n("div",{style:{"margin-right":"8px"},onClick:a[0]||(a[0]=e=>Ze(0)),class:d(0==Ye.value?"select":"unSelect")},ya,2),n("div",{onClick:a[1]||(a[1]=e=>Ze(1)),class:d(1==Ye.value?"select":"unSelect")},ka,2)]),0==Ye.value?(i(),s("div",ha,[ba,(i(),s(g,null,p(be,((e,a)=>n("div",{class:d(Fe.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Ie({item:e,index:a})},f(e.name),11,wa))),64))])):E("",!0),1==Ye.value?(i(),s("div",Fa,[Aa,(i(),s(g,null,p(we,((e,a)=>n("div",{class:d(Fe.value==a?"modeItemSelect":"modeItem"),key:e.id,onClick:t=>Ie({item:e,index:a})},f(e.name),11,Ia))),64))])):E("",!0)])]),n("div",Sa,[Ca,n("div",Ba,[n("div",{class:"styleBox",ref_key:"container",ref:ta},[(i(!0),s(g,null,p(Cl.value,((e,a)=>(i(),s("div",{class:d(ea.value==a?"styleItemSelect":"styleItem"),onClick:e=>function(e){ea.value=e,El(Cl.value[e].pid);let a=ta.value;(30*e>=120||30*e<=150)&&a.scrollTo({left:20*e,behavior:"smooth"})}(a),key:e.id},f(e.classifyName),11,Ea)))),128))],512),n("div",{class:"styleImgBox",style:x(vi.value?"height: auto":"max-height:285px")},[(i(!0),s(g,null,p(Bl.value,((e,a)=>(i(),s("div",{class:d(ui.value==a?"styleImgItemSelect":"styleImgItem"),onClick:t=>{return l={item:e,index:a},ui.value=l.index,void o.emit("styleWord",l.item.incantationEn);var l}},[n("div",za,f(e.incantationCn),1),n("img",{src:e.img,alt:""},null,8,_a)],10,La)))),256))],4),Bl.value.length>9?(i(),s("div",{key:0,onClick:oi,class:"expand dark:bg-[#010102] bg-[#F4F4F4]"},ja)):E("",!0)])]),Ae.value?(i(),s("div",Da,[n("div",Ta,[n("div",Pa,[n("div",{class:d(Hl.value?"putExpand":"putAway")},[z(L(T),{onClick:a[2]||(a[2]=e=>Yl(2)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Na])]),n("div",{class:d(Hl.value?"modePutExpand":"modePutAway")},[Ma,n("div",Ua,[n("div",null,[z(L(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Ue,"on-remove":Ve,"list-type":"image-card","directory-dnd":""})])]),n("div",Va,[n("div",Ra,[Oa,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[Ja])),default:j((()=>[Wa])),_:1}),qa,n("div",{style:{display:"flex","align-items":"center","justify-content":"space-between",width:"145px"},onClick:a[3]||(a[3]=e=>{ti.value=!ti.value})},[n("div",null,f(ei.value),1),z(L(T),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})]),ti.value?(i(),s("div",Ha,[(i(!0),s(g,null,p(ai.value,(e=>(i(),s("div",{class:d(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){ai.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,ei.value=e.name,ti.value=!1,o.emit("--iw",e.value)}(e)},[M(f(e.name)+" ",1),e.isSelect?(i(),_(L(T),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Ga)))),128))])):E("",!0)])])],2)])):E("",!0),Ae.value?(i(),s("div",Ka,[n("div",Qa,[n("div",$a,[n("div",{class:d(Gl.value?"putExpand":"putAway")},[z(L(T),{onClick:a[4]||(a[4]=e=>Yl(3)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Ya])]),n("div",{class:d(Gl.value?"modePutExpand":"modePutAway")},[Za,n("div",Xa,[n("div",null,[z(L(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Re,"on-remove":Oe,"list-type":"image-card","directory-dnd":""})])]),n("div",et,[n("div",at,[tt,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[lt])),default:j((()=>[it])),_:1}),n("div",st,[z(L(V),{vertical:""},{default:j((()=>[z(L(U),{value:zl.value,"onUpdate:value":a[5]||(a[5]=e=>zl.value=e),step:1,max:100,onDragend:jl},null,8,["value"])])),_:1})]),n("div",nt,f(zl.value),1)])])],2)])):E("",!0),Ae.value?(i(),s("div",dt,[n("div",ut,[n("div",vt,[n("div",{class:d(Kl.value?"putExpand":"putAway")},[z(L(T),{onClick:a[6]||(a[6]=e=>Yl(4)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),ot])]),n("div",{class:d(Kl.value?"modePutExpand":"modePutAway")},[rt,n("div",ct,[n("div",null,[z(L(P),{accept:".jpg,.jpeg,.png",action:"","default-upload":!1,"on-change":ze,"on-before-upload":Je,"on-remove":We,"list-type":"image-card","directory-dnd":""})])]),n("div",mt,[n("div",gt,[pt,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[xt])),default:j((()=>[ft])),_:1}),n("div",yt,[z(L(V),{vertical:""},{default:j((()=>[z(L(U),{value:_l.value,"onUpdate:value":a[7]||(a[7]=e=>_l.value=e),step:1,max:100,onDragend:Dl},null,8,["value"])])),_:1})]),n("div",kt,f(_l.value),1)])])],2)])):E("",!0),n("div",ht,[z(Xe)]),n("div",bt,[n("div",wt,[n("div",{class:d(Ql.value?"putExpand":"putAway")},[z(L(T),{onClick:a[8]||(a[8]=e=>Yl(5)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),Ft]),n("div",{class:d(Ql.value?"modePutExpand":"modePutAway")},[u(n("textarea",{class:"notWantText bg-[#F4F4F4] dark:bg-[#010102] dark:text-[#7E7F82] text-[#878A8B]",name:"",id:"",cols:"30",rows:"3",maxlength:"200",placeholder:"请输入不想出现在图像中的内容（例如：树木， 0/200）",onInput:Xl,"onUpdate:modelValue":a[9]||(a[9]=e=>Zl.value=e)},null,544),[[v,Zl.value]])],2)]),n("div",At,[n("div",It,[n("div",{class:d($l.value?"putExpand":"putAway")},[z(L(T),{onClick:a[10]||(a[10]=e=>Yl(6)),icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})],2),St]),n("div",{class:d($l.value?"modePutExpand":"modePutAway")},[n("div",Ct,[Bt,Et,u(n("input",{class:"dark:text-[#2960BE] text-[#3378ED]","onUpdate:modelValue":a[11]||(a[11]=e=>Tl.value=e),onInput:di,type:"number"},null,544),[[v,Tl.value]])]),n("div",Lt,[zt,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[_t])),default:j((()=>[jt])),_:1}),n("div",Dt,[z(L(V),{vertical:""},{default:j((()=>[z(L(U),{value:Pl.value,"onUpdate:value":a[12]||(a[12]=e=>Pl.value=e),step:1,max:100,onDragend:Vl},null,8,["value"])])),_:1})]),n("div",Tt,f(Pl.value),1)]),n("div",Pt,[Nt,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[Mt])),default:j((()=>[Ut])),_:1}),n("div",Vt,[z(L(V),{vertical:""},{default:j((()=>[z(L(U),{value:Nl.value,"onUpdate:value":a[13]||(a[13]=e=>Nl.value=e),step:1,max:100,onDragend:Rl},null,8,["value"])])),_:1})]),n("div",Rt,f(Nl.value),1)]),n("div",Ot,[Jt,Wt,n("div",qt,[n("div",{style:{display:"flex","justify-content":"space-between",width:"100%"},onClick:ii},[n("div",null,f(ni.value),1),n("div",null,[z(L(T),{icon:"material-symbols-light:expand-more-rounded",class:"text-2xl"})])]),li.value?(i(),s("div",Ht,[(i(!0),s(g,null,p(si.value,(e=>(i(),s("div",{class:d(e.isSelect?"similarSelect":"unSimilarSelect"),key:e.id,onClick:a=>function(e){si.value.forEach((e=>{e.isSelect=!1})),e.isSelect=!0,ni.value=e.name,li.value=!1,o.emit("--q",e.value)}(e)},[M(f(e.name)+" ",1),e.isSelect?(i(),_(L(T),{key:0,icon:"dashicons:yes",class:"text-2xl"})):E("",!0)],10,Gt)))),128))])):E("",!0)])]),n("div",Kt,[Qt,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[$t])),default:j((()=>[Yt])),_:1}),n("div",Zt,[z(L(V),{vertical:""},{default:j((()=>[z(L(U),{value:Ml.value,"onUpdate:value":a[14]||(a[14]=e=>Ml.value=e),step:1,max:100,onDragend:Ol},null,8,["value"])])),_:1})]),n("div",Xt,f(Ml.value),1)]),n("div",el,[al,z(L(N),{trigger:"hover",placement:"top"},{trigger:j((()=>[tl])),default:j((()=>[ll])),_:1}),n("div",il,[z(L(V),{vertical:""},{default:j((()=>[z(L(U),{value:Ul.value,"onUpdate:value":a[15]||(a[15]=e=>Ul.value=e),step:1,max:100,min:10,onDragend:Jl},null,8,["value"])])),_:1})]),n("div",sl,f(Ul.value),1)])],2)])]),n("div",nl,[n("div",dl,[n("img",{class:"avatar",src:le.value?le.value:"./img/avatar.png",alt:"",onClick:a[16]||(a[16]=e=>Qe.value=!0)},null,8,ul)]),n("div",null,[n("div",vl,f(ie.value),1),n("div",ol," 绘画积分:"+f(null==(t=se.value)?void 0:t.drawMjCount),1)])])]),n("div",rl,[cl,n("div",{style:{"overflow-y":"auto",position:"relative",flex:"1"},ref_key:"toTop",ref:pe},[0!=ve.value.length||de.value?E("",!0):(i(),s("div",ml,[0==oe.value&&te.value?(i(),s("div",gl,[z(aa)])):E("",!0),0==oe.value&&te.value?E("",!0):(i(),_(Y,{key:1}))])),0!=ve.value.length||de.value?(i(),s("div",pl,[n("div",xl,[z(W,{drawLogList:ve.value,onNewJobId:fe},null,8,["drawLogList"])]),de.value?(i(),_(q,{key:0,task:ce.value,onRefresh:ye},null,8,["task"])):E("",!0),ge.value?(i(),_(H,{key:1,task:ce.value,onNewJob:fe},null,8,["task"])):E("",!0)])):E("",!0)],512),n("div",fl,[ri.value?(i(),s("div",yl,[n("div",kl,[hl,z(L(T),{onClick:a[17]||(a[17]=e=>ri.value=!1),style:{cursor:"pointer"},icon:"mdi:close-circle",class:"text-2xl"})]),n("div",bl,[(i(!0),s(g,null,p(re.value,(e=>(i(),s("div",{class:"tipItem",key:e.id,onClick:a=>function(e){ri.value=!1,o.emit("suggestEn",e.suggestEn)}(e)},[n("div",Fl,[n("img",{style:{width:"40px",height:"40px","border-radius":"50%"},src:e.image,alt:""},null,8,Al)]),n("div",null,[n("p",Il,f(e.suggestCn),1),n("p",Sl,f(e.suggestEn),1)])],8,wl)))),128))])])):E("",!0),z(Q,{sendType:0,onIsSettingShow:Ce,onGetjobId:ye,onResquestStatus:Ll})])])])])]))],64)}}}),[["__scopeId","data-v-549314f0"]]);export{Cl as default};
