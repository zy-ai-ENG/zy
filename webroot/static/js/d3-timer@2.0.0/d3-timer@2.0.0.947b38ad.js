var t,n,e=0,o=0,i=0,r=1e3,a=0,l=0,c=0,u="object"==typeof performance&&performance.now?performance:Date,s="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return l||(s(_),l=u.now()+c)}function _(){l=0}function w(){this._call=this._time=this._next=null}function m(t,n,e){var o=new w;return o.restart(t,n,e),o}function h(){l=(a=u.now())+c,e=o=0;try{!function(){f(),++e;for(var n,o=t;o;)(n=l-o._time)>=0&&o._call.call(null,n),o=o._next;--e}()}finally{e=0,function(){var e,o,i=t,r=1/0;for(;i;)i._call?(r>i._time&&(r=i._time),e=i,i=i._next):(o=i._next,i._next=null,i=e?e._next=o:t=o);n=e,x(r)}(),l=0}}function p(){var t=u.now(),n=t-a;n>r&&(c-=n,a=t)}function x(t){e||(o&&(o=clearTimeout(o)),t-l>24?(t<1/0&&(o=setTimeout(h,t-u.now()-c)),i&&(i=clearInterval(i))):(i||(a=u.now(),i=setInterval(p,r)),e=1,s(h)))}function v(t,n,e){var o=new w;return n=null==n?0:+n,o.restart((e=>{o.stop(),t(e+n)}),n,e),o}w.prototype=m.prototype={constructor:w,restart:function(e,o,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?f():+i)+(null==o?0:+o),this._next||n===this||(n?n._next=this:t=this,n=this),this._call=e,this._time=i,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}};export{v as a,f as n,m as t};
