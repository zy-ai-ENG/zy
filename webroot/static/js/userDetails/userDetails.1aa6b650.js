import{a as e,E as t,_ as a,J as l,K as s,H as i,r as n,M as r,w as o,z as c,h as d,P as u,L as p,G as v,d as m,c as g,m as f,Q as x,R as b,T as A,U as y,V as k,W as h,X as w,Y as E,S as I,Z as C,$ as T,a0 as F,t as U,a1 as S,a2 as M,a3 as j,a4 as V,N as O,F as R}from"../main-bb4220d0.js";import{c as B}from"../index/index.a4f65e28.js";import{a as D}from"../axios@1.4.0/axios@1.4.0.5ae1da96.js";import{d as L}from"../draw-fail/draw-fail.50b43169.js";import{u as G}from"../index/index.8caa2cec.js";import{d as X,a as N,Q as J,F as z,o as P,b as _,M as q,N as K,c as Y,R as Q,t as W,S as Z,U as H,n as $,e as ee,p as te,G as ae}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{d as le,e as se,n as ie,w as ne,p as re,x as oe,E as ce,P as de,I as ue,Q as pe,r as ve,a0 as me,X as ge,V as fe,W as xe,C as be}from"../naive-ui@2.34.3_vue@3.2.47/naive-ui@2.34.3_vue@3.2.47.d79924d9.js";import{r as Ae,x as ye,j as ke,i as he}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{J as we,n as Ee,o as Ie}from"../@vue_shared@3.2.47/@vue_shared@3.2.47.9d8e617e.js";import{a as Ce,u as Te}from"../vue-router@4.1.6_vue@3.2.47/vue-router@4.1.6_vue@3.2.47.018c715a.js";import{d as Fe}from"../@vue_runtime-dom@3.2.47/@vue_runtime-dom@3.2.47.298398d5.js";const Ue="/static/png/logo-48b8594b.png",Se="data:image/png;base64,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",Me=e=>(Z("data-v-6d7aac96"),e=e(),H(),e),je=Me((()=>_("div",{class:"drawAvatar"},[_("img",{class:"drawAvatarImg",src:Se,alt:""})],-1))),Ve={class:"drawContent"},Oe={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Re={class:"drawContentTitle"},Be=Me((()=>_("p",{class:"Title1"},"Midjourney Bot",-1))),De=Me((()=>_("p",{class:"Title2"},"AI机器人",-1))),Le={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Ge={class:"flex",style:{"align-items":"center"}},Xe=Me((()=>_("div",null," 发布到广场 ",-1))),Ne=Me((()=>_("div",null," 复制最终执行提示词 ",-1))),Je=Me((()=>_("div",null," 下载图片 ",-1))),ze=Me((()=>_("div",null," 收藏此任务 ",-1))),Pe=Me((()=>_("div",null," 删除任务 ",-1))),_e={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},qe={class:"Title4"},Ke={class:"drawContentTitle2"},Ye={class:"Title5"},Qe={class:"drawImgBox"},We={key:0,style:{display:"flex","align-items":"center"}},Ze=Me((()=>_("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),He={style:{color:"red","margin-top":"10px"}},$e={class:"flex justify-start btnBox",style:{width:"370px"}},et=["onClick"],tt={key:0,class:"buttonText"},at={key:1,class:"buttonText"},lt={class:"buttonText"},st=X({__name:"drawLogList",props:{drawLogList:{type:Array}},emits:["fresh1","newJobId"],setup(d,{emit:u}){const p=d,v=le();G();const{updateSendSquire:m,updateDrawId:g,updatePreview:f}=e(),x=e(),b=se(),A=Ae(p.drawLogList);const y=async(e,t)=>{if(console.log(e,t),!x.isLogin)return b.warning("请先登录"),void x.setLoginDialog(!0);const a=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return r.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return r.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return r.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return r.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return r.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?r.UPSCALE_4X:e.label.includes("Upscale (2x)")?r.UPSCALE_2X:e.label.includes("Vary (Subtle)")?r.VARY_SUBTLE:e.label.includes("Vary (Strong)")?r.VARY_STRONG:e.label.includes("Vary (Region)")?r.VARY_REGION:e.label.includes("Make Square")?r.SQUARE:e.label.includes("Zoom Out 2x")?r.ZOOM2X:e.label.includes("Zoom Out 1.5x")?r.ZOOM1_5X:e.label.includes("Custom Zoom")?r.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?r.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?r.REDO_UPSCALE_CREATIVE:r.NONE})(e);await async function(e){const t=await o({type:c.IMAGE_ACTION,params:e}).then((e=>e.data));g({id:t}),u("newJobId",t),t&&b.success("提交任务成功！")}({action:a,taskId:A.value[t].id,customId:e.customId,messageFlags:A.value[t].messageFlags||0}),u("fresh1")};t.on("newDrawLogList",(e=>{A.value=e}));return(e,r)=>(P(!0),N(z,null,J(A.value,((e,r)=>(P(),N("div",{class:"drawListBox dark:bg-[#1F1F38] bg-[#fff]",key:r},[je,_("div",Ve,[_("div",Oe,[_("div",Re,[Be,De,_("p",Le,we(e.createdAt),1),_("div",Ge,[3===e.status?(P(),q(ye(ie),{key:0,placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"bi:send",onClick:t=>(async e=>{m(!0,e.id)})(e),class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:K((()=>[Xe])),_:2},1024)):Q("",!0),Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"ph:copy-light",onClick:t=>(e=>{const{fullPrompt:t}=e;B({text:t}),b.success("复制prompt完成！")})(e),class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:K((()=>[Ne])),_:2},1024),3===e.status?(P(),q(ye(ie),{key:1,placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"icons8:down-round",onClick:t=>async function({imageUrl:e}){e?v.info({title:"下载图片",content:"是否确认下载当前图片",positiveText:"下载",negativeText:"取消",onPositiveClick:async()=>{const t=e.split("/"),a=await D.post("/api/midjourney/download",{url:e},{responseType:"blob"}),l=new Blob([a.data],{type:a.headers["content-type"]}),s=window.URL.createObjectURL(l),i=document.createElement("a");i.href=s,i.download=t[t.length-1],i.click()}}):b.warning("图片未生成完成暂不能下载")}(e),class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:K((()=>[Je])),_:2},1024)):Q("",!0),Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{onClick:t=>(e=>{const{id:t,favorite:a}=e;i({id:t,favorite:1===a?0:1}).then((t=>{200==t.code&&(b.success((0===a?"收藏":"取消收藏")+" 成功"),0===e.favorite?e.favorite=1:e.favorite=0)}))})(e),icon:0===e.favorite?"uit:favorite":"uis:favorite",class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick","icon"])])),default:K((()=>[ze])),_:2},1024)])]),_("div",null,[Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{onClick:t=>(e=>{v.create({type:"info",title:"确认删除",content:(1===e.favorite?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{l({id:e.id}).then((t=>{if(200==t.code){b.success("删除成功");for(let t=0;t<A.value.length;t++)A.value[t].id==e.id&&(A.value.splice(t,1),s({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})))}}))},onNegativeClick:()=>{}})})(e),icon:"ep:delete",class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:K((()=>[Pe])),_:2},1024)])]),_("div",_e,[_("p",qe,we(e.originPrompt),1)]),_("div",Ke,[_("p",Ye,we(e.prompt.split("--")[0]),1)]),_("div",Qe,[Y(ye(ne),{style:{width:"390px"},"preview-src":e.imageUrl,"object-fit":"contain",src:e.imageUrl?e.imageUrl:ye(L)},null,8,["preview-src","src"])]),4==e.status?(P(),N("div",We,[Ze,_("p",He,we(e.failReason),1)])):Q("",!0),6===e.status?(P(),q(ye(re),{key:1,type:"primary",style:{"margin-left":"12px"},onClick:a=>{return l=e,n.push("/midjourney/paint-task"),void t.emit("openRemixModal",l);var l}},{default:K((()=>[W(" 补充描述词 ")])),_:2},1032,["onClick"])):Q("",!0),_("div",$e,[(P(!0),N(z,null,J(e.buttons,(e=>(P(),q(ye(ie),{trigger:"hover"},{trigger:K((()=>[_("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>y(e,r)},[e.label?(P(),N("p",tt,we(e.label),1)):(P(),N("p",at,we(e.emoji),1))],8,et)])),default:K((()=>[_("p",lt,we(e.label||e.emoji),1)])),_:2},1024)))),256))])])])))),128))}}),it=d(st,[["__scopeId","data-v-6d7aac96"]]),nt={class:"start-mj w-full rounded-3xl p-6 py-8 dark:bg-[#313155] bg-[#F7F7F7] h-full",style:{width:"100%"}},rt={class:"flex justify-between"},ot=_("div",null,[_("h1",{class:"text-[34px]"},"您好,请创作您的第一个作品吧！"),_("p",{class:"text-[14px] text-[#aaa]"},"我是您的专属AI伙伴，您可以尝试使用快捷提示，体验一下！")],-1),ct={class:"body mt-4 h-full"},dt={class:"flex justify-between h-full min-h-[400px]"},ut={class:"bg-[#F7F7F7] relative dark:bg-[#1F1F38] w-[14rem] rounded-3xl overflow-hidden"},pt={class:"bg-[#F7F7F7] relative dark:bg-[#1F1F38] w-[14rem] h-[400px] rounded-3xl overflow-hidden mr-2 ml-2"},vt={class:"absolute left-2 bottom-28 z-30"},mt={class:"leading-0 text-white line-clamp-2"},gt=["src"],ft=["onClick"],xt=_("p",{class:"select-none ml-2"},"一键制作",-1),bt=X({__name:"suggestion",setup(l){const s=se(),{updatePromptWords:i}=e(),n=ke({size:5,page:1}),r=Ae([]);async function o(){const e=await u(n).then((e=>e.data||[]));if(!e.length)return n.page=1,void s.warning("备选图片不足，请前往后台添加");r.value=e}async function c(){n.page+=1,await o()}return o(),(e,l)=>(P(),N("div",nt,[_("div",rt,[ot,Y(ye(re),{round:"","icon-placement":"left",onClick:c},{icon:K((()=>[Y(ye(a),{class:"text-lg",icon:"mynaui:refresh"})])),default:K((()=>[W(" 换一换 ")])),_:1})]),_("div",ct,[_("ul",dt,[r.value.length?Q("",!0):(P(),N(z,{key:0},J(5,(e=>_("li",null,[_("div",ut,[Y(ye(ce),{vertical:""},{default:K((()=>[Y(ye(oe),{height:"400px",width:"100%",sharp:!1})])),_:1})])]))),64)),(P(!0),N(z,null,J(r.value,(e=>(P(),N("li",pt,[_("div",vt,[_("p",mt,we(e.title),1)]),_("img",{loading:"lazy",src:e.imageUrl,class:"cursor-pointer bg-gray-500 duration-300 transition-all hover:scale-110",alt:""},null,8,gt),_("div",{class:"absolute cursor-pointer text-white dark:text-[#fff] dark:bg-[rgba(0,0,0,.6)] px-2 py-1 bg-[rgba(0,0,0,.6)] right-4 bottom-6 z-10 rounded-full flex justify-start items-center",onClick:a=>(e=>{const{isCarryParams:a,aspect:l,prompt:s,status:n}=e,r=a&&n?`${s}  --ar ${l}`:`${s}`;i({prompt:r}),t.emit("prompts",r)})(e)},[Y(ye(a),{icon:"icon-park-outline:send"}),xt],8,ft)])))),256))])])]))}}),At=e=>(Z("data-v-5dff4b3c"),e=e(),H(),e),yt={class:"drawListBox dark:bg-[#1F1F38] bg-[#fff]"},kt={class:"topBox"},ht=At((()=>_("div",{class:"drawAvatar"},[_("img",{class:"drawAvatarImg",src:Se,alt:""})],-1))),wt={style:{width:"100%"}},Et={style:{width:"100%","padding-bottom":"10px"},class:"border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},It={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ct={style:{display:"flex"}},Tt={class:"drawContentTitle"},Ft=At((()=>_("p",{class:"Title1"},"Midjourney Bot",-1))),Ut=At((()=>_("p",{class:"Title2",style:{"margin-right":"26px"}},"AI机器人",-1))),St={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Mt={class:"flex",style:{"align-items":"center"}},jt=At((()=>_("div",null," 发布到广场 ",-1))),Vt=At((()=>_("div",null," 复制最终执行提示词 ",-1))),Ot=At((()=>_("div",null," 下载图片 ",-1))),Rt=At((()=>_("div",null," 收藏此任务 ",-1))),Bt=At((()=>_("div",null," 删除任务 ",-1))),Dt={style:{"margin-top":"10px"}},Lt={key:0,class:""},Gt=["src"],Xt={style:{display:"flex","align-items":"center","margin-top":"10px"}},Nt=At((()=>_("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),Jt={style:{color:"red","margin-top":"10px"}},zt={key:1,class:""},Pt=["src"],_t={key:2,class:""},qt=["src"],Kt={key:4,class:"flex items-center justify-center flex-col",style:{"margin-top":"20px"}},Yt={class:"flex justify-start btnBox",style:{width:"370px"}},Qt=["onClick"],Wt={key:0,class:"buttonText"},Zt={key:1,class:"buttonText"},Ht={class:"buttonText"},$t=X({__name:"taskItem",props:{task:{type:Object,default:()=>({prompt:"",image:"",time:"",updatedAt:""})},chat:{type:String,default:"task"}},emits:["fresh"],setup(t,{emit:s}){const n=t,{updateSendSquire:d,updateDrawId:u,updatePreview:m}=e(),g=le(),f=se();G();const x=e();$((()=>e=>{const{progress:t,status:a}=e;return 1===a?"正在排队中...":3===a?"成功":2===a&&100!==t?"正在绘制中...":2===a&&100===t?"正在存储图片中...":4===a?"绘图失败":5===a?"绘图取消":6===a?"窗口等待":"绘图失败"})),$((()=>e=>1===e?"排队中":2===e?"绘制中":3===e?"成功":4===e?"失败":5===e?"超时":"-")),$((()=>e=>{if(!e)return"";return parseInt(e/60+"")+"分"+parseInt(String(e%60))+"秒"})),$((()=>e=>v[e])),$((()=>{var e;const t=(null==(e=n.task)?void 0:e.buttons)||[],a=[],l=[],s=[],i=[],r=[];return t.forEach((e=>{["U1","U2","U3","U4"].includes(e.label)?a.push(e):["V1","V2","V3","V4"].includes(e.label)?l.push(e):e.label.startsWith("Upscale")||e.label.startsWith("Vary")?s.push(e):e.label?i.push(e):r.push(e)})),[a,l,s,i,r].filter((e=>e.length))}));const b=async(e,t)=>{if(!x.isLogin)return f.warning("请先登录"),void x.setLoginDialog(!0);const a=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return r.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return r.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return r.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return r.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return r.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?r.UPSCALE_4X:e.label.includes("Upscale (2x)")?r.UPSCALE_2X:e.label.includes("Vary (Subtle)")?r.VARY_SUBTLE:e.label.includes("Vary (Strong)")?r.VARY_STRONG:e.label.includes("Vary (Region)")?r.VARY_REGION:e.label.includes("Make Square")?r.SQUARE:e.label.includes("Zoom Out 2x")?r.ZOOM2X:e.label.includes("Zoom Out 1.5x")?r.ZOOM1_5X:e.label.includes("Custom Zoom")?r.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?r.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?r.REDO_UPSCALE_CREATIVE:r.NONE})(t);await async function(e){const t=await o({type:c.IMAGE_ACTION,params:e}).then((e=>e.data));u({id:t}),t&&f.success("提交任务成功！")}({action:a,taskId:e.id,customId:t.customId,messageFlags:e.messageFlags||0}),s("fresh")};return(e,r)=>(P(),N("div",yt,[_("div",kt,[ht,_("div",wt,[_("div",Et,[_("div",It,[_("div",Ct,[_("div",Tt,[Ft,Ut,_("p",St,we(n.task.createdAt),1)]),_("div",Mt,[3===t.task.status?(P(),q(ye(ie),{key:0,placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"bi:send",onClick:r[0]||(r[0]=e=>(async e=>{d(!0,e.id)})(t.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[jt])),_:1})):Q("",!0),Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"ph:copy-light",onClick:r[1]||(r[1]=e=>(e=>{const{fullPrompt:t}=e;B({text:t}),f.success("复制prompt完成！")})(t.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[Vt])),_:1}),3===t.task.status?(P(),q(ye(ie),{key:1,placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"icons8:down-round",onClick:r[2]||(r[2]=e=>async function({imageUrl:e}){e?g.info({title:"下载图片",content:"是否确认下载当前图片",positiveText:"下载",negativeText:"取消",onPositiveClick:async()=>{const t=e.split("/"),a=await D.post("/api/midjourney/download",{url:e},{responseType:"blob"}),l=new Blob([a.data],{type:a.headers["content-type"]}),s=window.URL.createObjectURL(l),i=document.createElement("a");i.href=s,i.download=t[t.length-1],i.click()}}):f.warning("图片未生成完成暂不能下载")}(t.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[Ot])),_:1})):Q("",!0),Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{onClick:r[3]||(r[3]=e=>(async e=>{const{id:t,favorite:a}=e;await i({id:t,favorite:1===a?0:1}).then((e=>e.data))&&f.success((0===a?"收藏":"取消收藏")+" 成功"),s("fresh")})(t.task)),icon:0===t.task.favorite?"uit:favorite":"uis:favorite",class:"text-[14px] mx-1 cursor-pointer"},null,8,["icon"])])),default:K((()=>[Rt])),_:1})])]),_("div",null,[Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{onClick:r[4]||(r[4]=e=>(e=>{const{favorite:t}=e;g.create({type:"info",title:"确认删除",content:(1===t?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{await l({id:e.id}).then((e=>e.data))&&f.success("删除成功"),s("fresh")},onNegativeClick:()=>{}})})(t.task)),icon:"ep:delete",class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[Bt])),_:1})])]),_("p",null,we(t.task.originPrompt),1)]),_("p",Dt,we(t.task.prompt?t.task.prompt.split("--")[0]:""),1),_("div",{class:Ee(["relative z-0 w-auto flex align-center overflow-hidden contain",["chat-history"===t.chat?"h-[390px]":"h-[390px] "]])},[4===t.task.status?(P(),N("div",Lt,[_("img",{class:"w-auto object-contain",src:ye(L),alt:"",style:{"margin-top":"10px"}},null,8,Gt),_("div",Xt,[Nt,_("p",Jt,we(t.task.failReason),1)])])):5===t.task.status?(P(),N("div",zt,[_("img",{class:"w-auto object-contain",src:ye(L),alt:""},null,8,Pt)])):6===t.task.status?(P(),N("div",_t,[_("img",{class:"w-auto object-contain",src:ye(L),alt:""},null,8,qt)])):t.task.imageUrl||t.task.progress?(P(),N("div",Kt,[Y(ye(ne),{style:{width:"390px"},class:"w-full cursor-pointer bg-[#f9f9f9] dark:bg-[transparent] h-full flex justify-center","preview-src":t.task.imageUrl,"object-fit":"contain",src:t.task.imageUrl||""},null,8,["preview-src","src"])])):(P(),q(p,{key:3,progress:t.task.progress},null,8,["progress"]))],2)])]),_("div",Yt,[(P(!0),N(z,null,J(n.task.buttons,(e=>(P(),q(ye(ie),{trigger:"hover"},{trigger:K((()=>[_("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>b(e,n.task)},[e.label?(P(),N("p",Wt,we(e.label),1)):(P(),N("p",Zt,we(e.emoji),1))],8,Qt)])),default:K((()=>[_("p",Ht,we(e.label||e.emoji),1)])),_:2},1024)))),256))])]))}}),ea=d($t,[["__scopeId","data-v-5dff4b3c"]]),ta={class:"flex flex-col",style:{width:"100%"}},aa={class:"h-auto flex-1"},la=X({__name:"chatHistory",props:{task:{type:Object,required:!0}},emits:["refresh"],setup(t,{emit:a}){const l=t,s=$((()=>l.task)),i=e();$((()=>i.userInfo.avatar));const n=()=>{a("refresh")};return(e,t)=>(P(),N("div",ta,[_("div",aa,[Y(ea,{task:ye(s),chat:"chat-history",onFresh:n},null,8,["task"])])]))}}),sa=e=>(Z("data-v-2c790e88"),e=e(),H(),e),ia={key:0},na={class:"text-sm flex items-center"},ra=sa((()=>_("div",{class:"text-[18px] mr-1"},[_("h1",null,"模型设置")],-1))),oa={"data-tool-target":"tooltip-default"},ca=sa((()=>_("div",{style:{width:"240px"}},[_("p",null,"MJ: 偏真实通用模型"),_("p",null,"NIJI: 偏动漫风格、适用于二次元模型")],-1))),da={class:"flex items-center mt-2"},ua=sa((()=>_("p",{class:"w-1/2"},"绘画模型",-1))),pa={class:"flex items-center mt-2"},va=sa((()=>_("p",{class:"w-1/2"},"--q 质量",-1))),ma={key:0,class:"flex items-center mt-2"},ga=sa((()=>_("p",{class:"w-1/2"},"--style风格",-1))),fa={key:1,class:"flex items-center mt-2"},xa={class:"w-1/2 flex items-center"},ba=sa((()=>_("p",null,"--s 风格化",-1))),Aa=sa((()=>_("p",null,"数值越高，画面表现也会更具丰富性和艺术性",-1))),ya={class:"flex items-center mt-2"},ka={class:"w-1/2 flex items-center"},ha=sa((()=>_("p",null,"--c 多样性",-1))),wa=sa((()=>_("p",null,"值越小生成的四张图风格越相似，反之差异越大",-1))),Ea=sa((()=>_("div",{class:"text-sm flex items-center"},[_("div",{class:"mr-1"},[_("h1",{class:"text-[18px]"},"垫图图片（0-3张）"),_("p",{class:"text-[14px] mt-2 text-[#999]"},"如需垫图请至少上传一张图片")])],-1))),Ia={class:"flex items-center mt-2"},Ca={class:"flex items-center mt-2"},Ta=sa((()=>_("p",{class:"w-1/3"},"图片相似度",-1))),Fa={class:"w-2/3"},Ua=sa((()=>_("div",{class:"text-sm flex items-center"},[_("div",{class:"mr-1"},[_("h1",{class:"text-[18px]"},"不想出现的词")])],-1))),Sa={class:"flex items-center mt-2"},Ma=sa((()=>_("div",{class:"text-sm flex items-center"},[_("div",{class:"mr-1"},[_("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),ja={class:"flex-col mt-2"},Va={class:"flex justify-between"},Oa=["onClick"],Ra={class:"flex items-center justify-center w-6 h-6"},Ba={class:"mt-2 text-center text-xs leading-none text-current"},Da={class:"text-[12px] scale-90"},La={key:0,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Ga={class:"flex justify-between"},Xa={class:"text-base py-1"},Na={class:"text-[#3076fd]"},Ja={class:"flex items-center"},za=ee('<div class="mt-3 space-y-1 items-center text-[#3076fd]" data-v-2c790e88><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>绘画单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>图生图单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>放大单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 1积分 </span></div></div>',1),Pa={key:0},_a=sa((()=>_("h1",{class:"text-[18px] my-2"},"图片解读",-1))),qa=sa((()=>_("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),Ka=sa((()=>_("div",{class:"text-sm flex items-center"},[_("div",{class:"mr-1"},[_("h1",{class:"text-[18px]"},"上传图片（只能1张）")])],-1))),Ya={class:"flex items-center mt-2"},Qa=["src"],Wa={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Za=[ee('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2)],Ha={key:1},$a=sa((()=>_("h1",{class:"text-[20px] my-2"},"图混图",-1))),el=sa((()=>_("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),tl=sa((()=>_("div",{class:"text-sm flex items-center"},[_("div",{class:"mr-1"},[_("h1",{class:"text-[18px]"},"上传图片（2-5张）")])],-1))),al={class:"flex items-center mt-2"},ll={class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},sl=sa((()=>_("div",{class:"text-sm flex items-center"},[_("div",{class:"mr-1"},[_("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),il={class:"flex-col mt-2"},nl={class:"flex justify-between"},rl=["onClick"],ol={class:"flex items-center justify-center w-6 h-6"},cl={class:"mt-2 text-center text-xs leading-none text-current"},dl={class:"text-[12px] scale-90"},ul={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1 select-none"},pl=[ee('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2)],vl={key:2,class:"flex flex-col"},ml={class:"flex justify-between mb-2"},gl=["onClick"],fl={class:"ml-1 select-none"},xl=["disabled"],bl={class:"inline"},Al={key:2,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},yl=sa((()=>_("div",{class:"text-sm flex items-center"},[_("div",{class:"mr-1"},[_("h1",{class:"text-[16px]"},"生成模式")])],-1))),kl={class:"mb-2"},hl=["onClick"],wl={class:"flex flex-row justify-between"},El={key:3,class:"flex flex-col mt-4"},Il=["disabled"],Cl={class:"select-none text-white"},Tl={class:"inline"},Fl=d(X({__name:"configure",emits:["fresh"],setup(t,{emit:l}){const{updateDrawId:s}=e(),i=se(),n=e(),d=$((()=>n.userBalance.sumDrawMjCount)),u=$((()=>n.mjDrawForm)),{isMobile:p}=m(),v=Ce(),U=g(),S=$((()=>v.path)),M=Ae(""),j=ke({files:[],previewImages:[]}),V=Ae(!1),O=$((()=>S.value.includes("text-to-image")?c.TEXT_TO_IMAGE:S.value.includes("image-to-text")?c.IMAGE_TO_TEXT:S.value.includes("image-mix-image")?c.IMAGE_MIX_IMAGE:c.NONE)),R=$((()=>O.value===c.IMAGE_MIX_IMAGE?j.files.length<=1:O.value===c.IMAGE_TO_TEXT&&j.files.length<=0)),{selectFile:B}=f(),D=async()=>{const e=await B();M.value=URL.createObjectURL(e),j.files=[e]},L=$((()=>u.value.baseImage.map((e=>{const t=e.slice(e.lastIndexOf("/")+1,e.length);return{url:e,id:t.split(".")[0],name:t,status:"finished"}})))),G=Ae(!1),X=$((()=>e=>u.value.size===e));async function Z(){G.value=!0;try{await n.getUserInfo(),G.value=!1}catch(e){G.value=!1}}const H=["jpg","jpeg","png"],ee=e=>{if("finished"===e.file.status||"removed"===e.file.status)return;const t=e.file.type.split("/")[1];if("pending"===e.file.status&&H.includes(t)){const t=new FileReader;t.readAsDataURL(e.file.file),t.onload=function(){u.value.baseImage.push(t.result),ge()}}},te=e=>{"pending"===e.file.status&&j.files.push(e.file.file),"removed"===e.file.status&&(j.files=j.files.filter((t=>t!==e.file.file)))},ae=e=>{const t=e.file.type.split("/")[1];return e.fileList.length>4?(i.warning("最多只能上传5张图片"),!1):H.includes(t)&&e.fileList.length<=5},le=e=>{const t=e.file.type.split("/")[1];return e.fileList.length>2?(i.warning("最多只能上传3张图片"),!1):H.includes(t)&&e.fileList.length<=2},ne=e=>{if("finished"===e.file.status)return u.value.baseImage=u.value.baseImage.filter((t=>-1===t.search(e.file.url))),void ge();const t=e.file.id+"."+e.file.type.split("/")[1];u.value.baseImage=u.value.baseImage.filter((e=>-1===e.search(t))),ge()},oe=e=>{const t=e.file.name;u.value.extendParam=u.value.extendParam.filter((e=>!e.filename.includes(t))),ge()},ce=e=>{u.value.size=e.value,ge()},ge=async()=>{n.updateMjDrawForm(u.value)},fe=e=>{u.value.mode=e.value,ge()},xe=async()=>{if(!n.isLogin)return i.warning("请先登录"),void n.setLoginDialog(!0);if(!u.value.prompt)return;const e=u.value.baseImage.length?u.value.baseImage.join(" "):void 0;let t=u.value.prompt,a="";/--\w+\s\S+/g.test(t)&&(a=t.slice(t.indexOf("--"),t.length));let d=a||(()=>{let e="";u.value.sensitiveWords&&(e+=` --no ${u.value.sensitiveWords}`);const t=u.value.model.split("-");return t[0].includes("MJ")&&(e+=` --v ${t[1]}`,e+=` --s ${u.value.stylize}`),t[0].includes("NIJI")&&(e+=` --niji ${t[1]}`,u.value.style&&"5"===t[1]&&(e+=` --style ${u.value.style}`)),e+=` --ar ${u.value.size}`,e+=` --c ${u.value.diversity}`,e+=` --q ${u.value.quality}`,e+=` --${F[u.value.mode]}`,u.value.baseImage.length>0&&(e+=` --iw ${u.value.similarity}`),e})();const p=await o({type:c.TEXT_TO_IMAGE,params:{action:r.TEXT_TO_IMAGE,extend:d,prompt:t,imageUrl:e,mode:u.value.mode,translate:u.value.translate}}).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&U.updateVipDialog(!0)}));p&&i.success("创建文生图任务成功"),u.value.prompt="",s({id:p}),l("fresh")},be=async()=>{if(!n.isLogin)return i.warning("请先登录"),void n.setLoginDialog(!0);if(O.value!==c.NONE){if(O.value===c.TEXT_TO_IMAGE)await xe();else{const e=new FormData;O.value===c.IMAGE_TO_TEXT&&(e.append("type",O.value+""),e.append("action",c.IMAGE_TO_TEXT+""),e.append("mode",u.value.mode+""),e.append("files",j.files[0])),O.value===c.IMAGE_MIX_IMAGE&&(e.append("type",O.value+""),e.append("action",c.IMAGE_MIX_IMAGE+""),e.append("mode",u.value.mode+""),e.append("size",u.value.size+""),j.files.forEach(((t,a)=>{e.append("files",t)})));const t=await T(e).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&U.updateVipDialog(!0)}));t&&i.success(O.value===c.TEXT_TO_IMAGE?"创建文生图任务成功":O.value===c.IMAGE_TO_TEXT?"创建图生文任务成功":O.value===c.IMAGE_MIX_IMAGE?"创建图混图任务成功":"失败"),t&&s({id:t}),t&&l("fresh")}j.files=[]}else i.error("操作类型错误")};return(e,t)=>(P(),N("div",{class:Ee([[ye(p)?"p-2 h-auto":"overflow-y-auto w-full h-[90vh] p-4 "],"sm:pt-6 bg-[#fff] dark:bg-[#1F1F38] sm:w-[20rem] shrink-0"])},[ye(S).includes("text-to-image")?(P(),N("div",ia,[_("div",{class:Ee(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[ye(p)?"rounded":"rounded-xl"]])},[_("div",na,[ra,_("div",oa,[Y(ye(ie),{placement:"right-end",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"ri:error-warning-line",class:"text-base"})])),default:K((()=>[ca])),_:1})])]),_("div",da,[ua,Y(ye(de),{value:ye(u).model,"onUpdate:value":[t[0]||(t[0]=e=>ye(u).model=e),t[1]||(t[1]=e=>{return(t=ye(u).model).includes("NIJI")&&(u.value.style=""),t.includes("MJ")&&(u.value.style="raw"),void ge();var t})],size:"small",options:ye(x)},null,8,["value","options"])]),_("div",pa,[va,Y(ye(de),{value:ye(u).quality,"onUpdate:value":[t[2]||(t[2]=e=>ye(u).quality=e),ge],size:"small",options:ye(b)},null,8,["value","options"])]),ye(u).model.includes("5")?(P(),N("div",ma,[ga,ye(u).model.includes("NIJI-5")?(P(),q(ye(de),{key:0,value:ye(u).style,"onUpdate:value":[t[3]||(t[3]=e=>ye(u).style=e),ge],size:"small",options:ye(A)},null,8,["value","options"])):Q("",!0),ye(u).model.includes("MJ-5")?(P(),q(ye(de),{key:1,value:ye(u).style,"onUpdate:value":[t[4]||(t[4]=e=>ye(u).style=e),ge],size:"small",options:ye(y)},null,8,["value","options"])):Q("",!0)])):Q("",!0),ye(u).model.includes("MJ")?(P(),N("div",fa,[_("div",xa,[ba,Y(ye(ie),{placement:"right-end",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:K((()=>[Aa])),_:1})]),Y(ye(ue),{value:ye(u).stylize,"onUpdate:value":[t[5]||(t[5]=e=>ye(u).stylize=e),ge],max:1e3,min:0,step:1},null,8,["value"])])):Q("",!0),_("div",ya,[_("div",ka,[ha,Y(ye(ie),{placement:"right-end",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:K((()=>[wa])),_:1})]),Y(ye(ue),{value:ye(u).diversity,"onUpdate:value":[t[6]||(t[6]=e=>ye(u).diversity=e),ge],max:100,min:1,step:1},null,8,["value"])])],2),_("div",{class:Ee(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[ye(p)?"rounded":"rounded-xl"]])},[Ea,_("div",Ia,[Y(ye(pe),{accept:".jpg,.jpeg,.png",action:"","default-file-list":ye(L),"default-upload":!1,"on-change":ee,"on-before-upload":le,"on-remove":ne,"list-type":"image-card"},null,8,["default-file-list"])]),_("div",Ca,[Ta,_("div",Fa,[Y(ye(de),{value:ye(u).similarity,"onUpdate:value":[t[7]||(t[7]=e=>ye(u).similarity=e),ge],size:"small",options:ye(k)},null,8,["value","options"])])])],2),_("div",{class:Ee(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[ye(p)?"rounded":"rounded-xl"]])},[Ua,_("div",Sa,[Y(ye(ve),{value:ye(u).sensitiveWords,"onUpdate:value":t[8]||(t[8]=e=>ye(u).sensitiveWords=e),onChange:ge,placeholder:"多个词用逗号隔开 如 漂亮，帅哥"},null,8,["value"])])],2),_("div",{class:Ee(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[ye(p)?"rounded":"rounded-xl"]])},[Ma,_("div",ja,[(P(!0),N(z,null,J(ye(h),(e=>(P(),N("div",Va,[(P(!0),N(z,null,J(e,(e=>(P(),N("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:t=>ce(e)},[_("div",{class:Ee(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ye(X)(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[_("div",Ra,[_("div",{class:Ee(["border-gray-400 border-dashed border-2",[ye(X)(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:Ie({width:e.width,height:e.height})},null,6)]),_("div",Ba,[_("p",null,we(e.aspect),1),_("p",Da,we(e.label),1)])],2)],8,Oa)))),128))])))),256))])],2),ye(p)?Q("",!0):(P(),N("div",La,[_("div",Ga,[_("span",Xa,[W("钱包余额( "),_("b",Na,we(ye(d)||0),1),W(" 积分)")]),_("span",Ja,[Y(ye(re),{text:"",size:"tiny",type:"primary",loading:G.value,onClick:Z},{default:K((()=>[W("刷新")])),_:1},8,["loading"]),Y(ye(ie),{placement:"right-end",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"ri:error-warning-line",class:"text-base ml-2"})])),default:K((()=>[W(" 绘画账户信息 ")])),_:1})])]),za]))])):Q("",!0),ye(S).includes("image-to-text")||ye(S).includes("image-mix-image")?(P(),N("div",{key:1,class:Ee(["flex justify-between flex-col",[ye(p)?"":"h-full"]])},[ye(S).includes("image-to-text")?(P(),N("div",Pa,[ye(p)?Q("",!0):(P(),N(z,{key:0},[_a,qa],64)),_("div",{class:Ee(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[ye(p)?"rounded":"rounded-xl mt-4"]])},[Ka,_("div",Ya,[_("div",{class:"w-[96px] overflow-hidden object-contain h-[96px] flex justify-center items-center rounded hover:dark:border-gray-500 hover:border-gray-400 border-dashed border border-gray-300 cursor-pointer dark:border-gray-600",onClick:D},[M.value?(P(),N("img",{key:0,src:M.value,class:"object-contain w-full h-full",alt:""},null,8,Qa)):(P(),q(ye(a),{key:1,icon:"octicon:plus-16",class:"text-[20px]"}))])])],2),ye(p)?Q("",!0):(P(),N("div",Wa,Za))])):Q("",!0),ye(S).includes("image-mix-image")?(P(),N("div",Ha,[ye(p)?Q("",!0):(P(),N(z,{key:0},[$a,el],64)),_("div",{class:Ee(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[ye(p)?"rounded":"rounded-xl mt-4"]])},[tl,_("div",al,[Y(ye(pe),{accept:".jpg,.jpeg,.png",action:"",disabled:j.files.length>=5,"default-file-list":j.files,"default-upload":!1,"on-change":te,"on-before-upload":ae,"on-remove":oe,"list-type":"image-card"},null,8,["disabled","default-file-list"])])],2),_("div",ll,[sl,_("div",il,[(P(!0),N(z,null,J(ye(w),(e=>(P(),N("div",nl,[(P(!0),N(z,null,J(e,(e=>(P(),N("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:t=>ce(e)},[_("div",{class:Ee(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ye(X)(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[_("div",ol,[_("div",{class:Ee(["border-gray-400 border-dashed border-2",[ye(X)(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:Ie({width:e.width,height:e.height})},null,6)]),_("div",cl,[_("p",null,we(e.aspect),1),_("p",dl,we(e.label),1)])],2)],8,rl)))),128))])))),256))])]),ye(p)?Q("",!0):(P(),N("div",ul,pl))])):Q("",!0),ye(p)?Q("",!0):(P(),N("div",vl,[_("ul",ml,[(P(!0),N(z,null,J(ye(E),(e=>(P(),N("li",{class:"flex justify-start cursor-pointer",onClick:t=>fe(e)},[Y(ye(me),{size:"small",checked:ye(u).mode===e.value,value:e.value,onChange:t=>fe(e)},null,8,["checked","value","onChange"]),_("p",fl,we(e.label),1)],8,gl)))),256))]),_("button",{class:Ee(["w-full flex justify-center items-center h-10 rounded-full text-center",[ye(R)?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed ":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:ye(R),onClick:be},[V.value?(P(),q(ye(a),{key:0,icon:"eos-icons:bubble-loading",class:"mr-1"})):Q("",!0),V.value?Q("",!0):(P(),N("p",{key:1,class:Ee(["select-none",[ye(R)?" text-[#333] dark:text-[#ccc]":" text-[#fff] dark:text-[#fff]"]])},[W("提交任务("),_("span",bl,[Y(ye(I),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),W("4) ")],2))],10,xl)]))],2)):Q("",!0),ye(p)?(P(),N("div",Al,[yl,_("ul",kl,[(P(!0),N(z,null,J(ye(C),(e=>(P(),N("li",{class:Ee(["w-full my-2 p-2 dark:bg-[#42425F] bg-[#F7F7F7] cursor-pointer",[ye(p)?"rounded":""]]),onClick:t=>fe(e)},[_("div",wl,[_("p",{class:Ee(["select-none",[ye(u).mode===e.value?"text-[#3076ED]":""]])},we(e.label),3),Y(ye(me),{size:"small",checked:ye(u).mode===e.value,value:e.value,onChange:t=>fe(e)},null,8,["checked","value","onChange"])])],10,hl)))),256))])])):Q("",!0),ye(p)?(P(),N("div",El,[_("button",{class:Ee(["w-full flex justify-center items-center h-10 rounded-full text-center",[ye(R)?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:ye(R),onClick:be},[_("p",Cl,[W("提交任务("),_("span",Tl,[Y(ye(I),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),W("4) ")])],10,Il)])):Q("",!0)],2))}}),[["__scopeId","data-v-2c790e88"]]),Ul={class:"input-message"},Sl={class:"flex items-stretch space-x-2"},Ml={class:"relative flex-1 mj-input"},jl={class:"flex justify-between items-center mb-2"},Vl={class:"flex flex-start items-center text-[16px]"},Ol=[_("p",{class:"select-none text-[12px]"},"咒语生成器",-1)],Rl={class:"absolute bottom-2 left-2"},Bl={class:"flex items-center justify-between"},Dl={class:"flex justify-between items-center"},Ll=_("label",{class:"text-sm"},"自动翻译",-1),Gl=X({__name:"chatMessage",setup(t){const{isMobile:l}=m(),{updatePromptWords:s,updateInspireDialog:i}=e(),n=Ae(""),r=$((()=>l.value?U("chat.placeholderMobile"):U("chat.placeholder"))),o=()=>{s({prompt:n.value})},c=()=>{i(!0)};return(e,t)=>(P(),N("footer",Ul,[_("div",{class:Ee(["m-auto",ye(l)?"px-2 py-1":"mt-4"])},[_("div",Sl,[_("div",Ml,[_("div",jl,[_("p",Vl,[Y(ye(a),{icon:"ri:input-field"}),W(" 输入描述词 ")]),_("div",{class:"bg-[#F7F7F7] bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r rounded-3xl flex justify-start py-1 px-2 cursor-pointer hover:bg-[#3144F1] hover:dark:bg-[#3144F1]",onClick:c},Ol)]),Y(ye(ve),{ref:"inputRef",value:n.value,"onUpdate:value":[t[0]||(t[0]=e=>n.value=e),o],type:"textarea",round:"",class:"pb-10",clearable:"",maxlength:"500","show-count":"",placeholder:ye(r),rows:3},null,8,["value","placeholder"]),_("div",Rl,[_("div",Bl,[_("div",Dl,[Ll,Y(ye(ge),{text:"",size:"small",round:""})])])])])])],2)]))}}),Xl={class:"flex justify-between"},Nl={class:"mr-2 w-full"},Jl={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},zl={class:"p-2"},Pl={class:"mb-2"},_l={class:"level-classify text-[15px] py-2 pt-2"},ql={key:0,class:"my-1"},Kl=["onClick"],Yl={class:"select-none text-white"},Ql={class:"w-full h-full flex flex-col"},Wl={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},Zl=[_("p",{class:"dark:text-white text-white"},"前往制作",-1)],Hl=X({__name:"createInspiration",setup(t){const a=Ae(""),l=e(),s=$((()=>l.inspirationDialog)),i=ke({level1:[],level2:[]}),n=Ae(0),r=async e=>{n.value=e,i.level2=await S({id:e}).then((e=>e.data.rows))},o=()=>{l.updatePromptWords({prompt:a.value}),l.updateInspireDialog(!1)},c=()=>{l.updateInspireDialog(!1)};return te((()=>{(async()=>{const e=await M({level:0}).then((e=>e.data)),{level1:t}=e;await r(t[0].id),Object.assign(i,{level1:t})})()})),(e,t)=>(P(),q(ye(be),{show:ye(s),"onUpdate:show":t[1]||(t[1]=e=>he(s)?s.value=e:null),style:{width:"100vw","max-width":"100vw",height:"100vh"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1,onClose:c},{default:K((()=>[_("div",Xl,[_("div",Nl,[Y(ye(xe),{value:n.value,"onUpdate:value":[t[0]||(t[0]=e=>n.value=e),r],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:K((()=>[(P(!0),N(z,null,J(i.level1,(e=>(P(),q(ye(fe),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),_("div",Jl,[_("ul",zl,[(P(!0),N(z,null,J(i.level2,(e=>(P(),N("li",null,[_("div",Pl,[_("span",_l,we(e.classifyName),1)]),e.children.length>0?(P(),N("div",ql,[(P(!0),N(z,null,J(e.children,(e=>(P(),N("div",{key:e.id,class:Ee(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[a.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:t=>(e=>{a.value.includes(e.incantationEn)?a.value=a.value.replace(e.incantationEn+",",""):a.value+=e.incantationEn+","})(e)},[_("button",Yl,we(e.incantationCn)+" "+we(e.incantationEn),1)],10,Kl)))),128))])):Q("",!0)])))),256))])])]),_("div",Ql,[_("div",Wl,[_("p",null,we(a.value),1)]),_("div",{onClick:o,class:"rounded-full flex items-center justify-center mt-2 w-full h-[28px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},Zl)])])])),_:1},8,["show"]))}}),$l={class:"text-image-container flex flex-row"},es={class:"w-full pt-2 flex flex-col justify-between"},ts=X({__name:"text2image",setup(t){const a=e(),l=Ce();$((()=>a.drawId));const s=$((()=>l.path));return Ae({}),Ae(),(e,t)=>(P(),N(z,null,[Y(Hl,{ref:"inspirationRef"},null,512),_("div",$l,[_("div",es,[ye(s).includes("text-to-image")?(P(),q(Gl,{key:0})):Q("",!0),Y(Fl,{ref:"configRef"},null,512)])])],64))}}),as="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAgZJREFUOE+llMuLz2EYxT+HEBJSLmP8AS6RZoOUe2SQJGUWwqxFLIgVpbDRsCVWNlLkFrmNYuNebhsbxhSRSJTi+J7p/enLTLPx7r7v+zznOc95zvMV/xzbS4DDwEBghaRXtpuAs8AwYIekK/U0NT5sDwBOAWuBI8D4gACXgUXAw+rtKbAFOAO0SfqV/DpIkrqBxZJu5NH2emApcAc4niTbAbwKNEl69xdISXoG7JcURn0e223AHklTGwF1JqOALqBVUmc/IPOB80CzpM89TGyPAGYAB4HhwEwp1w7oNmB6BXwP6JD0zXYKPwa+AjuBJ4lOf+nzJrBRUpftIcCDCngocB1YBryttJhTCjQDJ4EFeQ/Ie6BdUij2HNvtFcu9wBRJX2yPBV4CmySdq8Wtqto6FpAfwCxJGWEDJD4ZI2lD7e5iVblT0qHaXQtwt8EkFRJUZ7IPmFyYjANe9MGkFTgRkGuVHvNK75slddseXDSJ0A1NXgNziyYT45ui5a2AjMxEgANAkltKYO63luncL9P5XqYT0SPDLuBR3SejK4HfAMsl3e7HJ2Gd1idJ+vQ/jt0taVpfjo142Z2FcazteCRmm110OVp2J96Ijr13x3ZW/3TZ3A4g9p4AXADWFNc+LzrFU+sk/ezVTjHayuq/ES98qOy9WtJH23HopWo5BwHbJeX38Of8Bg9c7FvbPLaUAAAAAElFTkSuQmCC",ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAcpJREFUSEvVlL1L11EUxj9PNDaUg0ovtARGSdSUvagYki0RpEtDEC3R0hBobwaBZboYDYoIoUiDEATNgqB/gUO1NTVUtNVQ29PvyFV+L36/3n60dOBO9zyfe8+5z7niH4TtFuAkcAm4CnxVs1zbncB54DLQA+ypYn3OBts+DJwDzgIDwJGSS40Wgm3vBrqBLqAf6ANyL9Jdk2i7AziTSrsIHGiiVd+Bdtm+AFwBTqfVBKtGsiTpWoD9l6QfwG+gtUB3W9JsgG8CrzLgAXyQgKE5VKBpl/Rto8e243GWCxI/AVOSZmyHTxeAtoLcj5KOx97W49kOT64Cu5IoDpqW9C4dfg+Y2KGyF5Lu1oCTOOAxOYuS1jchtt8AQxnt6pW01gCuF9reW7HeCnAqAxoP2iLpVynY9tHU94MZ0EhZlhTe34iyyRtPLsjk8ljS0xzwQ+BZLhXolPQhB3wfeJ4J/iJpf3VuWStGgMmUHLffBwwXHPRa0vVc8CgwBsxJupXsOA/c2AY+KOltLngJOFYRnKgW2H4J3KmDt0qKX20ryloR3+d7ST+38XdUEhVFrFems8HnuR93Q/W2Y8QfVTaeSJqqT2gavJNb/j/wH+wWjGlt1nwMAAAAAElFTkSuQmCC",ss=X({__name:"baiduThink",setup(a,{expose:l}){const s=Ae(!1),i=Ae(!1),n=Ae(!1),r=Ae(""),o=Ae(""),c=se(),d=e(),u=$((()=>i.value||!r.value)),p=()=>{r.value=o.value,v()},v=async()=>{if(n.value=!1,o.value=r.value,!r.value)return c.info("请输入简单的描述!"),i.value=!1,void(n.value=!1);i.value=!0;const e=await j({prompt:r.value}).then((e=>e.data||"")).catch((()=>{i.value=!1,n.value=!1}));i.value=!1,r.value=e,n.value=!0},m=()=>{d.updatePromptWords({prompt:r.value}),s.value=!1,t.emit("think",r.value)};return l({open:()=>{s.value=!0}}),(e,t)=>(P(),q(ye(be),{show:s.value,"onUpdate:show":t[1]||(t[1]=e=>s.value=e),preset:"dialog",title:"AI帮我想","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{action:K((()=>[n.value?(P(),q(ye(re),{key:0,round:"",onClick:p},{default:K((()=>[W("重新联想")])),_:1})):Q("",!0),n.value?(P(),q(ye(re),{key:1,round:"",onClick:m},{default:K((()=>[W("使用此描述")])),_:1})):Q("",!0),n.value?Q("",!0):(P(),q(ye(re),{key:2,round:"",onClick:v,disabled:ye(u)},{default:K((()=>[W("生成此描述")])),_:1},8,["disabled"]))])),default:K((()=>[Y(ye(ve),{value:r.value,"onUpdate:value":t[0]||(t[0]=e=>r.value=e),clearable:"",type:"textarea",loading:i.value,bordered:"",disabled:i.value,placeholder:"请输入简单的描述，AI将智能完善创意描述","show-count":"",rows:7,maxlength:"3000"},null,8,["value","loading","disabled"])])),_:1},8,["show"]))}}),is={class:"flex justify-between"},ns={class:"mr-2 w-10/12"},rs={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},os={class:"p-2"},cs={class:"mb-2"},ds={class:"level-classify text-[15px] py-2 pt-2"},us={key:0,class:"my-1"},ps=["onClick"],vs={class:"select-none text-white"},ms={class:"w-2/12 h-full flex flex-col"},gs={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},fs=[_("p",{class:"dark:text-white text-white"},"前往制作",-1)],xs=X({__name:"createInspiration",setup(a,{expose:l}){const s=Ae(!1),i=Ae(""),n=e(),r=ke({level1:[],level2:[]}),o=Ae(0),c=async e=>{o.value=e,r.level2=await S({id:e}).then((e=>e.data.rows))},d=()=>{n.updatePromptWords({prompt:i.value}),t.emit("selectIncantation",i.value),s.value=!1},u=async()=>{const e=await M({level:0}).then((e=>e.data)),{level1:t}=e;await c(t[0].id),Object.assign(r,{level1:t})};return l({open:()=>{s.value=!0,u()}}),(e,t)=>(P(),q(ye(be),{show:s.value,"onUpdate:show":t[1]||(t[1]=e=>s.value=e),style:{width:"1200px",height:"600px"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{default:K((()=>[_("div",is,[_("div",ns,[Y(ye(xe),{value:o.value,"onUpdate:value":[t[0]||(t[0]=e=>o.value=e),c],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:K((()=>[(P(!0),N(z,null,J(r.level1,(e=>(P(),q(ye(fe),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),_("div",rs,[_("ul",os,[(P(!0),N(z,null,J(r.level2,(e=>(P(),N("li",null,[_("div",cs,[_("span",ds,we(e.classifyName),1)]),e.children.length>0?(P(),N("div",us,[(P(!0),N(z,null,J(e.children,(e=>(P(),N("div",{key:e.id,class:Ee(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[i.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:t=>(e=>{i.value.includes(e.incantationEn)?i.value=i.value.replace(e.incantationEn+",",""):i.value+=e.incantationEn+","})(e)},[_("button",vs,we(e.incantationCn)+" "+we(e.incantationEn),1)],10,ps)))),128))])):Q("",!0)])))),256))])])]),_("div",ms,[_("div",gs,[_("p",null,we(i.value),1)]),_("div",{onClick:d,class:"rounded-full flex items-center justify-center mt-2 w-full h-[42px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},fs)])])])),_:1},8,["show"]))}}),bs=e=>(Z("data-v-f1440325"),e=e(),H(),e),As={class:"contentCenterBottom"},ys={class:"inpBoxLeft"},ks={class:"inputBox"},hs={key:0},ws={class:"drawModeBox bg-[#E8E8E8] dark:bg-[#1A1A2F]"},Es=["onClick"],Is={class:"text-[#696969] dark:text-[#fff] modeName"},Cs=bs((()=>_("p",null,"普通模式：高峰期预计需要10分钟出图（会员免费使用） 快速模式：平均1-2分钟出图（每张消耗4绘画积分）",-1))),Ts=bs((()=>_("div",{class:"smallBox bg-[#E8E8E8] dark:bg-[#1A1A2F]",style:{position:"absolute"}},null,-1))),Fs=["disabled"],Us={class:""},Ss={class:"selectBox"},Ms=["onClick"],js={class:"other"},Vs=[bs((()=>_("img",{class:"setImg",src:as,alt:""},null,-1))),bs((()=>_("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"设置",-1)))],Os={class:"otherItem"},Rs=bs((()=>_("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"自动翻译",-1))),Bs=[bs((()=>_("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"联想",-1))),bs((()=>_("img",{class:"setImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAAAXNSR0IArs4c6QAAAyxJREFUOE+VlG9olWUYxn/Xe85Et2bSRMusvkiC/YFMjEpoO2eYmlKki/rgoj8UpBBt50iU1CyR2DlbZC7UFEKSoEQhmNA675mFZEXL8FMfpEFlhGjM2hxz23u196zNuZrm++l57+e6f/f93M9z32LSV93qBcEQT0qsMCyUKLP4HXPMER/+eZLPu3ZrcLKfxgy1b/laJ2kGnrP5dQT0tc13hv4AFgJLEYttugmoLzbqq4mwEii11TcynYLgOpvNxT720qTootCqbmYuAbMC2CFIR7ChM6P3xjRa9Lqn3VDJUcxcJakpvKSfLknbVrqFL4FlmGfDrPamc25BNESwtjOjg7Fe6bxfAFoxS8OsTizPuaIjq74SrMlBTQWPB2J/6V8cChv1aLxM5/0B8DAXWBC+orMx6CRwdNBsSYpDwCKJfTbhyDFmD0d8rwTzMCujgG1HGhTrqX7bsxLD/ILIhI3aFYOMWENEHaJ+/MxifxSxBNFWzOjdybf0T1admLNhVutGQXCbYbPgiTGHyKyOQyQjThRe1s9TgHYZ7i5mtESpnB2Zu8qgLwpKRb0e6BR8EwXsKDbo1H9BYltt3scNiTCjO0sZOeLB4iZ1xIUG5nRk1X3Pds+ceYGnIljf08uKriadqfvYid+6KZ8mFktskXgA6Al7qYpB5zDvhFm99q/ItlItbDxXyc6KXm5Pmi8EM4DkRO0QrFIq74+AeVU3k/rkMQ1PFNzb6hnl5mnMMpt10qWAMW0gvtXK7V4zMMCnQcDhQqMemghKNXu5Aj6bqkZjdsOZUovU5nzc4g7Ei8MB7X+Vc6rreQ2mcn51JIutVwCd7qlkfglU0+J0YAoTHOrCjA7U5r3PsP5yIMPBYkZrx7s/lXO7xKrYybBnpGUOBwG7bWZfBhQZNhQz2jkOSufdCOSvVI/J+zKbClnlLmaUd/yy37xq0BC3xC+/BEpvc5Wn8YNg/lWBzPnzCW461qA/RkE5P4PY8z8gbZF432YgmUDu53Q8QkYnTDwS2nxN0M8bwEZB2RTA9jCj1VMFG69RLLgv5znTA+qJeAS4VVCJSsH6huH+Ixn9OBXob7wuQNwmduTfAAAAAElFTkSuQmCC",alt:""},null,-1)))],Ds=[bs((()=>_("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"咒语生成器",-1)))],Ls={class:"inpBoxRight"},Gs={key:0},Xs=["disabled"],Ns=[bs((()=>_("img",{class:"sendImg",src:ls,alt:""},null,-1))),bs((()=>_("p",{class:"sendText"},"发送",-1)))],Js={key:1},zs=[bs((()=>_("img",{class:"sendImg",src:ls,alt:""},null,-1))),bs((()=>_("p",{class:"sendText"},"发送",-1)))],Ps=d(X({__name:"newSend",props:{imageList:{type:Array}},emits:["isSettingShow","getjobId","resquestStatus"],setup(l,{emit:s}){const i=Te(),n=Ce(),d=e(),u=$((()=>d.mjDrawForm)),p=se(),v=Ae(),m=Ae(!1),g=Ae(0);function f(){m.value?g.value=1:g.value=0}t.on("selectIncantation",(e=>{v.value=e}));const x=$((()=>n.path)),b=Ae(!1);function A(){b?(s("isSettingShow",!b.value),b.value=!b.value):(s("isSettingShow",b.value),b.value=!b.value)}const y=Ae({}),k=Ae(),h=Ae([]),w=Ae(0);function E(){k.value=v.value}const I=Ae("--ar 1:1");y.value.no="",y.value.v="--v 5.2",y.value.sizeValue=I.value,y.value.q="--q 0",y.value.s="--s 0",y.value.c="--c 0",y.value.fast="--fast",t.on("--no",(e=>{y.value.no=e})),t.on("base64Array",(e=>{h.value=e})),t.on("--v",(e=>{y.value.v=e})),t.on("sizeValue",(e=>{I.value=e,y.value.sizeValue=I.value})),t.on("--q",(e=>{y.value.q=e.type+" "+e.sliderValue})),t.on("--s",(e=>{y.value.s=e.type+" "+e.sliderValue})),t.on("--c",(e=>{y.value.c=e.type+" "+e.sliderValue}));const C=Ae(1),F=Ae();t.on("imageForm",(e=>{F.value=e}));const U=$((()=>x.value.includes("text-to-image")?c.TEXT_TO_IMAGE:x.value.includes("image-to-text")?c.IMAGE_TO_TEXT:x.value.includes("image-mix-image")?c.IMAGE_MIX_IMAGE:c.NONE));let S=new FormData;function M(){0==w.value&&(U.value==c.TEXT_TO_IMAGE?(R(),k.value=""):U.value==c.IMAGE_TO_TEXT?F.value?(w.value=1,t.emit("upLoadIsShow",0),S.append("type",U.value+""),S.append("action",c.IMAGE_TO_TEXT+""),S.append("mode",u.value.mode+""),S.append("files",F.value.files[0]),T(S).then((e=>{200==e.code&&(s("getjobId",e.data),s("resquestStatus",1),S=new FormData)}))):p.error("请上传一张图片"):U.value==c.IMAGE_MIX_IMAGE&&O())}t.on("status",(e=>{w.value=e,0==e&&(v.value="")}));const j=Ae("SQUARE");t.on("imageMixImageSize",(e=>{j.value=e}));const O=()=>{let e={type:U.value+"",action:c.IMAGE_MIX_IMAGE+"",mode:u.value.mode+"",base64Array:h.value,size:j.value};h.value.length<2?p.error("请上传2-5张图片"):(t.emit("upLoadIsShow",0),w.value=1,T(e).then((e=>{w.value=1,200==e.code&&(s("getjobId",e.data),s("resquestStatus",1))})))},R=()=>{b.value?(s("isSettingShow",!b.value),b.value=!b.value):(s("isSettingShow",b.value),b.value=!b.value);let{no:e,v:t,sizeValue:a,q:l,s:i,c:n,fast:d}=y.value;w.value=1,o({type:c.TEXT_TO_IMAGE,params:{prompt:k.value,action:r.TEXT_TO_IMAGE,extend:(""!=e?`--no ${e} `:"")+t+" "+a+" "+l+" "+i+" "+n+" "+d,base64Array:h.value.length?h.value:[],mode:C.value,translate:g.value}}).then((e=>{console.log("123456789",e),200==e.code&&(s("getjobId",e.data),s("resquestStatus",1))}))},B=Ae("/midjourney/text-to-image");B.value=i.currentRoute.value.fullPath;const D=[{name:"快速模式",id:0,value:"--fast",icon:"/src/views/midjourney/img/right1.png",type:1},{name:"休闲模式",id:1,value:"--relax",icon:"/src/views/midjourney/img/importent.png",type:2},{name:"Turbo模式",id:2,value:"--turbo",icon:"/src/views/midjourney/img/importent.png",type:3}],L=Ae(!1),G=()=>{L.value=!L.value},X=Ae("");if(localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));X.value=e.name,C.value=e.type}else X.value="快速模式";const W=Ae(),Z=Ae(),H=()=>{console.log(U),1==U.value&&W.value.open()},ee=()=>{1==U.value&&Z.value.open()};return t.on("prompts",(e=>{v.value=e,k.value=e})),t.on("think",(e=>{v.value=e})),t.on("error",(e=>{w.value=0})),(e,l)=>(P(),N(z,null,[Y(ss,{ref_key:"thinkRef",ref:W},null,512),Y(xs,{ref_key:"inspirationRef",ref:Z},null,512),_("div",As,[_("div",ys,[_("div",ks,[L.value?(P(),N("div",hs,[_("div",ws,[(P(),N(z,null,J(D,(e=>_("div",{key:e.id,class:"drawModeText",onClick:t=>(e=>{y.value.fast=e.value,C.value=e.type,X.value=e.name,L.value=!1,localStorage.setItem("drawMode",JSON.stringify(e))})(e)},[_("p",Is,we(e.name),1),1==e.type?(P(),q(ye(ie),{key:0,trigger:"hover",placement:"top"},{trigger:K((()=>[_("div",null,[Y(ye(a),{style:{"font-size":"16px"},class:"text-[#D2D2D2] dark:text-[#9898A1]",icon:"f7:exclamationmark-circle-fill"})])])),default:K((()=>[Cs])),_:1})):Q("",!0),1!=e.type?(P(),q(ye(a),{key:1,style:{"font-size":"16px"},class:"text-[#B3B3B3] dark:text-[#9898A1]",icon:"mingcute:right-line"})):Q("",!0)],8,Es))),64)),Ts])])):Q("",!0),_("div",{class:"selectBox1 dark:bg-[#1A1A2F] bg-[#E8E8E8;]",onClick:G},"# "+we(X.value),1),ae(_("input",{disabled:2==ye(U)||3==ye(U),class:"inp dark:bg-[#1F1F38] bg-[#fff]",type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>v.value=e),onInput:E,placeholder:"在此处描述画图的关键字，注意不要在此填入萝莉、性感血腥等敏感词内容，100%不会出图"},null,40,Fs),[[Fe,v.value]])]),_("div",Us,[_("div",Ss,[(P(!0),N(z,null,J(ye(V),(e=>(P(),N("div",{class:Ee(B.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#E8E8E8;] dark:bg-[#1A1A2F] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){i.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&t.emit("upLoadShow",1)}(e)},we(e.menuName),11,Ms)))),128)),_("div",js,[_("div",{class:"otherItem",onClick:A},Vs),_("div",Os,[Rs,Y(ye(ce),null,{default:K((()=>[Y(ye(ge),{value:m.value,"onUpdate:value":[l[1]||(l[1]=e=>m.value=e),f],size:"small",disabled:2==ye(U)||3==ye(U)},null,8,["value","disabled"])])),_:1})]),_("div",{class:"otherItem",onClick:H},Bs),_("div",{class:"otherItem",onClick:ee},Ds)])])])]),_("div",Ls,[ye(U)==ye(c).TEXT_TO_IMAGE?(P(),N("div",Gs,[_("button",{class:Ee(1==w.value?"notSend":"send"),onClick:M,disabled:!k.value,style:Ie(k.value?"":" cursor:not-allowed")},Ns,14,Xs)])):(P(),N("div",Js,[_("button",{class:Ee(1==w.value?"notSend":"send"),onClick:M},zs,2)]))])])],64))}}),[["__scopeId","data-v-f1440325"]]),_s=e=>(Z("data-v-c608227b"),e=e(),H(),e),qs={class:"drawListBox dark:bg-[#1F1F38] bg-[#fff]"},Ks=_s((()=>_("div",{class:"drawAvatar"},[_("img",{class:"drawAvatarImg",src:Se,alt:""})],-1))),Ys={class:"drawContent"},Qs={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ws={class:"drawContentTitle"},Zs=_s((()=>_("p",{class:"Title1"},"Midjourney Bot",-1))),Hs=_s((()=>_("p",{class:"Title2"},"AI机器人",-1))),$s={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},ei={class:"flex",style:{"align-items":"center"}},ti=_s((()=>_("div",null," 发布到广场 ",-1))),ai=_s((()=>_("div",null," 复制最终执行提示词 ",-1))),li=_s((()=>_("div",null," 下载图片 ",-1))),si=_s((()=>_("div",null," 收藏此任务 ",-1))),ii=_s((()=>_("div",null," 删除任务 ",-1))),ni={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},ri={class:"Title4"},oi={class:"drawContentTitle2"},ci={class:"Title5"},di=["src"],ui=["src"],pi={class:"flex justify-start btnBox",style:{width:"370px"}},vi=["onClick"],mi={key:0,class:"buttonText"},gi={key:1,class:"buttonText"},fi={class:"buttonText"},xi=d(X({__name:"drawView",props:{drawLogList:{type:Array},task:{type:Object,required:!0}},emits:["fresh","newJob"],setup(t,{emit:l}){const s=t;G();const{updateDrawId:i}=e(),d=e(),u=se();Ae(s.drawLogList);const v=async(e,t)=>{if(console.log(e,t),!d.isLogin)return u.warning("请先登录"),void d.setLoginDialog(!0);const a=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return r.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return r.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return r.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return r.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return r.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?r.UPSCALE_4X:e.label.includes("Upscale (2x)")?r.UPSCALE_2X:e.label.includes("Vary (Subtle)")?r.VARY_SUBTLE:e.label.includes("Vary (Strong)")?r.VARY_STRONG:e.label.includes("Vary (Region)")?r.VARY_REGION:e.label.includes("Make Square")?r.SQUARE:e.label.includes("Zoom Out 2x")?r.ZOOM2X:e.label.includes("Zoom Out 1.5x")?r.ZOOM1_5X:e.label.includes("Custom Zoom")?r.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?r.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?r.REDO_UPSCALE_CREATIVE:r.NONE})(e);await async function(e){const t=await o({type:c.IMAGE_ACTION,params:e}).then((e=>e.data));i({id:t}),t&&u.success("提交任务成功！"),l("newJob",t)}({action:a,taskId:t.id,customId:e.customId,messageFlags:t.messageFlags||0})};return(e,t)=>(P(),N("div",qs,[Ks,_("div",Ys,[_("div",Qs,[_("div",Ws,[Zs,Hs,_("p",$s,we(s.task.createdAt),1),_("div",ei,[3===s.task.status?(P(),q(ye(ie),{key:0,placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"bi:send",onClick:t[0]||(t[0]=t=>e.handlePublishSquare(s.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[ti])),_:1})):Q("",!0),Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"ph:copy-light",onClick:t[1]||(t[1]=t=>e.handleCopyPrompt(s.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[ai])),_:1}),3===s.task.status?(P(),q(ye(ie),{key:1,placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{icon:"icons8:down-round",onClick:t[2]||(t[2]=t=>e.handleDownload(s.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[li])),_:1})):Q("",!0),Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{onClick:t[3]||(t[3]=t=>e.handleFavorite(s.task)),icon:0===s.task.favorite?"uit:favorite":"uis:favorite",class:"text-[14px] mx-1 cursor-pointer"},null,8,["icon"])])),default:K((()=>[si])),_:1})])]),_("div",null,[Y(ye(ie),{placement:"top-start",trigger:"hover"},{trigger:K((()=>[Y(ye(a),{onClick:t[4]||(t[4]=t=>e.handleRemove(s.task)),icon:"ep:delete",class:"text-[14px] mx-1 cursor-pointer"})])),default:K((()=>[ii])),_:1})])]),_("div",ni,[_("p",ri,we(s.task.originPrompt),1)]),_("div",oi,[_("p",ci,we(s.task.prompt?s.task.prompt.split("--")[0]:""),1)]),_("div",{class:"drawImgBox",style:Ie({height:s.task.imageUrl?"":"170px"})},[6===s.task.status?(P(),N("img",{key:0,src:ye(L),alt:""},null,8,di)):Q("",!0),6!=s.task.status&&s.task.imageUrl?(P(),N("img",{key:1,class:"img",src:s.task.imageUrl,alt:""},null,8,ui)):Q("",!0),s.task.imageUrl||6==s.task.status?Q("",!0):(P(),q(p,{key:2}))],4),6===s.task.status?(P(),q(ye(re),{key:0,type:"primary",style:{"margin-left":"12px"},onClick:t[5]||(t[5]=e=>(s.task,void n.push({path:"midjourney/paint-task"})))},{default:K((()=>[W(" 补充描述词 ")])),_:1})):Q("",!0),_("div",pi,[(P(!0),N(z,null,J(s.task.buttons,(e=>(P(),q(ye(ie),{trigger:"hover"},{trigger:K((()=>[_("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>v(e,s.task)},[e.label?(P(),N("p",mi,we(e.label),1)):(P(),N("p",gi,we(e.emoji),1))],8,vi)])),default:K((()=>[_("p",fi,we(e.label||e.emoji),1)])),_:2},1024)))),256))])])]))}}),[["__scopeId","data-v-c608227b"]]),bi=e=>(Z("data-v-95706188"),e=e(),H(),e),Ai={class:"popBox"},yi=bi((()=>_("div",{style:{display:"flex","align-items":"center"}},[_("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAn5JREFUSEvFlk9IVFEUh7+jjCaKTi7SLIM2FbQpaNMu0AqckaRMUGcW6SpXQdrGRRS4KW0RZSuTmmkKMSgag8HcRosWuUsoCoT+EaGkjDbpifdeIzM2ztybUG/33v397nfuveede4QCT+OYVpUu0SrFNKIcUKgXKFdYFJgFpnWVyeUtjD9rk/l808lGg01jWluUoh+lGygrFBSQRBhZ9THwtE0+5dLnhAWj2qEwLFBlAMmSKMwL9MRDElvv/QMWuKuDUsR5W8h6vcLQREh6M79nwYJRvQL0bRaU4b8aD8mF9PsazNk64F4+UGUJ7Kn2FO/n4WvSICwlFA+LO68La4hpTdkKrxH8+ewHa+Byo6e48QISb41gc8li9k11yGcXFojosAhnC1nrK2D4hKe6/hwm3xVyeOOq3JoIS48cGVV/hY8PJumdCbs0BS9zJnjOAJILKeokENUugRGzGOFJp6e0hKHQLYGIxkRot4X1PIbZBVMXDuy+BCPqJMZeU1vkJPjLwBaGMuOsbEGEclPYnRaoLofWB7C8YupysoTvEoyqWli42QS7tkJz3j8y54wr1isbOgZ1ldA+bhNiemWWZ9Z3GHZUwrmENWzGSf2YYJ6Nlog1uZuNtv/ZJmDdVhVkdxWc3u/hEm9g+osx2qsgNrXxUC1cbPAAxoU4szY6RtOq/1cwJbvqO8BgRDsRovk2prQYtv3uRr4tweJPg20UQvHOjPssbflnN3Ua2BzVQWXzPQjKtXhYsnqZ/9tdpVd4PKLbfUI/0GVysbp9I9xOKQOJsHzMdZobNqlpccuo+lMlnBLlKLgd8U5xmlZlEXFv+FcqTPp+8PDRGZnLlzK/ADXe7vdu9RfoAAAAAElFTkSuQmCC",alt:""}),_("p",{class:"popTitle"},"提示")],-1))),ki=bi((()=>_("div",{class:"introBox"},[_("p",{class:"intro"},"积分不足，请购买会员套餐获取积分，享受更多会员权益")],-1))),hi=d(X({__name:"popup",emits:["closePop","buyVip"],setup(e,{emit:t}){const a=()=>{t("closePop")},l=()=>{t("buyVip")};return(e,t)=>(P(),N("div",Ai,[_("div",{class:"popTopBox"},[yi,_("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAw1JREFUSEvFljtMU2EUx/+HV7ENoSxYjQZCApaNAIGw24ReBkLq4mOCSVYfCzOLrxEnnFQWG8LALUl3IMDQTlQICWCi7cIj2vYCLUfPZy9paW9vq0TPdu93vvP7zvP7CDYSDoebM5nMPQB3AfQAuA3ABSAJ4AszR4koXFdX98nn8x2XM0dWi4uLix4imiKiCQDX7A7FzOlfB5ll5umRkZF4Kf2SsKWlpQfMPAOg2Q5SYv2YiCaHh4c/Xl4rgum6/oqInvwBpGALM7/WNO1p/s8CWCgUevErF8/+FpS3/6Xf739ufl/AcqH7cIUgZYqZH2mapuwq2MLCwvX6+voYEblNWE1NDTo6OrCzsyMbbM/Q2dmJ/f19nJycXA7n0dnZmXd0dDShYLquzxDR43yt1tZW9Pb2Ih6PIxqNlgV6vV60t7dje3tbHe6yMPNbTdMmaX5+3u1wOL4SUVF5iwExJMBIJFLSO1Pn4OAA6+vrVodKG4Zxk3RdHyeiWas4dXV1qXDu7e1hc3OzQM0EHR4eYmNjA9ls1jLczDxBoVBI+uF+uaR0d3ejra2tAFgNKGd7TmAxAHfsKiAfmE6nVXiTySSWl5fLepRn97PAfuRmnR0PJlAUBbS2tlZUfVZGmPm7wOzrOmfB4/Ggp0dmMVTVSfVVIdmKPWtpacHAwABSqRROT08h37FYDLu7uxXxTM9scyaG+/r6VMgkdJlMBv39/QooFSqVWoGonJWtRhMkZb2ysgLDMJTd2tpaBXS73arppRdtZK5sn7lcLgwNDalqE4+kKPKlGqDqM6sJIiDJkczI1dXVIpAJbWhowODgIJxOp5oyiUSilIO/J4jVbGxqalJhEgMyIcqJw+FQB9va2ioJu5iNYqTU1Jf/4tX5+bldLtS6lS4zF079nHcPieh9RZarUCq6z8y9/+ymNoFX9QYB8Mbv9xe8Zf7v68r0MBgM3nA6nVMAxit5NwKQd+O7VCo1HQgEvpVKq+Uj1VSWPmxsbAwQkY+ZZQrfysGlw+WGjzBz2DCM4NjY2FG52vkJLyqWRgYfvF4AAAAASUVORK5CYII=",alt:"",onClick:a})]),ki,_("div",{class:"btnBox"},[_("button",{class:"close",onClick:a},"关闭"),_("button",{class:"buy",onClick:l},"前往购买")])]))}}),[["__scopeId","data-v-95706188"]]),wi=e=>(Z("data-v-99fc73eb"),e=e(),H(),e),Ei={class:"userDetailBox dark:bg-[#32324D] bg-[#fff]"},Ii={class:"userDetailTop"},Ci={class:"avatarBox bg-[#fff] dark:bg-[#32324D]"},Ti=["src"],Fi=wi((()=>_("div",{style:{width:"35px",height:"35px","background-color":"#3080D7","border-radius":"50%",display:"flex","justify-content":"center","align-items":"center"}},[_("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAAAXNSR0IArs4c6QAAAVNJREFUOE+Vk70rhlEYxn8XIQYGBhYGUQxGm6/RIpMSyiTDW7L5F2woGUU2STalKCxs74DFZLGYlI+ULo7Oqyed93289/Kcnq77d67744gqw/Y0sAUsSdoppasaToTsATUxb0rSfjhXC5oDdjOXfwLjkk7+BbJdAAYkLdieB7YzsGVJa7kg2zNAKCfEhqQl24uxT0eSJnNLsz0BHGZ6EnJWJa3YngUOJL1VBNkeA46B+sRACpI2s/+TpdkeBM6ApgTkNDb4oyLI9gBwDrQkINfAaKmcsiDbfRHSloAUgWFJz6nd+y3NdjdwAXQkhHcR8lRugX9Atjujk66E8D5CHiu9Atluj5CehPABGJIUvhUjgG6A/oQqOAg9CY5yI4DCGOv+KEMvRiTd5hKiIIDegYZMQphKcFK03Qqsf29zYw7QAfQC1Ebha1y2K9vNwCXQ+w9Xn1/LGHetFKW+hgAAAABJRU5ErkJggg==",alt:""})],-1))),Ui={class:"userDetailContent"},Si={style:{padding:"12px 17px","border-radius":"10px"},class:"bg-[#efefef] dark:bg-[#1A1A2F]"},Mi={class:"userDetailItem border-b-[2px] broder-[#cecece] dark:border-[#686885]"},ji={style:{display:"flex","align-items":"center",height:"30px"}},Vi={style:{"font-size":"20px","margin-right":"5px"},class:"text-[#808080] dark:text-[#fff]"},Oi={key:0,style:{display:"flex","justify-content":"space-between"}},Ri=wi((()=>_("p",{class:"text-[#7E7E7E] dark:text-[#fff]"},"已开通会员",-1))),Bi={class:"isVip text-[#7E7E7E] dark:text-[#fff]"},Di={class:"userDetailItem border-b-[2px] broder-[#cecece] dark:border-[#686885]"},Li=wi((()=>_("p",{style:{"font-size":"20px"},class:"text-[#808080] dark:text-[#fff]"},"绘画积分",-1))),Gi={style:{display:"flex","align-items":"center"}},Xi=wi((()=>_("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAABKZJREFUSEt9ldtvVHUQxz9z9uy11223l6WIbYIRgw/+AyYECtFIjBoTw7OoUWNCwoP+B/rmi/KAl1cM8UGCIbEC8iQPBpUEIwVbLim020Jbetle9pzfmPmd3S2txUk2u3vOb+Y7853vzE/4H9PZ4V1RJEdQ9qvynEA3AiI8VOVvVH8Js+6UFC/eeVIY2e5F9cH+gbCW+lQCjgChP5MKIBBQMBD/HcX2JlL4Lp2KP5HSxXtb4/0HIKoMv6EqXyMUfaAggPklqMzB0grEDlIChTz0dUKxHVQRdC6O5d1seeT7x0E2AaxPDr8vgZwwB9IhPHgEo3dhPYIw5bnx7/ynXkEmhN0DUO6GWoyK+zDTd+FEA6QJEM0cOOycnBVztODX78L9h2ABzJxLqslmkEwm+a0OrUWwVIWOFnhhN6w7nMhr2f6fzpibB9DFl3ui5WjU02KZWvCp2SRry1YE6WyHXM4X4WlqpmhdB11dR4nh+UHrzXxYCJ6VtpFpDxBVhk8q8o6HM76vjieZW/BMGukqIrHD9RnfEFQeJU3fak5xxTyUOqwn34S9Px8VnXyxJwpy971aUim4fA1cned0mqBU9P+NOd3dlxT95xhBW2uSwBbTOEafKduxaE3dTlmfGj4mIp/7c8srcOVmM/ugvzcBcw43UIRCNiH14SIys4hYr7Zao9L2gjXuuETTw2dV5bAveexe0linSEc7Usih9jyfRstJJd5sHm5XEA2QWpw8N+n6BoFmQ3RXCSJ3TqLKwVsKg6RT8Mc/sFiF1jzsHQKj2dRiZo2tB/DUNAQQG50OqSwgK+sJQCpAh3rQWO9KrXJwGSh4aV65AdVVH1T2DqGtuW153sSKVWiKG5tEOtu8hBsAOK1uAFhGV8dgYRlpKSD5Am6n8Z5Jhmo7M6pMdVZ5IUdQ6vIJaZhCB0tGXXWDIqPi1iRMTNf5z3ta3NOljWHbCrKyBr+NQi5N0FNqTrm2ZNEdxTpFU8M/IvKK9/UO15FiB9JagFjRrha02yS5JXq90UzMIP09ycTWe9VQnAjnJJ4ZPuZcXaZG0+W/IEgRdHf63eJMPa3Z7SmaXYDxKYLuYrNXfk3ZvKhaK4+LTh3qjQK9h9bXsm3M328QPLXDr2NPkQkgk4K5paSSYitEEVTX/NQH5Z5EqkZpuRPaTBzEa7iBZFVMH/xKlaM+TVPF+H1kYRXJ53GWzVot2apzixCG0NkGQ/3J4P16jaDcBzbBbXnUAGyORL4Ne0feTpadVSFuFKSzuarHJ5HVGNoL6M07vgrpaENyuUTry1XUhmt+kaBUQttz6I5OGy4kkPlVdXta+y5Umr1ZnXrp1RTuDLavG4O0uIJMzcPyKtKS39yH+p2gtRq6qwfaTHVxsnmR18O+kR/MYfOFUznwgWjqSw/SMFPLag1ZXEmoMq5torNp1LjOZzZWiFXm9KNM+fwXDff/XpnTh94EPalKcVPKFtTAGtbYuM0HOu8c72XL508/7rf9pT+xb2cmHX6myFvNS/8Jw2xrWVROp8L1j6X70sTWY9sCNA6tTO4bDCV1BJH9IrJHlS7PqzCrqteR4GIYr5+S8qXbT8L/F9OIEebsHhg1AAAAAElFTkSuQmCC",alt:""},null,-1))),Ni={style:{"margin-left":"10px",color:"#49A0FE"}},Ji={style:{display:"flex","align-items":"center"}},zi=wi((()=>_("p",{style:{"margin-left":"10px"}},"退出登录",-1))),Pi=d(X({__name:"userDetails",setup(t){const l=e(),s=$((()=>l.userInfo.avatar)),i=$((()=>l.userInfo.username)),n=$((()=>l.userBalance)),r=Te(),o=O();function c(){l.logOut(),r.push("/")}const d=()=>{u()},u=async()=>{l.checkAuth()&&o.updateVipDialog(!0)};return(e,t)=>{var l,r,o;return P(),N("div",Ei,[_("div",Ii,[_("div",Ci,[_("img",{style:{width:"100%",height:"100%","border-radius":"50%"},src:ye(s)?ye(s):"../img/avatar.png",alt:""},null,8,Ti)]),Fi]),_("div",Ui,[_("div",Si,[_("div",Mi,[_("div",ji,[_("p",Vi,we(ye(i)),1),Y(ye(a),{class:Ee(["text-2xl",(null==(l=ye(n))?void 0:l.expirationTime)?"text-[#EFBA0A]":"text-[#808080] dark:text-[#fff]"]),icon:"solar:crown-broken"},null,8,["class"])]),(null==(r=ye(n))?void 0:r.expirationTime)?(P(),N("div",Oi,[Ri,_("p",Bi,"到期时间："+we(ye(R)(null==(o=ye(n))?void 0:o.expirationTime)),1)])):(P(),N("p",{key:1,class:"isVip text-[#7E7E7E] dark:text-[#fff]",onClick:d},"未开通，点击了解特权"))]),_("div",Di,[Li,_("div",Gi,[Xi,_("p",Ni,"积分："+we(ye(n).drawMjCount),1)])]),_("div",{class:"userDetailItem",style:{display:"flex","justify-content":"space-between","align-items":"center"},onClick:c},[_("div",Ji,[Y(ye(a),{class:"text-4xl",icon:"mdi:shutdown"}),zi]),Y(ye(a),{class:"text-3xl",icon:"mingcute:right-line"})])])])])}}}),[["__scopeId","data-v-99fc73eb"]]);export{Ps as N,Pi as U,la as _,it as a,Ue as b,Se as c,xi as d,ts as e,bt as f,as as g,hi as p};
