import{d as e,U as a,b as t,u as l,y as s,ap as i,i as n,r,F as o,o as c,j as d,m as u,k as p,w as v,n as m,h as g,_ as f,a0 as x,l as b,aC as A,$ as y,N as k,aF as h,aG as w,aI as E,aE as I,a5 as C,C as T,D as F,af as U,ae as S,ao as M,E as V,G as O,K as j,L as R,aQ as B,c as D,aA as L,M as G,aB as X,g as N,T as J,f as z,V as P,aR as q,a9 as K,aS as Y,aT as _,aU as Q,aO as W,aN as Z,aV as H,ad as $,a3 as ee,aW as ae,aX as te,aY as le,aZ as se,an as ie,a_ as ne,aL as re,a$ as oe,b0 as ce,t as de,aP as ue,z as pe,ar as ve,as as me,aa as ge,b1 as fe,b2 as xe,b3 as be,v as Ae,a1 as ye,a2 as ke,b4 as he,aK as we,aD as Ee}from"../main-34899ef4.js";import{c as Ie}from"../index/index.a4f65e28.js";import{d as Ce}from"../draw-fail/draw-fail.50b43169.js";import{u as Te}from"../index/index.e2df8043.js";const Fe="/static/png/logo-48b8594b.png",Ue="data:image/png;base64,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",Se=e=>(T("data-v-6d7aac96"),e=e(),F(),e),Me=Se((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Ue,alt:""})],-1))),Ve={class:"drawContent"},Oe={style:{display:"flex","align-items":"center","justify-content":"space-between"}},je={class:"drawContentTitle"},Re=Se((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),Be=Se((()=>d("p",{class:"Title2"},"AI机器人",-1))),De={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Le={class:"flex",style:{"align-items":"center"}},Ge=Se((()=>d("div",null," 发布到广场 ",-1))),Xe=Se((()=>d("div",null," 复制最终执行提示词 ",-1))),Ne=Se((()=>d("div",null," 下载图片 ",-1))),Je=Se((()=>d("div",null," 收藏此任务 ",-1))),ze=Se((()=>d("div",null," 删除任务 ",-1))),Pe={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},qe={class:"Title4"},Ke={class:"drawContentTitle2"},Ye={class:"Title5"},_e={class:"drawImgBox"},Qe={key:0,style:{display:"flex","align-items":"center"}},We=Se((()=>d("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),Ze={style:{color:"red","margin-top":"10px"}},He={class:"flex justify-start btnBox",style:{width:"370px"}},$e=["onClick"],ea={key:0,class:"buttonText"},aa={key:1,class:"buttonText"},ta={class:"buttonText"},la=e({__name:"drawLogList",props:{drawLogList:{type:Array}},emits:["fresh1","newJobId"],setup(e,{emit:T}){const F=a();Te();const{updateSendSquire:V,updateDrawId:O,updatePreview:j}=t(),R=t(),B=l(),D=s(e.drawLogList),L=T;const G=async(e,a)=>{if(console.log(e,a),!R.isLogin)return B.warning("请先登录"),void R.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return U.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return U.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return U.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return U.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return U.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?U.UPSCALE_4X:e.label.includes("Upscale (2x)")?U.UPSCALE_2X:e.label.includes("Vary (Subtle)")?U.VARY_SUBTLE:e.label.includes("Vary (Strong)")?U.VARY_STRONG:e.label.includes("Vary (Region)")?U.VARY_REGION:e.label.includes("Make Square")?U.SQUARE:e.label.includes("Zoom Out 2x")?U.ZOOM2X:e.label.includes("Zoom Out 1.5x")?U.ZOOM1_5X:e.label.includes("Custom Zoom")?U.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?U.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?U.REDO_UPSCALE_CREATIVE:U.NONE})(e);await async function(e){const a=await S({type:M.IMAGE_ACTION,params:e}).then((e=>e.data));O({id:a}),L("newJobId",a),a&&B.success("提交任务成功！")}({action:t,taskId:D.value[a].id,customId:e.customId,messageFlags:D.value[a].messageFlags||0}),L("fresh1")};i.on("newDrawLogList",(e=>{D.value=e}));return(e,a)=>(c(!0),n(o,null,r(D.value,((e,a)=>(c(),n("div",{class:"drawListBox dark:bg-[#1F1F38] bg-[#fff]",key:a},[Me,d("div",Ve,[d("div",Oe,[d("div",je,[Re,Be,d("p",De,u(e.createdAt),1),d("div",Le,[3===e.status?(c(),p(g(x),{key:0,placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"bi:send",onClick:a=>(async e=>{V(!0,e.id)})(e),class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:v((()=>[Ge])),_:2},1024)):b("",!0),m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"ph:copy-light",onClick:a=>(e=>{const{fullPrompt:a}=e;Ie({text:a}),B.success("复制prompt完成！")})(e),class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:v((()=>[Xe])),_:2},1024),3===e.status?(c(),p(g(x),{key:1,placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"icons8:down-round",onClick:a=>async function({imageUrl:e}){e?F.info({title:"下载图片",content:"是否确认下载当前图片",positiveText:"下载",negativeText:"取消",onPositiveClick:async()=>{const a=e.split("/"),t=await h.post("/api/midjourney/download",{url:e},{responseType:"blob"}),l=new Blob([t.data],{type:t.headers["content-type"]}),s=window.URL.createObjectURL(l),i=document.createElement("a");i.href=s,i.download=a[a.length-1],i.click()}}):B.warning("图片未生成完成暂不能下载")}(e),class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:v((()=>[Ne])),_:2},1024)):b("",!0),m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{onClick:a=>(e=>{const{id:a,favorite:t}=e;I({id:a,favorite:1===t?0:1}).then((a=>{200==a.code&&(B.success((0===t?"收藏":"取消收藏")+" 成功"),0===e.favorite?e.favorite=1:e.favorite=0)}))})(e),icon:0===e.favorite?"uit:favorite":"uis:favorite",class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick","icon"])])),default:v((()=>[Je])),_:2},1024)])]),d("div",null,[m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{onClick:a=>(e=>{F.create({type:"info",title:"确认删除",content:(1===e.favorite?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{w({id:e.id}).then((a=>{if(200==a.code){B.success("删除成功");for(let a=0;a<D.value.length;a++)D.value[a].id==e.id&&(D.value.splice(a,1),E({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})))}}))},onNegativeClick:()=>{}})})(e),icon:"ep:delete",class:"text-[14px] mx-1 cursor-pointer"},null,8,["onClick"])])),default:v((()=>[ze])),_:2},1024)])]),d("div",Pe,[d("p",qe,u(e.originPrompt),1)]),d("div",Ke,[d("p",Ye,u(e.prompt.split("--")[0]),1)]),d("div",_e,[m(g(A),{style:{width:"390px"},"preview-src":e.imageUrl,"object-fit":"contain",src:e.imageUrl?e.imageUrl:g(Ce)},null,8,["preview-src","src"])]),4==e.status?(c(),n("div",Qe,[We,d("p",Ze,u(e.failReason),1)])):b("",!0),6===e.status?(c(),p(g(k),{key:1,type:"primary",style:{"margin-left":"12px"},onClick:a=>{return t=e,C.push("/midjourney/paint-task"),void i.emit("openRemixModal",t);var t}},{default:v((()=>[y(" 补充描述词 ")])),_:2},1032,["onClick"])):b("",!0),d("div",He,[(c(!0),n(o,null,r(e.buttons,(e=>(c(),p(g(x),{trigger:"hover"},{trigger:v((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>G(e,a)},[e.label?(c(),n("p",ea,u(e.label),1)):(c(),n("p",aa,u(e.emoji),1))],8,$e)])),default:v((()=>[d("p",ta,u(e.label||e.emoji),1)])),_:2},1024)))),256))])])])))),128))}}),sa=V(la,[["__scopeId","data-v-6d7aac96"]]),ia={class:"start-mj w-full rounded-3xl p-6 py-8 dark:bg-[#313155] bg-[#F7F7F7] h-full",style:{width:"100%"}},na={class:"flex justify-between"},ra=d("div",null,[d("h1",{class:"text-[34px]"},"您好,请创作您的第一个作品吧！"),d("p",{class:"text-[14px] text-[#aaa]"},"我是您的专属AI伙伴，您可以尝试使用快捷提示，体验一下！")],-1),oa={class:"body mt-4 h-full"},ca={class:"flex justify-between h-full min-h-[400px]"},da={class:"bg-[#F7F7F7] relative dark:bg-[#1F1F38] w-[14rem] rounded-3xl overflow-hidden"},ua={class:"bg-[#F7F7F7] relative dark:bg-[#1F1F38] w-[14rem] h-[400px] rounded-3xl overflow-hidden mr-2 ml-2"},pa={class:"absolute left-2 bottom-28 z-30"},va={class:"leading-0 text-white line-clamp-2"},ma=["src"],ga=["onClick"],fa=d("p",{class:"select-none ml-2"},"一键制作",-1),xa=e({__name:"suggestion",setup(e){const a=l(),{updatePromptWords:p}=t(),x=O({size:5,page:1}),A=s([]);async function h(){const e=await B(x).then((e=>e.data||[]));if(!e.length)return x.page=1,void a.warning("备选图片不足，请前往后台添加");A.value=e}async function w(){x.page+=1,await h()}return h(),(e,a)=>(c(),n("div",ia,[d("div",na,[ra,m(g(k),{round:"","icon-placement":"left",onClick:w},{icon:v((()=>[m(g(f),{class:"text-lg",icon:"mynaui:refresh"})])),default:v((()=>[y(" 换一换 ")])),_:1})]),d("div",oa,[d("ul",ca,[A.value.length?b("",!0):(c(),n(o,{key:0},r(5,(e=>d("li",null,[d("div",da,[m(g(R),{vertical:""},{default:v((()=>[m(g(j),{height:"400px",width:"100%",sharp:!1})])),_:1})])]))),64)),(c(!0),n(o,null,r(A.value,(e=>(c(),n("li",ua,[d("div",pa,[d("p",va,u(e.title),1)]),d("img",{loading:"lazy",src:e.imageUrl,class:"cursor-pointer bg-gray-500 duration-300 transition-all hover:scale-110",alt:""},null,8,ma),d("div",{class:"absolute cursor-pointer text-white dark:text-[#fff] dark:bg-[rgba(0,0,0,.6)] px-2 py-1 bg-[rgba(0,0,0,.6)] right-4 bottom-6 z-10 rounded-full flex justify-start items-center",onClick:a=>(e=>{const{isCarryParams:a,aspect:t,prompt:l,status:s}=e,n=a&&s?`${l}  --ar ${t}`:`${l}`;p({prompt:n}),i.emit("prompts",n)})(e)},[m(g(f),{icon:"icon-park-outline:send"}),fa],8,ga)])))),256))])])]))}}),ba=e=>(T("data-v-5dff4b3c"),e=e(),F(),e),Aa={class:"drawListBox dark:bg-[#1F1F38] bg-[#fff]"},ya={class:"topBox"},ka=ba((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Ue,alt:""})],-1))),ha={style:{width:"100%"}},wa={style:{width:"100%","padding-bottom":"10px"},class:"border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},Ea={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Ia={style:{display:"flex"}},Ca={class:"drawContentTitle"},Ta=ba((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),Fa=ba((()=>d("p",{class:"Title2",style:{"margin-right":"26px"}},"AI机器人",-1))),Ua={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Sa={class:"flex",style:{"align-items":"center"}},Ma=ba((()=>d("div",null," 发布到广场 ",-1))),Va=ba((()=>d("div",null," 复制最终执行提示词 ",-1))),Oa=ba((()=>d("div",null," 下载图片 ",-1))),ja=ba((()=>d("div",null," 收藏此任务 ",-1))),Ra=ba((()=>d("div",null," 删除任务 ",-1))),Ba={style:{"margin-top":"10px"}},Da={key:0,class:""},La=["src"],Ga={style:{display:"flex","align-items":"center","margin-top":"10px"}},Xa=ba((()=>d("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),Na={style:{color:"red","margin-top":"10px"}},Ja={key:1,class:""},za=["src"],Pa={key:2,class:""},qa=["src"],Ka={key:4,class:"flex items-center justify-center flex-col",style:{"margin-top":"20px"}},Ya={class:"flex justify-start btnBox",style:{width:"370px"}},_a=["onClick"],Qa={key:0,class:"buttonText"},Wa={key:1,class:"buttonText"},Za={class:"buttonText"},Ha=e({__name:"taskItem",props:{task:{type:Object,default:()=>({prompt:"",image:"",time:"",updatedAt:""})},chat:{type:String,default:"task"}},emits:["fresh"],setup(e,{emit:s}){const{updateSendSquire:i,updateDrawId:y,updatePreview:k}=t(),E=a(),C=l();Te();const T=t(),F=e,V=s;D((()=>e=>{const{progress:a,status:t}=e;return 1===t?"正在排队中...":3===t?"成功":2===t&&100!==a?"正在绘制中...":2===t&&100===a?"正在存储图片中...":4===t?"绘图失败":5===t?"绘图取消":6===t?"窗口等待":"绘图失败"})),D((()=>e=>1===e?"排队中":2===e?"绘制中":3===e?"成功":4===e?"失败":5===e?"超时":"-")),D((()=>e=>{if(!e)return"";return parseInt(e/60+"")+"分"+parseInt(String(e%60))+"秒"})),D((()=>e=>L[e])),D((()=>{var e;const a=(null==(e=F.task)?void 0:e.buttons)||[],t=[],l=[],s=[],i=[],n=[];return a.forEach((e=>{["U1","U2","U3","U4"].includes(e.label)?t.push(e):["V1","V2","V3","V4"].includes(e.label)?l.push(e):e.label.startsWith("Upscale")||e.label.startsWith("Vary")?s.push(e):e.label?i.push(e):n.push(e)})),[t,l,s,i,n].filter((e=>e.length))}));const O=async(e,a)=>{if(!T.isLogin)return C.warning("请先登录"),void T.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return U.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return U.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return U.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return U.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return U.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?U.UPSCALE_4X:e.label.includes("Upscale (2x)")?U.UPSCALE_2X:e.label.includes("Vary (Subtle)")?U.VARY_SUBTLE:e.label.includes("Vary (Strong)")?U.VARY_STRONG:e.label.includes("Vary (Region)")?U.VARY_REGION:e.label.includes("Make Square")?U.SQUARE:e.label.includes("Zoom Out 2x")?U.ZOOM2X:e.label.includes("Zoom Out 1.5x")?U.ZOOM1_5X:e.label.includes("Custom Zoom")?U.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?U.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?U.REDO_UPSCALE_CREATIVE:U.NONE})(a);await async function(e){const a=await S({type:M.IMAGE_ACTION,params:e}).then((e=>e.data));y({id:a}),a&&C.success("提交任务成功！")}({action:t,taskId:e.id,customId:a.customId,messageFlags:e.messageFlags||0}),V("fresh")};return(a,t)=>(c(),n("div",Aa,[d("div",ya,[ka,d("div",ha,[d("div",wa,[d("div",Ea,[d("div",Ia,[d("div",Ca,[Ta,Fa,d("p",Ua,u(F.task.createdAt),1)]),d("div",Sa,[3===e.task.status?(c(),p(g(x),{key:0,placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"bi:send",onClick:t[0]||(t[0]=a=>(async e=>{i(!0,e.id)})(e.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[Ma])),_:1})):b("",!0),m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"ph:copy-light",onClick:t[1]||(t[1]=a=>(e=>{const{fullPrompt:a}=e;Ie({text:a}),C.success("复制prompt完成！")})(e.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[Va])),_:1}),3===e.task.status?(c(),p(g(x),{key:1,placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"icons8:down-round",onClick:t[2]||(t[2]=a=>async function({imageUrl:e}){e?E.info({title:"下载图片",content:"是否确认下载当前图片",positiveText:"下载",negativeText:"取消",onPositiveClick:async()=>{const a=e.split("/"),t=await h.post("/api/midjourney/download",{url:e},{responseType:"blob"}),l=new Blob([t.data],{type:t.headers["content-type"]}),s=window.URL.createObjectURL(l),i=document.createElement("a");i.href=s,i.download=a[a.length-1],i.click()}}):C.warning("图片未生成完成暂不能下载")}(e.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[Oa])),_:1})):b("",!0),m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{onClick:t[3]||(t[3]=a=>(async e=>{const{id:a,favorite:t}=e;await I({id:a,favorite:1===t?0:1}).then((e=>e.data))&&C.success((0===t?"收藏":"取消收藏")+" 成功"),V("fresh")})(e.task)),icon:0===e.task.favorite?"uit:favorite":"uis:favorite",class:"text-[14px] mx-1 cursor-pointer"},null,8,["icon"])])),default:v((()=>[ja])),_:1})])]),d("div",null,[m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{onClick:t[4]||(t[4]=a=>(e=>{const{favorite:a}=e;E.create({type:"info",title:"确认删除",content:(1===a?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{await w({id:e.id}).then((e=>e.data))&&C.success("删除成功"),V("fresh")},onNegativeClick:()=>{}})})(e.task)),icon:"ep:delete",class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[Ra])),_:1})])]),d("p",null,u(e.task.originPrompt),1)]),d("p",Ba,u(e.task.prompt?e.task.prompt.split("--")[0]:""),1),d("div",{class:G(["relative z-0 w-auto flex align-center overflow-hidden contain",["chat-history"===e.chat?"h-[390px]":"h-[390px] "]])},[4===e.task.status?(c(),n("div",Da,[d("img",{class:"w-auto object-contain",src:g(Ce),alt:"",style:{"margin-top":"10px"}},null,8,La),d("div",Ga,[Xa,d("p",Na,u(e.task.failReason),1)])])):5===e.task.status?(c(),n("div",Ja,[d("img",{class:"w-auto object-contain",src:g(Ce),alt:""},null,8,za)])):6===e.task.status?(c(),n("div",Pa,[d("img",{class:"w-auto object-contain",src:g(Ce),alt:""},null,8,qa)])):e.task.imageUrl||e.task.progress?(c(),n("div",Ka,[m(g(A),{style:{width:"390px"},class:"w-full cursor-pointer bg-[#f9f9f9] dark:bg-[transparent] h-full flex justify-center","preview-src":e.task.imageUrl,"object-fit":"contain",src:e.task.imageUrl||""},null,8,["preview-src","src"])])):(c(),p(X,{key:3,progress:e.task.progress},null,8,["progress"]))],2)])]),d("div",Ya,[(c(!0),n(o,null,r(F.task.buttons,(e=>(c(),p(g(x),{trigger:"hover"},{trigger:v((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:a=>O(e,F.task)},[e.label?(c(),n("p",Qa,u(e.label),1)):(c(),n("p",Wa,u(e.emoji),1))],8,_a)])),default:v((()=>[d("p",Za,u(e.label||e.emoji),1)])),_:2},1024)))),256))])]))}}),$a=V(Ha,[["__scopeId","data-v-5dff4b3c"]]),et={class:"flex flex-col",style:{width:"100%"}},at={class:"h-auto flex-1"},tt=e({__name:"chatHistory",props:{task:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:a}){const l=e,s=D((()=>l.task)),i=t();D((()=>i.userInfo.avatar));const r=a,o=()=>{r("refresh")};return(e,a)=>(c(),n("div",et,[d("div",at,[m($a,{task:s.value,chat:"chat-history",onFresh:o},null,8,["task"])])]))}}),lt=e=>(T("data-v-2c790e88"),e=e(),F(),e),st={key:0},it={class:"text-sm flex items-center"},nt=lt((()=>d("div",{class:"text-[18px] mr-1"},[d("h1",null,"模型设置")],-1))),rt={"data-tool-target":"tooltip-default"},ot=lt((()=>d("div",{style:{width:"240px"}},[d("p",null,"MJ: 偏真实通用模型"),d("p",null,"NIJI: 偏动漫风格、适用于二次元模型")],-1))),ct={class:"flex items-center mt-2"},dt=lt((()=>d("p",{class:"w-1/2"},"绘画模型",-1))),ut={class:"flex items-center mt-2"},pt=lt((()=>d("p",{class:"w-1/2"},"--q 质量",-1))),vt={key:0,class:"flex items-center mt-2"},mt=lt((()=>d("p",{class:"w-1/2"},"--style风格",-1))),gt={key:1,class:"flex items-center mt-2"},ft={class:"w-1/2 flex items-center"},xt=lt((()=>d("p",null,"--s 风格化",-1))),bt=lt((()=>d("p",null,"数值越高，画面表现也会更具丰富性和艺术性",-1))),At={class:"flex items-center mt-2"},yt={class:"w-1/2 flex items-center"},kt=lt((()=>d("p",null,"--c 多样性",-1))),ht=lt((()=>d("p",null,"值越小生成的四张图风格越相似，反之差异越大",-1))),wt=lt((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"垫图图片（0-3张）"),d("p",{class:"text-[14px] mt-2 text-[#999]"},"如需垫图请至少上传一张图片")])],-1))),Et={class:"flex items-center mt-2"},It={class:"flex items-center mt-2"},Ct=lt((()=>d("p",{class:"w-1/3"},"图片相似度",-1))),Tt={class:"w-2/3"},Ft=lt((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"不想出现的词")])],-1))),Ut={class:"flex items-center mt-2"},St=lt((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),Mt={class:"flex-col mt-2"},Vt={class:"flex justify-between"},Ot=["onClick"],jt={class:"flex items-center justify-center w-6 h-6"},Rt={class:"mt-2 text-center text-xs leading-none text-current"},Bt={class:"text-[12px] scale-90"},Dt={key:0,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Lt={class:"flex justify-between"},Gt={class:"text-base py-1"},Xt={class:"text-[#3076fd]"},Nt={class:"flex items-center"},Jt=re('<div class="mt-3 space-y-1 items-center text-[#3076fd]" data-v-2c790e88><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>绘画单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>图生图单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>放大单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 1积分 </span></div></div>',1),zt={key:0},Pt=lt((()=>d("h1",{class:"text-[18px] my-2"},"图片解读",-1))),qt=lt((()=>d("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),Kt=lt((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"上传图片（只能1张）")])],-1))),Yt={class:"flex items-center mt-2"},_t=["src"],Qt={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Wt=[re('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2)],Zt={key:1},Ht=lt((()=>d("h1",{class:"text-[20px] my-2"},"图混图",-1))),$t=lt((()=>d("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),el=lt((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"上传图片（2-5张）")])],-1))),al={class:"flex items-center mt-2"},tl={class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},ll=lt((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),sl={class:"flex-col mt-2"},il={class:"flex justify-between"},nl=["onClick"],rl={class:"flex items-center justify-center w-6 h-6"},ol={class:"mt-2 text-center text-xs leading-none text-current"},cl={class:"text-[12px] scale-90"},dl={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1 select-none"},ul=[re('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2)],pl={key:2,class:"flex flex-col"},vl={class:"flex justify-between mb-2"},ml=["onClick"],gl={class:"ml-1 select-none"},fl=["disabled"],xl={class:"inline"},bl={key:2,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Al=lt((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[16px]"},"生成模式")])],-1))),yl={class:"mb-2"},kl=["onClick"],hl={class:"flex flex-row justify-between"},wl={key:3,class:"flex flex-col mt-4"},El=["disabled"],Il={class:"select-none text-white"},Cl={class:"inline"},Tl=V(e({__name:"configure",emits:["fresh"],setup(e,{emit:a}){const{updateDrawId:i}=t(),A=l(),h=t(),w=D((()=>h.userBalance.sumDrawMjCount)),E=D((()=>h.mjDrawForm)),{isMobile:I}=N(),C=J(),T=z(),F=D((()=>C.path)),V=s(""),j=O({files:[],previewImages:[]}),R=a,B=s(!1),L=D((()=>F.value.includes("text-to-image")?M.TEXT_TO_IMAGE:F.value.includes("image-to-text")?M.IMAGE_TO_TEXT:F.value.includes("image-mix-image")?M.IMAGE_MIX_IMAGE:M.NONE)),X=D((()=>L.value===M.IMAGE_MIX_IMAGE?j.files.length<=1:L.value===M.IMAGE_TO_TEXT&&j.files.length<=0)),{selectFile:re}=P(),de=async()=>{const e=await re();V.value=URL.createObjectURL(e),j.files=[e]},ue=D((()=>E.value.baseImage.map((e=>{const a=e.slice(e.lastIndexOf("/")+1,e.length);return{url:e,id:a.split(".")[0],name:a,status:"finished"}})))),pe=s(!1),ve=D((()=>e=>E.value.size===e));async function me(){pe.value=!0;try{await h.getUserInfo(),pe.value=!1}catch(e){pe.value=!1}}const ge=["jpg","jpeg","png"],fe=e=>{if("finished"===e.file.status||"removed"===e.file.status)return;const a=e.file.type.split("/")[1];if("pending"===e.file.status&&ge.includes(a)){const a=new FileReader;a.readAsDataURL(e.file.file),a.onload=function(){E.value.baseImage.push(a.result),we()}}},xe=e=>{"pending"===e.file.status&&j.files.push(e.file.file),"removed"===e.file.status&&(j.files=j.files.filter((a=>a!==e.file.file)))},be=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>4?(A.warning("最多只能上传5张图片"),!1):ge.includes(a)&&e.fileList.length<=5},Ae=e=>{const a=e.file.type.split("/")[1];return e.fileList.length>2?(A.warning("最多只能上传3张图片"),!1):ge.includes(a)&&e.fileList.length<=2},ye=e=>{if("finished"===e.file.status)return E.value.baseImage=E.value.baseImage.filter((a=>-1===a.search(e.file.url))),void we();const a=e.file.id+"."+e.file.type.split("/")[1];E.value.baseImage=E.value.baseImage.filter((e=>-1===e.search(a))),we()},ke=e=>{const a=e.file.name;E.value.extendParam=E.value.extendParam.filter((e=>!e.filename.includes(a))),we()},he=e=>{E.value.size=e.value,we()},we=async()=>{h.updateMjDrawForm(E.value)},Ee=e=>{E.value.mode=e.value,we()},Ie=async()=>{if(!h.isLogin)return A.warning("请先登录"),void h.setLoginDialog(!0);if(!E.value.prompt)return;const e=E.value.baseImage.length?E.value.baseImage.join(" "):void 0;let a=E.value.prompt,t="";/--\w+\s\S+/g.test(a)&&(t=a.slice(a.indexOf("--"),a.length));let l=t||(()=>{let e="";E.value.sensitiveWords&&(e+=` --no ${E.value.sensitiveWords}`);const a=E.value.model.split("-");return a[0].includes("MJ")&&(e+=` --v ${a[1]}`,e+=` --s ${E.value.stylize}`),a[0].includes("NIJI")&&(e+=` --niji ${a[1]}`,E.value.style&&"5"===a[1]&&(e+=` --style ${E.value.style}`)),e+=` --ar ${E.value.size}`,e+=` --c ${E.value.diversity}`,e+=` --q ${E.value.quality}`,e+=` --${ce[E.value.mode]}`,E.value.baseImage.length>0&&(e+=` --iw ${E.value.similarity}`),e})();const s=await S({type:M.TEXT_TO_IMAGE,params:{action:U.TEXT_TO_IMAGE,extend:l,prompt:a,imageUrl:e,mode:E.value.mode,translate:E.value.translate}}).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&T.updateVipDialog(!0)}));s&&A.success("创建文生图任务成功"),E.value.prompt="",i({id:s}),R("fresh")},Ce=async()=>{if(!h.isLogin)return A.warning("请先登录"),void h.setLoginDialog(!0);if(L.value!==M.NONE){if(L.value===M.TEXT_TO_IMAGE)await Ie();else{const e=new FormData;L.value===M.IMAGE_TO_TEXT&&(e.append("type",L.value+""),e.append("action",M.IMAGE_TO_TEXT+""),e.append("mode",E.value.mode+""),e.append("files",j.files[0])),L.value===M.IMAGE_MIX_IMAGE&&(e.append("type",L.value+""),e.append("action",M.IMAGE_MIX_IMAGE+""),e.append("mode",E.value.mode+""),e.append("size",E.value.size+""),j.files.forEach(((a,t)=>{e.append("files",a)})));const a=await oe(e).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&T.updateVipDialog(!0)}));a&&A.success(L.value===M.TEXT_TO_IMAGE?"创建文生图任务成功":L.value===M.IMAGE_TO_TEXT?"创建图生文任务成功":L.value===M.IMAGE_MIX_IMAGE?"创建图混图任务成功":"失败"),a&&i({id:a}),a&&R("fresh")}j.files=[]}else A.error("操作类型错误")};return(e,a)=>(c(),n("div",{class:G([[g(I)?"p-2 h-auto":"overflow-y-auto w-full h-[90vh] p-4 "],"sm:pt-6 bg-[#fff] dark:bg-[#1F1F38] sm:w-[20rem] shrink-0"])},[F.value.includes("text-to-image")?(c(),n("div",st,[d("div",{class:G(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[d("div",it,[nt,d("div",rt,[m(g(x),{placement:"right-end",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"ri:error-warning-line",class:"text-base"})])),default:v((()=>[ot])),_:1})])]),d("div",ct,[dt,m(g(K),{value:E.value.model,"onUpdate:value":[a[0]||(a[0]=e=>E.value.model=e),a[1]||(a[1]=e=>{return(a=E.value.model).includes("NIJI")&&(E.value.style=""),a.includes("MJ")&&(E.value.style="raw"),void we();var a})],size:"small",options:g(q)},null,8,["value","options"])]),d("div",ut,[pt,m(g(K),{value:E.value.quality,"onUpdate:value":[a[2]||(a[2]=e=>E.value.quality=e),we],size:"small",options:g(Y)},null,8,["value","options"])]),E.value.model.includes("5")?(c(),n("div",vt,[mt,E.value.model.includes("NIJI-5")?(c(),p(g(K),{key:0,value:E.value.style,"onUpdate:value":[a[3]||(a[3]=e=>E.value.style=e),we],size:"small",options:g(_)},null,8,["value","options"])):b("",!0),E.value.model.includes("MJ-5")?(c(),p(g(K),{key:1,value:E.value.style,"onUpdate:value":[a[4]||(a[4]=e=>E.value.style=e),we],size:"small",options:g(Q)},null,8,["value","options"])):b("",!0)])):b("",!0),E.value.model.includes("MJ")?(c(),n("div",gt,[d("div",ft,[xt,m(g(x),{placement:"right-end",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:v((()=>[bt])),_:1})]),m(g(W),{value:E.value.stylize,"onUpdate:value":[a[5]||(a[5]=e=>E.value.stylize=e),we],max:1e3,min:0,step:1},null,8,["value"])])):b("",!0),d("div",At,[d("div",yt,[kt,m(g(x),{placement:"right-end",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:v((()=>[ht])),_:1})]),m(g(W),{value:E.value.diversity,"onUpdate:value":[a[6]||(a[6]=e=>E.value.diversity=e),we],max:100,min:1,step:1},null,8,["value"])])],2),d("div",{class:G(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[wt,d("div",Et,[m(g(Z),{accept:".jpg,.jpeg,.png",action:"","default-file-list":ue.value,"default-upload":!1,"on-change":fe,"on-before-upload":Ae,"on-remove":ye,"list-type":"image-card"},null,8,["default-file-list"])]),d("div",It,[Ct,d("div",Tt,[m(g(K),{value:E.value.similarity,"onUpdate:value":[a[7]||(a[7]=e=>E.value.similarity=e),we],size:"small",options:g(H)},null,8,["value","options"])])])],2),d("div",{class:G(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[Ft,d("div",Ut,[m(g($),{value:E.value.sensitiveWords,"onUpdate:value":a[8]||(a[8]=e=>E.value.sensitiveWords=e),onChange:we,placeholder:"多个词用逗号隔开 如 漂亮，帅哥"},null,8,["value"])])],2),d("div",{class:G(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[St,d("div",Mt,[(c(!0),n(o,null,r(g(ae),(e=>(c(),n("div",Vt,[(c(!0),n(o,null,r(e,(e=>(c(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:a=>he(e)},[d("div",{class:G(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[d("div",jt,[d("div",{class:G(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:ee({width:e.width,height:e.height})},null,6)]),d("div",Rt,[d("p",null,u(e.aspect),1),d("p",Bt,u(e.label),1)])],2)],8,Ot)))),128))])))),256))])],2),g(I)?b("",!0):(c(),n("div",Dt,[d("div",Lt,[d("span",Gt,[y("钱包余额( "),d("b",Xt,u(w.value||0),1),y(" 积分)")]),d("span",Nt,[m(g(k),{text:"",size:"tiny",type:"primary",loading:pe.value,onClick:me},{default:v((()=>[y("刷新")])),_:1},8,["loading"]),m(g(x),{placement:"right-end",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"ri:error-warning-line",class:"text-base ml-2"})])),default:v((()=>[y(" 绘画账户信息 ")])),_:1})])]),Jt]))])):b("",!0),F.value.includes("image-to-text")||F.value.includes("image-mix-image")?(c(),n("div",{key:1,class:G(["flex justify-between flex-col",[g(I)?"":"h-full"]])},[F.value.includes("image-to-text")?(c(),n("div",zt,[g(I)?b("",!0):(c(),n(o,{key:0},[Pt,qt],64)),d("div",{class:G(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl mt-4"]])},[Kt,d("div",Yt,[d("div",{class:"w-[96px] overflow-hidden object-contain h-[96px] flex justify-center items-center rounded hover:dark:border-gray-500 hover:border-gray-400 border-dashed border border-gray-300 cursor-pointer dark:border-gray-600",onClick:de},[V.value?(c(),n("img",{key:0,src:V.value,class:"object-contain w-full h-full",alt:""},null,8,_t)):(c(),p(g(f),{key:1,icon:"octicon:plus-16",class:"text-[20px]"}))])])],2),g(I)?b("",!0):(c(),n("div",Qt,Wt))])):b("",!0),F.value.includes("image-mix-image")?(c(),n("div",Zt,[g(I)?b("",!0):(c(),n(o,{key:0},[Ht,$t],64)),d("div",{class:G(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl mt-4"]])},[el,d("div",al,[m(g(Z),{accept:".jpg,.jpeg,.png",action:"",disabled:j.files.length>=5,"default-file-list":j.files,"default-upload":!1,"on-change":xe,"on-before-upload":be,"on-remove":ke,"list-type":"image-card"},null,8,["disabled","default-file-list"])])],2),d("div",tl,[ll,d("div",sl,[(c(!0),n(o,null,r(g(te),(e=>(c(),n("div",il,[(c(!0),n(o,null,r(e,(e=>(c(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:a=>he(e)},[d("div",{class:G(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[d("div",rl,[d("div",{class:G(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:ee({width:e.width,height:e.height})},null,6)]),d("div",ol,[d("p",null,u(e.aspect),1),d("p",cl,u(e.label),1)])],2)],8,nl)))),128))])))),256))])]),g(I)?b("",!0):(c(),n("div",dl,ul))])):b("",!0),g(I)?b("",!0):(c(),n("div",pl,[d("ul",vl,[(c(!0),n(o,null,r(g(se),(e=>(c(),n("li",{class:"flex justify-start cursor-pointer",onClick:a=>Ee(e)},[m(g(le),{size:"small",checked:E.value.mode===e.value,value:e.value,onChange:a=>Ee(e)},null,8,["checked","value","onChange"]),d("p",gl,u(e.label),1)],8,ml)))),256))]),d("button",{class:G(["w-full flex justify-center items-center h-10 rounded-full text-center",[X.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed ":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:X.value,onClick:Ce},[B.value?(c(),p(g(f),{key:0,icon:"eos-icons:bubble-loading",class:"mr-1"})):b("",!0),B.value?b("",!0):(c(),n("p",{key:1,class:G(["select-none",[X.value?" text-[#333] dark:text-[#ccc]":" text-[#fff] dark:text-[#fff]"]])},[y("提交任务("),d("span",xl,[m(g(ie),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")],2))],10,fl)]))],2)):b("",!0),g(I)?(c(),n("div",bl,[Al,d("ul",yl,[(c(!0),n(o,null,r(g(ne),(e=>(c(),n("li",{class:G(["w-full my-2 p-2 dark:bg-[#42425F] bg-[#F7F7F7] cursor-pointer",[g(I)?"rounded":""]]),onClick:a=>Ee(e)},[d("div",hl,[d("p",{class:G(["select-none",[E.value.mode===e.value?"text-[#3076ED]":""]])},u(e.label),3),m(g(le),{size:"small",checked:E.value.mode===e.value,value:e.value,onChange:a=>Ee(e)},null,8,["checked","value","onChange"])])],10,kl)))),256))])])):b("",!0),g(I)?(c(),n("div",wl,[d("button",{class:G(["w-full flex justify-center items-center h-10 rounded-full text-center",[X.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:X.value,onClick:Ce},[d("p",Il,[y("提交任务("),d("span",Cl,[m(g(ie),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")])],10,El)])):b("",!0)],2))}}),[["__scopeId","data-v-2c790e88"]]),Fl={class:"input-message"},Ul={class:"flex items-stretch space-x-2"},Sl={class:"relative flex-1 mj-input"},Ml={class:"flex justify-between items-center mb-2"},Vl={class:"flex flex-start items-center text-[16px]"},Ol=[d("p",{class:"select-none text-[12px]"},"咒语生成器",-1)],jl={class:"absolute bottom-2 left-2"},Rl={class:"flex items-center justify-between"},Bl={class:"flex justify-between items-center"},Dl=d("label",{class:"text-sm"},"自动翻译",-1),Ll=e({__name:"chatMessage",setup(e){const{isMobile:a}=N(),{updatePromptWords:l,updateInspireDialog:i}=t(),r=s(""),o=D((()=>a.value?de("chat.placeholderMobile"):de("chat.placeholder"))),u=()=>{l({prompt:r.value})},p=()=>{i(!0)};return(e,t)=>(c(),n("footer",Fl,[d("div",{class:G(["m-auto",g(a)?"px-2 py-1":"mt-4"])},[d("div",Ul,[d("div",Sl,[d("div",Ml,[d("p",Vl,[m(g(f),{icon:"ri:input-field"}),y(" 输入描述词 ")]),d("div",{class:"bg-[#F7F7F7] bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r rounded-3xl flex justify-start py-1 px-2 cursor-pointer hover:bg-[#3144F1] hover:dark:bg-[#3144F1]",onClick:p},Ol)]),m(g($),{ref:"inputRef",value:r.value,"onUpdate:value":[t[0]||(t[0]=e=>r.value=e),u],type:"textarea",round:"",class:"pb-10",clearable:"",maxlength:"500","show-count":"",placeholder:o.value,rows:3},null,8,["value","placeholder"]),d("div",jl,[d("div",Rl,[d("div",Bl,[Dl,m(g(ue),{text:"",size:"small",round:""})])])])])])],2)]))}}),Gl={class:"flex justify-between"},Xl={class:"mr-2 w-full"},Nl={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},Jl={class:"p-2"},zl={class:"mb-2"},Pl={class:"level-classify text-[15px] py-2 pt-2"},ql={key:0,class:"my-1"},Kl=["onClick"],Yl={class:"select-none text-white"},_l={class:"w-full h-full flex flex-col"},Ql={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},Wl=[d("p",{class:"dark:text-white text-white"},"前往制作",-1)],Zl=e({__name:"createInspiration",setup(e){const a=s(""),l=t(),i=D((()=>l.inspirationDialog)),f=O({level1:[],level2:[]}),x=s(0),A=async e=>{x.value=e,f.level2=await fe({id:e}).then((e=>e.data.rows))},y=()=>{l.updatePromptWords({prompt:a.value}),l.updateInspireDialog(!1)},k=()=>{l.updateInspireDialog(!1)};return pe((()=>{(async()=>{const e=await xe({level:0}).then((e=>e.data)),{level1:a}=e;await A(a[0].id),Object.assign(f,{level1:a})})()})),(e,t)=>(c(),p(g(ge),{show:i.value,"onUpdate:show":t[1]||(t[1]=e=>i.value=e),style:{width:"100vw","max-width":"100vw",height:"100vh"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1,onClose:k},{default:v((()=>[d("div",Gl,[d("div",Xl,[m(g(me),{value:x.value,"onUpdate:value":[t[0]||(t[0]=e=>x.value=e),A],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:v((()=>[(c(!0),n(o,null,r(f.level1,(e=>(c(),p(g(ve),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),d("div",Nl,[d("ul",Jl,[(c(!0),n(o,null,r(f.level2,(e=>(c(),n("li",null,[d("div",zl,[d("span",Pl,u(e.classifyName),1)]),e.children.length>0?(c(),n("div",ql,[(c(!0),n(o,null,r(e.children,(e=>(c(),n("div",{key:e.id,class:G(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[a.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:t=>(e=>{a.value.includes(e.incantationEn)?a.value=a.value.replace(e.incantationEn+",",""):a.value+=e.incantationEn+","})(e)},[d("button",Yl,u(e.incantationCn)+" "+u(e.incantationEn),1)],10,Kl)))),128))])):b("",!0)])))),256))])])]),d("div",_l,[d("div",Ql,[d("p",null,u(a.value),1)]),d("div",{onClick:y,class:"rounded-full flex items-center justify-center mt-2 w-full h-[28px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},Wl)])])])),_:1},8,["show"]))}}),Hl={class:"text-image-container flex flex-row"},$l={class:"w-full pt-2 flex flex-col justify-between"},es=e({__name:"text2image",setup(e){const a=t(),l=J();D((()=>a.drawId));const i=D((()=>l.path));return s({}),s(),(e,a)=>(c(),n(o,null,[m(Zl,{ref:"inspirationRef"},null,512),d("div",Hl,[d("div",$l,[i.value.includes("text-to-image")?(c(),p(Ll,{key:0})):b("",!0),m(Tl,{ref:"configRef"},null,512)])])],64))}}),as="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAgZJREFUOE+llMuLz2EYxT+HEBJSLmP8AS6RZoOUe2SQJGUWwqxFLIgVpbDRsCVWNlLkFrmNYuNebhsbxhSRSJTi+J7p/enLTLPx7r7v+zznOc95zvMV/xzbS4DDwEBghaRXtpuAs8AwYIekK/U0NT5sDwBOAWuBI8D4gACXgUXAw+rtKbAFOAO0SfqV/DpIkrqBxZJu5NH2emApcAc4niTbAbwKNEl69xdISXoG7JcURn0e223AHklTGwF1JqOALqBVUmc/IPOB80CzpM89TGyPAGYAB4HhwEwp1w7oNmB6BXwP6JD0zXYKPwa+AjuBJ4lOf+nzJrBRUpftIcCDCngocB1YBryttJhTCjQDJ4EFeQ/Ie6BdUij2HNvtFcu9wBRJX2yPBV4CmySdq8Wtqto6FpAfwCxJGWEDJD4ZI2lD7e5iVblT0qHaXQtwt8EkFRJUZ7IPmFyYjANe9MGkFTgRkGuVHvNK75slddseXDSJ0A1NXgNziyYT45ui5a2AjMxEgANAkltKYO63luncL9P5XqYT0SPDLuBR3SejK4HfAMsl3e7HJ2Gd1idJ+vQ/jt0taVpfjo142Z2FcazteCRmm110OVp2J96Ijr13x3ZW/3TZ3A4g9p4AXADWFNc+LzrFU+sk/ezVTjHayuq/ES98qOy9WtJH23HopWo5BwHbJeX38Of8Bg9c7FvbPLaUAAAAAElFTkSuQmCC",ts="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAcpJREFUSEvVlL1L11EUxj9PNDaUg0ovtARGSdSUvagYki0RpEtDEC3R0hBobwaBZboYDYoIoUiDEATNgqB/gUO1NTVUtNVQ29PvyFV+L36/3n60dOBO9zyfe8+5z7niH4TtFuAkcAm4CnxVs1zbncB54DLQA+ypYn3OBts+DJwDzgIDwJGSS40Wgm3vBrqBLqAf6ANyL9Jdk2i7AziTSrsIHGiiVd+Bdtm+AFwBTqfVBKtGsiTpWoD9l6QfwG+gtUB3W9JsgG8CrzLgAXyQgKE5VKBpl/Rto8e243GWCxI/AVOSZmyHTxeAtoLcj5KOx97W49kOT64Cu5IoDpqW9C4dfg+Y2KGyF5Lu1oCTOOAxOYuS1jchtt8AQxnt6pW01gCuF9reW7HeCnAqAxoP2iLpVynY9tHU94MZ0EhZlhTe34iyyRtPLsjk8ljS0xzwQ+BZLhXolPQhB3wfeJ4J/iJpf3VuWStGgMmUHLffBwwXHPRa0vVc8CgwBsxJupXsOA/c2AY+KOltLngJOFYRnKgW2H4J3KmDt0qKX20ryloR3+d7ST+38XdUEhVFrFems8HnuR93Q/W2Y8QfVTaeSJqqT2gavJNb/j/wH+wWjGlt1nwMAAAAAElFTkSuQmCC",ls=e({__name:"baiduThink",setup(e,{expose:a}){const n=s(!1),r=s(!1),o=s(!1),d=s(""),u=s(""),f=l(),x=t(),A=D((()=>r.value||!d.value)),h=()=>{d.value=u.value,w()},w=async()=>{if(o.value=!1,u.value=d.value,!d.value)return f.info("请输入简单的描述!"),r.value=!1,void(o.value=!1);r.value=!0;const e=await be({prompt:d.value}).then((e=>e.data||"")).catch((()=>{r.value=!1,o.value=!1}));r.value=!1,d.value=e,o.value=!0},E=()=>{x.updatePromptWords({prompt:d.value}),n.value=!1,i.emit("think",d.value)};return a({open:()=>{n.value=!0}}),(e,a)=>(c(),p(g(ge),{show:n.value,"onUpdate:show":a[1]||(a[1]=e=>n.value=e),preset:"dialog",title:"AI帮我想","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{action:v((()=>[o.value?(c(),p(g(k),{key:0,round:"",onClick:h},{default:v((()=>[y("重新联想")])),_:1})):b("",!0),o.value?(c(),p(g(k),{key:1,round:"",onClick:E},{default:v((()=>[y("使用此描述")])),_:1})):b("",!0),o.value?b("",!0):(c(),p(g(k),{key:2,round:"",onClick:w,disabled:A.value},{default:v((()=>[y("生成此描述")])),_:1},8,["disabled"]))])),default:v((()=>[m(g($),{value:d.value,"onUpdate:value":a[0]||(a[0]=e=>d.value=e),clearable:"",type:"textarea",loading:r.value,bordered:"",disabled:r.value,placeholder:"请输入简单的描述，AI将智能完善创意描述","show-count":"",rows:7,maxlength:"3000"},null,8,["value","loading","disabled"])])),_:1},8,["show"]))}}),ss={class:"flex justify-between"},is={class:"mr-2 w-10/12"},ns={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},rs={class:"p-2"},os={class:"mb-2"},cs={class:"level-classify text-[15px] py-2 pt-2"},ds={key:0,class:"my-1"},us=["onClick"],ps={class:"select-none text-white"},vs={class:"w-2/12 h-full flex flex-col"},ms={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},gs=[d("p",{class:"dark:text-white text-white"},"前往制作",-1)],fs=e({__name:"createInspiration",setup(e,{expose:a}){const l=s(!1),f=s(""),x=t(),A=O({level1:[],level2:[]}),y=s(0),k=async e=>{y.value=e,A.level2=await fe({id:e}).then((e=>e.data.rows))},h=()=>{x.updatePromptWords({prompt:f.value}),i.emit("selectIncantation",f.value),l.value=!1},w=async()=>{const e=await xe({level:0}).then((e=>e.data)),{level1:a}=e;await k(a[0].id),Object.assign(A,{level1:a})};return a({open:()=>{l.value=!0,w()}}),(e,a)=>(c(),p(g(ge),{show:l.value,"onUpdate:show":a[1]||(a[1]=e=>l.value=e),style:{width:"1200px",height:"600px"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{default:v((()=>[d("div",ss,[d("div",is,[m(g(me),{value:y.value,"onUpdate:value":[a[0]||(a[0]=e=>y.value=e),k],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:v((()=>[(c(!0),n(o,null,r(A.level1,(e=>(c(),p(g(ve),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),d("div",ns,[d("ul",rs,[(c(!0),n(o,null,r(A.level2,(e=>(c(),n("li",null,[d("div",os,[d("span",cs,u(e.classifyName),1)]),e.children.length>0?(c(),n("div",ds,[(c(!0),n(o,null,r(e.children,(e=>(c(),n("div",{key:e.id,class:G(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[f.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:a=>(e=>{f.value.includes(e.incantationEn)?f.value=f.value.replace(e.incantationEn+",",""):f.value+=e.incantationEn+","})(e)},[d("button",ps,u(e.incantationCn)+" "+u(e.incantationEn),1)],10,us)))),128))])):b("",!0)])))),256))])])]),d("div",vs,[d("div",ms,[d("p",null,u(f.value),1)]),d("div",{onClick:h,class:"rounded-full flex items-center justify-center mt-2 w-full h-[42px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},gs)])])])),_:1},8,["show"]))}}),xs=e=>(T("data-v-f1440325"),e=e(),F(),e),bs={class:"contentCenterBottom"},As={class:"inpBoxLeft"},ys={class:"inputBox"},ks={key:0},hs={class:"drawModeBox bg-[#E8E8E8] dark:bg-[#1A1A2F]"},ws=["onClick"],Es={class:"text-[#696969] dark:text-[#fff] modeName"},Is=xs((()=>d("p",null,"普通模式：高峰期预计需要10分钟出图（会员免费使用） 快速模式：平均1-2分钟出图（每张消耗4绘画积分）",-1))),Cs=xs((()=>d("div",{class:"smallBox bg-[#E8E8E8] dark:bg-[#1A1A2F]",style:{position:"absolute"}},null,-1))),Ts=["disabled"],Fs={class:""},Us={class:"selectBox"},Ss=["onClick"],Ms={class:"other"},Vs=[xs((()=>d("img",{class:"setImg",src:as,alt:""},null,-1))),xs((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"设置",-1)))],Os={class:"otherItem"},js=xs((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"自动翻译",-1))),Rs=[xs((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"联想",-1))),xs((()=>d("img",{class:"setImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAAAXNSR0IArs4c6QAAAyxJREFUOE+VlG9olWUYxn/Xe85Et2bSRMusvkiC/YFMjEpoO2eYmlKki/rgoj8UpBBt50iU1CyR2DlbZC7UFEKSoEQhmNA675mFZEXL8FMfpEFlhGjM2hxz23u196zNuZrm++l57+e6f/f93M9z32LSV93qBcEQT0qsMCyUKLP4HXPMER/+eZLPu3ZrcLKfxgy1b/laJ2kGnrP5dQT0tc13hv4AFgJLEYttugmoLzbqq4mwEii11TcynYLgOpvNxT720qTootCqbmYuAbMC2CFIR7ChM6P3xjRa9Lqn3VDJUcxcJakpvKSfLknbVrqFL4FlmGfDrPamc25BNESwtjOjg7Fe6bxfAFoxS8OsTizPuaIjq74SrMlBTQWPB2J/6V8cChv1aLxM5/0B8DAXWBC+orMx6CRwdNBsSYpDwCKJfTbhyDFmD0d8rwTzMCujgG1HGhTrqX7bsxLD/ILIhI3aFYOMWENEHaJ+/MxifxSxBNFWzOjdybf0T1admLNhVutGQXCbYbPgiTGHyKyOQyQjThRe1s9TgHYZ7i5mtESpnB2Zu8qgLwpKRb0e6BR8EwXsKDbo1H9BYltt3scNiTCjO0sZOeLB4iZ1xIUG5nRk1X3Pds+ceYGnIljf08uKriadqfvYid+6KZ8mFktskXgA6Al7qYpB5zDvhFm99q/ItlItbDxXyc6KXm5Pmi8EM4DkRO0QrFIq74+AeVU3k/rkMQ1PFNzb6hnl5mnMMpt10qWAMW0gvtXK7V4zMMCnQcDhQqMemghKNXu5Aj6bqkZjdsOZUovU5nzc4g7Ei8MB7X+Vc6rreQ2mcn51JIutVwCd7qlkfglU0+J0YAoTHOrCjA7U5r3PsP5yIMPBYkZrx7s/lXO7xKrYybBnpGUOBwG7bWZfBhQZNhQz2jkOSufdCOSvVI/J+zKbClnlLmaUd/yy37xq0BC3xC+/BEpvc5Wn8YNg/lWBzPnzCW461qA/RkE5P4PY8z8gbZF432YgmUDu53Q8QkYnTDwS2nxN0M8bwEZB2RTA9jCj1VMFG69RLLgv5znTA+qJeAS4VVCJSsH6huH+Ixn9OBXob7wuQNwmduTfAAAAAElFTkSuQmCC",alt:""},null,-1)))],Bs=[xs((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"咒语生成器",-1)))],Ds={class:"inpBoxRight"},Ls={key:0},Gs=["disabled"],Xs=[xs((()=>d("img",{class:"sendImg",src:ts,alt:""},null,-1))),xs((()=>d("p",{class:"sendText"},"发送",-1)))],Ns={key:1},Js=[xs((()=>d("img",{class:"sendImg",src:ts,alt:""},null,-1))),xs((()=>d("p",{class:"sendText"},"发送",-1)))],zs=V(e({__name:"newSend",props:{imageList:{type:Array}},emits:["isSettingShow","getjobId","resquestStatus"],setup(e,{emit:a}){const A=Ae(),y=J(),k=t(),h=D((()=>k.mjDrawForm)),w=a,E=l(),I=s(),C=s(!1),T=s(0);function F(){C.value?T.value=1:T.value=0}i.on("selectIncantation",(e=>{I.value=e}));const V=D((()=>y.path)),O=s(!1);function j(){O?(w("isSettingShow",!O.value),O.value=!O.value):(w("isSettingShow",O.value),O.value=!O.value)}const B=s({}),L=s(),X=s([]),N=s(0);function z(){L.value=I.value}const P=s("--ar 1:1");B.value.no="",B.value.v="--v 5.2",B.value.sizeValue=P.value,B.value.q="--q 0",B.value.s="--s 0",B.value.c="--c 0",B.value.fast="--fast",i.on("--no",(e=>{B.value.no=e})),i.on("base64Array",(e=>{X.value=e})),i.on("--v",(e=>{B.value.v=e})),i.on("sizeValue",(e=>{P.value=e,B.value.sizeValue=P.value})),i.on("--q",(e=>{B.value.q=e.type+" "+e.sliderValue})),i.on("--s",(e=>{B.value.s=e.type+" "+e.sliderValue})),i.on("--c",(e=>{B.value.c=e.type+" "+e.sliderValue}));const q=s(1),K=s();i.on("imageForm",(e=>{K.value=e}));const Y=D((()=>V.value.includes("text-to-image")?M.TEXT_TO_IMAGE:V.value.includes("image-to-text")?M.IMAGE_TO_TEXT:V.value.includes("image-mix-image")?M.IMAGE_MIX_IMAGE:M.NONE));let _=new FormData;function Q(){0==N.value&&(Y.value==M.TEXT_TO_IMAGE?(H(),L.value=""):Y.value==M.IMAGE_TO_TEXT?K.value?(N.value=1,i.emit("upLoadIsShow",0),_.append("type",Y.value+""),_.append("action",M.IMAGE_TO_TEXT+""),_.append("mode",h.value.mode+""),_.append("files",K.value.files[0]),oe(_).then((e=>{200==e.code&&(w("getjobId",e.data),w("resquestStatus",1),_=new FormData)}))):E.error("请上传一张图片"):Y.value==M.IMAGE_MIX_IMAGE&&Z())}i.on("status",(e=>{N.value=e,0==e&&(I.value="")}));const W=s("SQUARE");i.on("imageMixImageSize",(e=>{W.value=e}));const Z=()=>{let e={type:Y.value+"",action:M.IMAGE_MIX_IMAGE+"",mode:h.value.mode+"",base64Array:X.value,size:W.value};X.value.length<2?E.error("请上传2-5张图片"):(i.emit("upLoadIsShow",0),N.value=1,oe(e).then((e=>{N.value=1,200==e.code&&(w("getjobId",e.data),w("resquestStatus",1))})))},H=()=>{O.value?(w("isSettingShow",!O.value),O.value=!O.value):(w("isSettingShow",O.value),O.value=!O.value);let{no:e,v:a,sizeValue:t,q:l,s:s,c:i,fast:n}=B.value;N.value=1,S({type:M.TEXT_TO_IMAGE,params:{prompt:L.value,action:U.TEXT_TO_IMAGE,extend:(""!=e?`--no ${e} `:"")+a+" "+t+" "+l+" "+s+" "+i+" "+n,base64Array:X.value.length?X.value:[],mode:q.value,translate:T.value}}).then((e=>{console.log("123456789",e),200==e.code&&(w("getjobId",e.data),w("resquestStatus",1))}))},$=s("/midjourney/text-to-image");$.value=A.currentRoute.value.fullPath;const ae=[{name:"快速模式",id:0,value:"--fast",icon:"/src/views/midjourney/img/right1.png",type:1},{name:"休闲模式",id:1,value:"--relax",icon:"/src/views/midjourney/img/importent.png",type:2},{name:"Turbo模式",id:2,value:"--turbo",icon:"/src/views/midjourney/img/importent.png",type:3}],te=s(!1),le=()=>{te.value=!te.value},se=s("");if(localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));se.value=e.name,q.value=e.type}else se.value="快速模式";const ie=s(),ne=s(),re=()=>{console.log(Y),1==Y.value&&ie.value.open()},ce=()=>{1==Y.value&&ne.value.open()};return i.on("prompts",(e=>{I.value=e,L.value=e})),i.on("think",(e=>{I.value=e})),i.on("error",(e=>{N.value=0})),(e,a)=>(c(),n(o,null,[m(ls,{ref_key:"thinkRef",ref:ie},null,512),m(fs,{ref_key:"inspirationRef",ref:ne},null,512),d("div",bs,[d("div",As,[d("div",ys,[te.value?(c(),n("div",ks,[d("div",hs,[(c(),n(o,null,r(ae,(e=>d("div",{key:e.id,class:"drawModeText",onClick:a=>(e=>{B.value.fast=e.value,q.value=e.type,se.value=e.name,te.value=!1,localStorage.setItem("drawMode",JSON.stringify(e))})(e)},[d("p",Es,u(e.name),1),1==e.type?(c(),p(g(x),{key:0,trigger:"hover",placement:"top"},{trigger:v((()=>[d("div",null,[m(g(f),{style:{"font-size":"16px"},class:"text-[#D2D2D2] dark:text-[#9898A1]",icon:"f7:exclamationmark-circle-fill"})])])),default:v((()=>[Is])),_:1})):b("",!0),1!=e.type?(c(),p(g(f),{key:1,style:{"font-size":"16px"},class:"text-[#B3B3B3] dark:text-[#9898A1]",icon:"mingcute:right-line"})):b("",!0)],8,ws))),64)),Cs])])):b("",!0),d("div",{class:"selectBox1 dark:bg-[#1A1A2F] bg-[#E8E8E8;]",onClick:le},"# "+u(se.value),1),ye(d("input",{disabled:2==Y.value||3==Y.value,class:"inp dark:bg-[#1F1F38] bg-[#fff]",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>I.value=e),onInput:z,placeholder:"在此处描述画图的关键字，注意不要在此填入萝莉、性感血腥等敏感词内容，100%不会出图"},null,40,Ts),[[ke,I.value]])]),d("div",Fs,[d("div",Us,[(c(!0),n(o,null,r(g(he),(e=>(c(),n("div",{class:G($.value==e.menuPath?"activeSelectItem text-[#fff]":"selectItem text-[#808080] bg-[#E8E8E8;] dark:bg-[#1A1A2F] dark:text-[#fff]"),key:e.key,onClick:a=>function(e){A.replace({path:e.menuPath}),("图生图"==e.menuName||"图生文"==e.menuName)&&i.emit("upLoadShow",1)}(e)},u(e.menuName),11,Ss)))),128)),d("div",Ms,[d("div",{class:"otherItem",onClick:j},Vs),d("div",Os,[js,m(g(R),null,{default:v((()=>[m(g(ue),{value:C.value,"onUpdate:value":[a[1]||(a[1]=e=>C.value=e),F],size:"small",disabled:2==Y.value||3==Y.value},null,8,["value","disabled"])])),_:1})]),d("div",{class:"otherItem",onClick:re},Rs),d("div",{class:"otherItem",onClick:ce},Bs)])])])]),d("div",Ds,[Y.value==g(M).TEXT_TO_IMAGE?(c(),n("div",Ls,[d("button",{class:G(1==N.value?"notSend":"send"),onClick:Q,disabled:!L.value,style:ee(L.value?"":" cursor:not-allowed")},Xs,14,Gs)])):(c(),n("div",Ns,[d("button",{class:G(1==N.value?"notSend":"send"),onClick:Q},Js,2)]))])])],64))}}),[["__scopeId","data-v-f1440325"]]),Ps=e=>(T("data-v-c608227b"),e=e(),F(),e),qs={class:"drawListBox dark:bg-[#1F1F38] bg-[#fff]"},Ks=Ps((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Ue,alt:""})],-1))),Ys={class:"drawContent"},_s={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Qs={class:"drawContentTitle"},Ws=Ps((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),Zs=Ps((()=>d("p",{class:"Title2"},"AI机器人",-1))),Hs={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},$s={class:"flex",style:{"align-items":"center"}},ei=Ps((()=>d("div",null," 发布到广场 ",-1))),ai=Ps((()=>d("div",null," 复制最终执行提示词 ",-1))),ti=Ps((()=>d("div",null," 下载图片 ",-1))),li=Ps((()=>d("div",null," 收藏此任务 ",-1))),si=Ps((()=>d("div",null," 删除任务 ",-1))),ii={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},ni={class:"Title4"},ri={class:"drawContentTitle2"},oi={class:"Title5"},ci=["src"],di=["src"],ui={class:"flex justify-start btnBox",style:{width:"370px"}},pi=["onClick"],vi={key:0,class:"buttonText"},mi={key:1,class:"buttonText"},gi={class:"buttonText"},fi=V(e({__name:"drawView",props:{drawLogList:{type:Array},task:{type:Object,required:!0}},emits:["fresh","newJob"],setup(e,{emit:a}){Te();const{updateDrawId:i}=t(),A=t(),h=l(),w=e;s(w.drawLogList);const E=a;const I=async(e,a)=>{if(console.log(e,a),!A.isLogin)return h.warning("请先登录"),void A.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return U.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return U.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return U.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return U.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return U.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?U.UPSCALE_4X:e.label.includes("Upscale (2x)")?U.UPSCALE_2X:e.label.includes("Vary (Subtle)")?U.VARY_SUBTLE:e.label.includes("Vary (Strong)")?U.VARY_STRONG:e.label.includes("Vary (Region)")?U.VARY_REGION:e.label.includes("Make Square")?U.SQUARE:e.label.includes("Zoom Out 2x")?U.ZOOM2X:e.label.includes("Zoom Out 1.5x")?U.ZOOM1_5X:e.label.includes("Custom Zoom")?U.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?U.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?U.REDO_UPSCALE_CREATIVE:U.NONE})(e);await async function(e){const a=await S({type:M.IMAGE_ACTION,params:e}).then((e=>e.data));i({id:a}),a&&h.success("提交任务成功！"),E("newJob",a)}({action:t,taskId:a.id,customId:e.customId,messageFlags:a.messageFlags||0})};return(e,a)=>(c(),n("div",qs,[Ks,d("div",Ys,[d("div",_s,[d("div",Qs,[Ws,Zs,d("p",Hs,u(w.task.createdAt),1),d("div",$s,[3===w.task.status?(c(),p(g(x),{key:0,placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"bi:send",onClick:a[0]||(a[0]=a=>e.handlePublishSquare(w.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[ei])),_:1})):b("",!0),m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"ph:copy-light",onClick:a[1]||(a[1]=a=>e.handleCopyPrompt(w.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[ai])),_:1}),3===w.task.status?(c(),p(g(x),{key:1,placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{icon:"icons8:down-round",onClick:a[2]||(a[2]=a=>e.handleDownload(w.task)),class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[ti])),_:1})):b("",!0),m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{onClick:a[3]||(a[3]=a=>e.handleFavorite(w.task)),icon:0===w.task.favorite?"uit:favorite":"uis:favorite",class:"text-[14px] mx-1 cursor-pointer"},null,8,["icon"])])),default:v((()=>[li])),_:1})])]),d("div",null,[m(g(x),{placement:"top-start",trigger:"hover"},{trigger:v((()=>[m(g(f),{onClick:a[4]||(a[4]=a=>e.handleRemove(w.task)),icon:"ep:delete",class:"text-[14px] mx-1 cursor-pointer"})])),default:v((()=>[si])),_:1})])]),d("div",ii,[d("p",ni,u(w.task.originPrompt),1)]),d("div",ri,[d("p",oi,u(w.task.prompt?w.task.prompt.split("--")[0]:""),1)]),d("div",{class:"drawImgBox",style:ee({height:w.task.imageUrl?"":"170px"})},[6===w.task.status?(c(),n("img",{key:0,src:g(Ce),alt:""},null,8,ci)):b("",!0),6!=w.task.status&&w.task.imageUrl?(c(),n("img",{key:1,class:"img",src:w.task.imageUrl,alt:""},null,8,di)):b("",!0),w.task.imageUrl||6==w.task.status?b("",!0):(c(),p(X,{key:2}))],4),6===w.task.status?(c(),p(g(k),{key:0,type:"primary",style:{"margin-left":"12px"},onClick:a[5]||(a[5]=e=>(w.task,void C.push({path:"midjourney/paint-task"})))},{default:v((()=>[y(" 补充描述词 ")])),_:1})):b("",!0),d("div",ui,[(c(!0),n(o,null,r(w.task.buttons,(e=>(c(),p(g(x),{trigger:"hover"},{trigger:v((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:a=>I(e,w.task)},[e.label?(c(),n("p",vi,u(e.label),1)):(c(),n("p",mi,u(e.emoji),1))],8,pi)])),default:v((()=>[d("p",gi,u(e.label||e.emoji),1)])),_:2},1024)))),256))])])]))}}),[["__scopeId","data-v-c608227b"]]),xi=e=>(T("data-v-95706188"),e=e(),F(),e),bi={class:"popBox"},Ai=xi((()=>d("div",{style:{display:"flex","align-items":"center"}},[d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAn5JREFUSEvFlk9IVFEUh7+jjCaKTi7SLIM2FbQpaNMu0AqckaRMUGcW6SpXQdrGRRS4KW0RZSuTmmkKMSgag8HcRosWuUsoCoT+EaGkjDbpifdeIzM2ztybUG/33v397nfuveede4QCT+OYVpUu0SrFNKIcUKgXKFdYFJgFpnWVyeUtjD9rk/l808lGg01jWluUoh+lGygrFBSQRBhZ9THwtE0+5dLnhAWj2qEwLFBlAMmSKMwL9MRDElvv/QMWuKuDUsR5W8h6vcLQREh6M79nwYJRvQL0bRaU4b8aD8mF9PsazNk64F4+UGUJ7Kn2FO/n4WvSICwlFA+LO68La4hpTdkKrxH8+ewHa+Byo6e48QISb41gc8li9k11yGcXFojosAhnC1nrK2D4hKe6/hwm3xVyeOOq3JoIS48cGVV/hY8PJumdCbs0BS9zJnjOAJILKeokENUugRGzGOFJp6e0hKHQLYGIxkRot4X1PIbZBVMXDuy+BCPqJMZeU1vkJPjLwBaGMuOsbEGEclPYnRaoLofWB7C8YupysoTvEoyqWli42QS7tkJz3j8y54wr1isbOgZ1ldA+bhNiemWWZ9Z3GHZUwrmENWzGSf2YYJ6Nlog1uZuNtv/ZJmDdVhVkdxWc3u/hEm9g+osx2qsgNrXxUC1cbPAAxoU4szY6RtOq/1cwJbvqO8BgRDsRovk2prQYtv3uRr4tweJPg20UQvHOjPssbflnN3Ua2BzVQWXzPQjKtXhYsnqZ/9tdpVd4PKLbfUI/0GVysbp9I9xOKQOJsHzMdZobNqlpccuo+lMlnBLlKLgd8U5xmlZlEXFv+FcqTPp+8PDRGZnLlzK/ADXe7vdu9RfoAAAAAElFTkSuQmCC",alt:""}),d("p",{class:"popTitle"},"提示")],-1))),yi=xi((()=>d("div",{class:"introBox"},[d("p",{class:"intro"},"积分不足，请购买会员套餐获取积分，享受更多会员权益")],-1))),ki=V(e({__name:"popup",emits:["closePop","buyVip"],setup(e,{emit:a}){const t=a,l=()=>{t("closePop")},s=()=>{t("buyVip")};return(e,a)=>(c(),n("div",bi,[d("div",{class:"popTopBox"},[Ai,d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAw1JREFUSEvFljtMU2EUx/+HV7ENoSxYjQZCApaNAIGw24ReBkLq4mOCSVYfCzOLrxEnnFQWG8LALUl3IMDQTlQICWCi7cIj2vYCLUfPZy9paW9vq0TPdu93vvP7zvP7CDYSDoebM5nMPQB3AfQAuA3ABSAJ4AszR4koXFdX98nn8x2XM0dWi4uLix4imiKiCQDX7A7FzOlfB5ll5umRkZF4Kf2SsKWlpQfMPAOg2Q5SYv2YiCaHh4c/Xl4rgum6/oqInvwBpGALM7/WNO1p/s8CWCgUevErF8/+FpS3/6Xf739ufl/AcqH7cIUgZYqZH2mapuwq2MLCwvX6+voYEblNWE1NDTo6OrCzsyMbbM/Q2dmJ/f19nJycXA7n0dnZmXd0dDShYLquzxDR43yt1tZW9Pb2Ih6PIxqNlgV6vV60t7dje3tbHe6yMPNbTdMmaX5+3u1wOL4SUVF5iwExJMBIJFLSO1Pn4OAA6+vrVodKG4Zxk3RdHyeiWas4dXV1qXDu7e1hc3OzQM0EHR4eYmNjA9ls1jLczDxBoVBI+uF+uaR0d3ejra2tAFgNKGd7TmAxAHfsKiAfmE6nVXiTySSWl5fLepRn97PAfuRmnR0PJlAUBbS2tlZUfVZGmPm7wOzrOmfB4/Ggp0dmMVTVSfVVIdmKPWtpacHAwABSqRROT08h37FYDLu7uxXxTM9scyaG+/r6VMgkdJlMBv39/QooFSqVWoGonJWtRhMkZb2ysgLDMJTd2tpaBXS73arppRdtZK5sn7lcLgwNDalqE4+kKPKlGqDqM6sJIiDJkczI1dXVIpAJbWhowODgIJxOp5oyiUSilIO/J4jVbGxqalJhEgMyIcqJw+FQB9va2ioJu5iNYqTU1Jf/4tX5+bldLtS6lS4zF079nHcPieh9RZarUCq6z8y9/+ymNoFX9QYB8Mbv9xe8Zf7v68r0MBgM3nA6nVMAxit5NwKQd+O7VCo1HQgEvpVKq+Uj1VSWPmxsbAwQkY+ZZQrfysGlw+WGjzBz2DCM4NjY2FG52vkJLyqWRgYfvF4AAAAASUVORK5CYII=",alt:"",onClick:l})]),yi,d("div",{class:"btnBox"},[d("button",{class:"close",onClick:l},"关闭"),d("button",{class:"buy",onClick:s},"前往购买")])]))}}),[["__scopeId","data-v-95706188"]]),hi=e=>(T("data-v-99fc73eb"),e=e(),F(),e),wi={class:"userDetailBox dark:bg-[#32324D] bg-[#fff]"},Ei={class:"userDetailTop"},Ii={class:"avatarBox bg-[#fff] dark:bg-[#32324D]"},Ci=["src"],Ti=hi((()=>d("div",{style:{width:"35px",height:"35px","background-color":"#3080D7","border-radius":"50%",display:"flex","justify-content":"center","align-items":"center"}},[d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAAAXNSR0IArs4c6QAAAVNJREFUOE+Vk70rhlEYxn8XIQYGBhYGUQxGm6/RIpMSyiTDW7L5F2woGUU2STalKCxs74DFZLGYlI+ULo7Oqyed93289/Kcnq77d67744gqw/Y0sAUsSdoppasaToTsATUxb0rSfjhXC5oDdjOXfwLjkk7+BbJdAAYkLdieB7YzsGVJa7kg2zNAKCfEhqQl24uxT0eSJnNLsz0BHGZ6EnJWJa3YngUOJL1VBNkeA46B+sRACpI2s/+TpdkeBM6ApgTkNDb4oyLI9gBwDrQkINfAaKmcsiDbfRHSloAUgWFJz6nd+y3NdjdwAXQkhHcR8lRugX9Atjujk66E8D5CHiu9Atluj5CehPABGJIUvhUjgG6A/oQqOAg9CY5yI4DCGOv+KEMvRiTd5hKiIIDegYZMQphKcFK03Qqsf29zYw7QAfQC1Ebha1y2K9vNwCXQ+w9Xn1/LGHetFKW+hgAAAABJRU5ErkJggg==",alt:""})],-1))),Fi={class:"userDetailContent"},Ui={style:{padding:"12px 17px","border-radius":"10px"},class:"bg-[#efefef] dark:bg-[#1A1A2F]"},Si={class:"userDetailItem border-b-[2px] broder-[#cecece] dark:border-[#686885]"},Mi={style:{display:"flex","align-items":"center",height:"30px"}},Vi={style:{"font-size":"20px","margin-right":"5px"},class:"text-[#808080] dark:text-[#fff]"},Oi={key:0,style:{display:"flex","justify-content":"space-between"}},ji=hi((()=>d("p",{class:"text-[#7E7E7E] dark:text-[#fff]"},"已开通会员",-1))),Ri={class:"isVip text-[#7E7E7E] dark:text-[#fff]"},Bi={class:"userDetailItem border-b-[2px] broder-[#cecece] dark:border-[#686885]"},Di=hi((()=>d("p",{style:{"font-size":"20px"},class:"text-[#808080] dark:text-[#fff]"},"绘画积分",-1))),Li={style:{display:"flex","align-items":"center"}},Gi=hi((()=>d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAABKZJREFUSEt9ldtvVHUQxz9z9uy11223l6WIbYIRgw/+AyYECtFIjBoTw7OoUWNCwoP+B/rmi/KAl1cM8UGCIbEC8iQPBpUEIwVbLim020Jbetle9pzfmPmd3S2txUk2u3vOb+Y7853vzE/4H9PZ4V1RJEdQ9qvynEA3AiI8VOVvVH8Js+6UFC/eeVIY2e5F9cH+gbCW+lQCjgChP5MKIBBQMBD/HcX2JlL4Lp2KP5HSxXtb4/0HIKoMv6EqXyMUfaAggPklqMzB0grEDlIChTz0dUKxHVQRdC6O5d1seeT7x0E2AaxPDr8vgZwwB9IhPHgEo3dhPYIw5bnx7/ynXkEmhN0DUO6GWoyK+zDTd+FEA6QJEM0cOOycnBVztODX78L9h2ABzJxLqslmkEwm+a0OrUWwVIWOFnhhN6w7nMhr2f6fzpibB9DFl3ui5WjU02KZWvCp2SRry1YE6WyHXM4X4WlqpmhdB11dR4nh+UHrzXxYCJ6VtpFpDxBVhk8q8o6HM76vjieZW/BMGukqIrHD9RnfEFQeJU3fak5xxTyUOqwn34S9Px8VnXyxJwpy971aUim4fA1cned0mqBU9P+NOd3dlxT95xhBW2uSwBbTOEafKduxaE3dTlmfGj4mIp/7c8srcOVmM/ugvzcBcw43UIRCNiH14SIys4hYr7Zao9L2gjXuuETTw2dV5bAveexe0linSEc7Usih9jyfRstJJd5sHm5XEA2QWpw8N+n6BoFmQ3RXCSJ3TqLKwVsKg6RT8Mc/sFiF1jzsHQKj2dRiZo2tB/DUNAQQG50OqSwgK+sJQCpAh3rQWO9KrXJwGSh4aV65AdVVH1T2DqGtuW153sSKVWiKG5tEOtu8hBsAOK1uAFhGV8dgYRlpKSD5Am6n8Z5Jhmo7M6pMdVZ5IUdQ6vIJaZhCB0tGXXWDIqPi1iRMTNf5z3ta3NOljWHbCrKyBr+NQi5N0FNqTrm2ZNEdxTpFU8M/IvKK9/UO15FiB9JagFjRrha02yS5JXq90UzMIP09ycTWe9VQnAjnJJ4ZPuZcXaZG0+W/IEgRdHf63eJMPa3Z7SmaXYDxKYLuYrNXfk3ZvKhaK4+LTh3qjQK9h9bXsm3M328QPLXDr2NPkQkgk4K5paSSYitEEVTX/NQH5Z5EqkZpuRPaTBzEa7iBZFVMH/xKlaM+TVPF+H1kYRXJ53GWzVot2apzixCG0NkGQ/3J4P16jaDcBzbBbXnUAGyORL4Ne0feTpadVSFuFKSzuarHJ5HVGNoL6M07vgrpaENyuUTry1XUhmt+kaBUQttz6I5OGy4kkPlVdXta+y5Umr1ZnXrp1RTuDLavG4O0uIJMzcPyKtKS39yH+p2gtRq6qwfaTHVxsnmR18O+kR/MYfOFUznwgWjqSw/SMFPLag1ZXEmoMq5torNp1LjOZzZWiFXm9KNM+fwXDff/XpnTh94EPalKcVPKFtTAGtbYuM0HOu8c72XL508/7rf9pT+xb2cmHX6myFvNS/8Jw2xrWVROp8L1j6X70sTWY9sCNA6tTO4bDCV1BJH9IrJHlS7PqzCrqteR4GIYr5+S8qXbT8L/F9OIEebsHhg1AAAAAElFTkSuQmCC",alt:""},null,-1))),Xi={style:{"margin-left":"10px",color:"#49A0FE"}},Ni={style:{display:"flex","align-items":"center"}},Ji=hi((()=>d("p",{style:{"margin-left":"10px"}},"退出登录",-1))),zi=V(e({__name:"userDetails",setup(e){const a=t(),l=D((()=>a.userInfo.avatar)),s=D((()=>a.userInfo.username)),i=D((()=>a.userBalance)),r=Ae(),o=we();function p(){a.logOut(),r.push("/")}const v=()=>{x()},x=async()=>{a.checkAuth()&&o.updateVipDialog(!0)};return(e,a)=>{var t,r,o;return c(),n("div",wi,[d("div",Ei,[d("div",Ii,[d("img",{style:{width:"100%",height:"100%","border-radius":"50%"},src:l.value?l.value:"../img/avatar.png",alt:""},null,8,Ci)]),Ti]),d("div",Fi,[d("div",Ui,[d("div",Si,[d("div",Mi,[d("p",Vi,u(s.value),1),m(g(f),{class:G(["text-2xl",(null==(t=i.value)?void 0:t.expirationTime)?"text-[#EFBA0A]":"text-[#808080] dark:text-[#fff]"]),icon:"solar:crown-broken"},null,8,["class"])]),(null==(r=i.value)?void 0:r.expirationTime)?(c(),n("div",Oi,[ji,d("p",Ri,"到期时间："+u(g(Ee)(null==(o=i.value)?void 0:o.expirationTime)),1)])):(c(),n("p",{key:1,class:"isVip text-[#7E7E7E] dark:text-[#fff]",onClick:v},"未开通，点击了解特权"))]),d("div",Bi,[Di,d("div",Li,[Gi,d("p",Xi,"积分："+u(i.value.drawMjCount),1)])]),d("div",{class:"userDetailItem",style:{display:"flex","justify-content":"space-between","align-items":"center"},onClick:p},[d("div",Ni,[m(g(f),{class:"text-4xl",icon:"mdi:shutdown"}),Ji]),m(g(f),{class:"text-3xl",icon:"mingcute:right-line"})])])])])}}}),[["__scopeId","data-v-99fc73eb"]]);export{zs as N,zi as U,tt as _,sa as a,es as b,xa as c,fi as d,Fe as e,Ue as f,as as g,ki as p};
