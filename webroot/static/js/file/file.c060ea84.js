import{aC as e,h as t,d as a,c as i,b as s,aD as n,a as l,_ as o,l as r,S as c}from"../main-bb4220d0.js";import{d as u,p as h,P as d,o as p,a as v,b as m,c as g,N as f,R as w,t as x,S as A,U as y,n as b,M as k,F as R,Q as T,q as N}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{j as I,r as M,x as D}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{J as Q,n as E,o as U}from"../@vue_shared@3.2.47/@vue_shared@3.2.47.9d8e617e.js";import{e as Z,d as z,C,T as O,U as W,o as L}from"../naive-ui@2.34.3_vue@3.2.47/naive-ui@2.34.3_vue@3.2.47.d79924d9.js";const G=e=>(A("data-v-443005ff"),e=e(),y(),e),j={class:"copy-container"},J={class:"agreement"},F={key:0,style:{margin:"0 4px"}},P={style:{color:"#eeeeee"}},S={key:0},Y=G((()=>m("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAlCAYAAAAwYKuzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmQ0N2JkMzNiLTY4ZjItOGY0MC1hNTYzLWNhNGJlNTZiODNkOSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NDU4RUJFRjdFQzAxMUVBQUI3OEQ1NjBFQzA5NkFERiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NDU4RUJFRTdFQzAxMUVBQUI3OEQ1NjBFQzA5NkFERiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDg3YzI4ZGUtMjZkOC1lMTQ2LWI1OTEtYTUxOGExYjMzODNmIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmQ0N2JkMzNiLTY4ZjItOGY0MC1hNTYzLWNhNGJlNTZiODNkOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn+VEOwAAApkSURBVFhHrVgJdFTVGf7em5lsZCOQBNAoDXElHkANBsTdsgilioo0WA60R9SCWu3hUEXZDlQPuJUiBS3gAlIQxVZBQCm4YDCAqIACjZAAEkJIJiEzSWbee/P6/fe9SVAyYbHfOTfvzf3vu/e7/3b/G9jnAKO81PY/85htNQTdnhbUzplqH+7d0T429td27byn3d5zhyZ/cBao6JsOo7QOejwQX9gdmW/tciUODudpgAewm9h04IIDZzX9KeAUZwdfThfEnQ94OwHhz3ajcc2rrgR8fw3wc9IIm895/hQ1Ux6BWVnh/joDKD3GgHFgj/vWgpoxPeyKXNjV91xgB16dZof3bHMltm0FTthmRZkd3rXFDiz/q105+HxX4uDo8EJ7fxLs/3LZmpkT3d62EdPEDauXoHrkb5Fw4/nIfPeQ20utlXyAuN6DEKkqR2jdIhhfbYBVtgt2fR1N64GW3AF65zx4LytEXL9h8OVfq747/vsbEFz2CXRqPxICrONAbvD05m+VYN2shxCYMxe+rvxhcLtVQPZ+Z1jj0qloWjhN+ZiWwA6aUhNHoeupmWhW22IL87WBLUhfHTwA6c+uRfibYlQO7qv6M557ASmj/yhTtolWfdB3UXd40rgmFxVfEnLG1tWo6achRHJ6O/pgFhWWypbIMQwYPc5t8s4+kckY3wXcY/E6VHTTEN62HjmHbDX3mZATxDRx9W2J0MwmZKy30TB7BEJvL4cnmwJuSYhLU5AnZ7BF02wQ7YkWpU9k3KAsIDKzkqQLrkaHRVvZAwQNGxEOTImLHasxCZp7tsB7aSECjxXA3LENnvYuKSHnzqcJGZpQ+jy9CqDlsmV3g5aYArsxCKt8J8IfLoZVzSVSONZ0SCYOK0Lc1KVYta8Jc78M4PPNNUA7G3mdvbjzkiRMuSUbiT5nkWaCxrdb4bu8QHVGEZw+GOamNdBdckKsWXv1fHZpD9/4ZfD0GOB8EAPhjW8g8MQogKaNkKTxPd3mi4PQs3KUXLTonVEKO8DoCbH5GzB2UGcsGJHnELT8VajIy4KvMx26RxekzN4Eq3QrGp4YqcyqC7FoE3KMQO8fpsN7+1NqgTNBeO0CBJ5+gOqjF9RynV+NRuqkxa6U+w1FkDrhG8rpHwYj7FgA04poDSFYO2k4wuvfgodm0BmZ7dfYqL1OgyeTv3kqRMkJUVTTraavgN77bmfms4CfQQYGj8Uo9vziCrRfTEInQXucv4WcSYelJtuTiywJg9GlPLmRrjLrYzQuGKciVXPJCTGlRaYW74j7z4mcQI9mBpkrkeH+U9STnERYRI4gG6ZpOQQz19UiYcAg+gAJ5F+P8JJ5DkHxN5lMGsdpTCOe0fPlkx+j+iAzO+12Opxg46YlV/ouvVp1RbF8JxO9SgeSAsTMJnrlJLfkwdSZa5C+ajuMz1bQQdgRJRYlyc15Rs50Bp+Miu+A9yYDSeluR+sIL5kIzd20TaIJd09wJQ5GvH6A61IYIUnRYH0ID99yYQtBgTfvShgbX3OSrRCLkpMng0vr30pyfehyYHRLwdAaIod3I7xolrKKpKX4gTfC0znXlQKXzSmlY4pZ2YRc2ES7zETceVWnHxMUWHuLm5OrIsYmPzTxn7gkNUawXZLyy0OAm251OmLA+mgeQr/Lh9bRIefJTkPyXza6UuDql8uxp5wCrqlMazIPMd2cmHOzkuv1z4+H/95cVPEoEth+f3NwqN9CTlrOxU4HURO2UUJ/xTermQ52O50/gb1rLcwH02HOGQctgx2Mfm9BP6QsbfHVDs8dwPbvOZEyLck1kVyDAf/CXzKQHD5aZT/N1nVbRWiHL2ycGKIpE3u4I0kx6pQgQf2SK6FP3q4+ml8WQVamjmFTuYsAhdldgD73U118P7ANkeL3VTER8ZIoM0OE6cL3+Afw9Byovl/2XQOKlrIm1OUooinCbP4gsrN8ODqjtxoTha6nM9mJ+WUTJ6q52w7qN5dyqhOBbCbA48hFPc/QzYf5Mv5Dlj58HjoCvDmFbSrw2fs0E/sYVFp6KuImvoGE5SwQSO7r4yY6v1yJomU87xI4KRWDRg72N+Lpe7qeQk6g1c1+wDaLVyKy5zhSF7wFY91cRL7+WCVslnfQqQXxQ51B4uFCgt0nbOR/ZGDnkDjkxzHrrp5GzbEACFFtKdRmtz5A35E8FVh2E0v2hTFxcz2OHOEkPu4+Qs0F+V7biGGFaXh7pNR1reOUYqFp4aMwVr6oThXxRTGzSqxMDZ5FB6lh5/wc+6WJV0pNFHWNx93034uYZdpxbIDWKqNWt/0Qwer9AWw7IKrkElL/GyRGHxOT3leYgr/flgWP62uxcApBc/cnCI6/AR5GnWhQgkUdd6LBoTxh7p3rjgRe2Gdiwg4DlskpJH/JU9KF+KI4ffQZIjH2X5/rw0M9knAXK5YzxY8IWuW74LkwH3U38xxmBaOIRTXIjWoMON+7zcObseqQhU1HLeyttVDdSEKcMp2u0TVZQ88MHTee50P3DHacA5oJGt8Wo/b2vkib/zqs70tgvDMXerJDrrlgoLX0K/rA+9Tn6uP/B8xDpfDm5Lm/TgWXpVv86xVUD+mrLjTB2aOQeN/fEGG6UncLKkR8Wr0z9VglxbCWPqo+/rlo2rQKoU8Z9W1AEfRdWqBcSFQZYTYJbXgdCeMmKZLiQtECQ70zeIw3X4Tx3FD59JxRN/U3qJs2Bu2K2r6bOAQv6Yn4mwthlFNDTEvhT1Yg4d4ZQMd2iEiidbUYbTZrOvPT99B0lwZzwwI10ZmiceXzqOyhIbjkn8jeePoKqNkHrepKmKVfI/6a/koQRW1/DRr9W/KiOpfFFyVgRChaZxqERHjBVdCvGgo97xronboxEVPV4SZEjpXB3FeC8Gaac0Ox2qBFX+6yVy17WpySZk5G3bheSHtpB+qG8xJUFWguOIVd9KkgRJne5C6s7tGiZWnSL2KOk6buydxgpxJW7DPHI31SS8qKBWXi1tC0/g00/ecr+O/KQNqKesSPmgCTx5vFwkMuPsrc0aeQ4Uw2z3BbSioqTy5IUt5DflNmHqUr9blJkasaeQ1qnnwJxkHenk6DmAT9E0ZBYy40j/pR1ZPbTzsP7beE4b3+dlg8Sk1enCzmReWj1JqQFa0psny32G/SxQxuyo5PRodVxUib8TaO9PKg8dMSeHgK+qc87K4WGzEJJtx6B8Ks5OX/KCavmDBC9EUfkp9chQxWPakLtyB++CPQc/MRoWnNHziETZ4mM4HW5SIkjfkzMjcfQ+b6evi6F6L6kaEI72XE0actkg/t/MpZrC2ID8ZC8N+v2YcvpmJqjrk9Dvzj+9r+B3vbDe/Os42y7+wIL7ZRRF+N/d/a9f+Ybv/A709G/crF9j4u6392stvTNtoMkljw/2kwmtauUdEtVbL3sixkvke7E7WTixCYtwwa/VAFB2fP+Rn/xIxp4rZgVdcpM1qu+dNnrXElfJ/+JiJCTMzI6kv88efgnDRoHT+KUMkmhHdshlm2Dx1fWedKHNQ+MwEN695BwnUDkXDtrUgacIcrOVsA/wMvtdATPwF6cQAAAABJRU5ErkJggg==",alt:""},null,-1))),V=["href"],H={key:1},B=G((()=>m("img",{src:"/static/png/police-a20583c8.png",alt:""},null,-1))),K=["href"],q=t(u({__name:"index",setup(t){const a=I({agreementTitle:"",policyTitle:"",filingNumber:"",companyName:""});return h((()=>{!async function(){const t=await e({keys:["filingNumber","companyName","agreementTitle","policyTitle"]});Object.assign(a,t.data)}()})),(e,t)=>{const i=d("router-link");return p(),v("div",j,[m("div",null,[m("p",J,[g(i,{to:"/agreement",target:"_blank"},{default:f((()=>[m("span",null,Q(a.agreementTitle||""),1)])),_:1}),a.policyTitle?(p(),v("span",F,"|")):w("",!0),g(i,{to:"/policy",target:"_blank"},{default:f((()=>[m("span",null,Q(a.policyTitle),1)])),_:1})])]),m("div",P,[m("p",null,[x("版权所有 © "+Q(a.companyName)+" "+Q(a.filingNumber)+" ",1),a.icpNumber?(p(),v("span",S,[Y,m("a",{href:a.icpUrl||"#"},Q(a.icpNumber),9,V)])):w("",!0),a.policeFilingNumber?(p(),v("span",H,[B,m("a",{href:a.policeFilingUrl||"#"},Q(a.policeFilingNumber),9,K)])):w("",!0)])])])}}}),[["__scopeId","data-v-443005ff"]]),{isMobile:X}=a(),_=i(),$=s();b((()=>_.recordDialog));var ee=(e=>(e[e.none=0]="none",e[e.listening=1]="listening",e[e.thinking=2]="thinking",e[e.speaking=3]="speaking",e[e.error=4]="error",e))(ee||{});const te=()=>{const e=Z(),t=b((()=>$.theme)),a=M("alloy"),i=M(!1),s=M(0),l=M(),o=M(),r=M(),c=new Map;let u;const h=M(),d=M([]),p=M();let v=0,m=null,g=null;const f=new AbortController,w=async()=>{const e=r.value;if(!e||!e.getContext)return!1;const a=e.getContext("2d");let i=e.width=X.value?window.innerWidth:608,s=e.height=X.value?window.innerHeight/2:415;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};let n=[];const l="waiting gpt thinking",o=20;function c(e,t,a,i){this.ctx=e,this.init(t,a,i)}c.prototype.init=function(e,a,i){this.x=e,this.y=a,this.r=i,this.v=1,this.a=0,this.rad=this.a*Math.PI/180,this.points=[],this.setPoints(),this.c={r:"dark"===t.value?255:120,g:"dark"===t.value?255:197,b:"dark"===t.value?255:247}},c.prototype.setPoints=function(){for(let a=0;a<o;a++){let a=[Math.cos(this.rad)*this.r,Math.sin(this.rad)*this.r,(e=0,t=360,Math.floor(Math.random()*(t-e+1)+e))];this.points.push(a),this.a+=18,this.rad=this.a*Math.PI/180}var e,t},c.prototype.draw=function(){const e=this.ctx;e.save(),e.fillStyle="rgb("+this.c.r+", "+this.c.g+", "+this.c.b+")",e.beginPath(),e.translate(this.x,this.y),e.rotate(3*Math.sin(this.rad)),e.translate(-this.x,-this.y);const t=(this.points[0][0]+this.points[19][0])/2+this.x,a=(this.points[0][1]+this.points[19][1])/2+this.y;e.moveTo(t,a);for(let i=1;i<this.points.length-1;i++){let t=(this.points[i][0]+this.points[i+1][0])/2,a=(this.points[i][1]+this.points[i+1][1])/2;e.quadraticCurveTo(this.points[i][0]+this.x,this.points[i][1]+this.y,t+this.x,a+this.y)}e.quadraticCurveTo(this.points[19][0]+this.x,this.points[19][1]+this.y,t,a),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle="transparent",e.translate(this.x,this.y),e.rotate(3*Math.sin(this.rad)),e.translate(-this.x,-this.y);for(let i=0;i<20;i++)e.save(),e.translate(1*this.points[i][0]+this.x,1*this.points[i][1]+this.y),e.rotate((18*i+90)*Math.PI/180),e.translate(-this.points[i][0]-this.x,-this.points[i][1]-this.y),e.fillText(l[i],1*this.points[i][0]+this.x,1*this.points[i][1]+this.y),e.restore();e.restore()},c.prototype.transform=function(){for(let e=0;e<this.points.length;e++)this.points[e][0]-=Math.sin(this.points[e][2]*Math.PI/180*5),this.points[e][1]-=Math.cos(this.points[e][2]*Math.PI/180*8),this.points[e][2]-=this.v},c.prototype.updateParams=function(){this.a+=.3,this.rad=this.a*Math.PI/180},c.prototype.resize=function(){this.x=i/2,this.y=s/2},c.prototype.render=function(){this.updateParams(),this.transform(),this.draw()};for(let t=0;t<1;t++)n.push(new c(a,i/2,s/2,110));!function e(){a.clearRect(0,0,i,s);for(let t=0;t<n.length;t++)n[t].render(t);requestAnimationFrame(e)}(),window.addEventListener("resize",(function(){!function(){i=e.width=X.value?window.innerWidth:608,s=e.height=X.value?window.innerHeight/2:415;for(let e=0;e<n.length;e++)n[e].resize()}()})),window.onunload=()=>{window.removeEventListener("resize",(()=>{}))}},x=async()=>{if(!location.protocol.includes("https"))return Promise.reject("录音功能必须要https协议");await y(),await w()},A=e=>{let t=window.AudioContext||window.webkitAudioContext;p.value=new t;let a=p.value.createMediaStreamSource(e),i=p.value.createGain();a.connect(i);let s=p.value.createAnalyser();s.fftSize=256;let n=s.frequencyBinCount;u=new Uint8Array(n),a.connect(s);const r=p.value.createScriptProcessor(2048,1,1);r.onaudioprocess=function(e){let t=e.inputBuffer.getChannelData(0),a=0;for(let s=0;s<t.length;s++)a<t[s]&&(a=t[s]);const i=Math.round(100*a);v=i;const{width:n,height:r}=l.value;o.value.clearRect(0,0,n,r),s.getByteFrequencyData(u);const h=u.length/30,d=n/h/2;o.value.fillStyle="#78c5f7";for(let s=0;s<h;s++){const e=u[s]/255*r*.5,t=s*d+n/2,a=n/2-(s+1)*d,i=r/2;o.value.fillRect(t,i,Math.ceil(d-10),e),o.value.fillRect(t,i,Math.ceil(d-10),-e),o.value.fillRect(a,i,Math.ceil(d-10),e),o.value.fillRect(a,i,Math.ceil(d-10),-e)}if(i<2){c.has("timer")||(c.set("timer",!0),m=setTimeout((()=>{c.delete("timer"),v>2?(console.log("检测到声音大于阈值，有人说话，清理定时器"),m&&clearTimeout(m)):(g&&clearTimeout(g),g=setTimeout((async()=>{v>2?(g&&clearTimeout(g),console.log("检测到声音大于阈值，有人说话，清理定时器"),m&&clearTimeout(m)):(await T(2),console.log("说话结束，清除所有定时器"))}),1400))}),2800))}else c.delete("timer"),m&&clearTimeout(m),g&&clearTimeout(g)},i.connect(r),r.connect(p.value.destination)};const y=async()=>{const e=l.value;if(!e)return;o.value=e.getContext("2d");const t=X.value?4:8,a=X.value?8:4;e.width=window.innerWidth/t*devicePixelRatio,e.height=window.innerHeight/a*devicePixelRatio;const i=navigator.mediaDevices.getUserMedia||navigator.mediaDevices.webkitGetUserMedia||navigator.mediaDevices.mozGetUserMedia||navigator.mediaDevices.msGetUserMedia;if(d.value=[],!i)return!1;await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,noiseSuppression:!0,echoCancellation:!0,frameRate:16,sampleRate:48e3,sampleSize:1}}).then((e=>{var t;t=e,h.value=new MediaRecorder(t),h.value.ondataavailable=e=>{d.value.push(e.data)},h.value.onstop=async()=>{console.log("录音已经停止");const e=new Blob(d.value,{type:"audio/wav"});await k(e)},h.value.start(),A(e)})).catch((e=>{console.error(e)}))},k=async t=>{const i=new FormData;i.append("file",new File([t],Date.now()+"record.wav")),i.append("voice",a.value);const s=f.signal;await n(i,s).catch((t=>{R(),t&&"CanceledError: canceled"!==t.message&&e.error(t.message||"")}))},R=()=>{var e,t;i.value=!1,m&&clearTimeout(m),h.value&&(null==(e=h.value)||e.stop()),p.value&&(null==(t=p.value)||t.close())},T=async e=>{s.value=e,R(),(()=>{const{width:e,height:t}=l.value;o.value.clearRect(0,0,e,t)})()};return{voice:a,isListen:i,listenStatus:s,recordingRef:l,playVoiceRef:r,controller:f,hasMicrophone:async()=>{const e=await navigator.mediaDevices.enumerateDevices();return 0!==e.length&&e.some((e=>"audioinput"===e.kind&&"default"!=e.deviceId&&"communications"!=e.deviceId))},initAndStart:x,stop:T,restart:async()=>{m&&clearTimeout(m),i.value=!0,s.value=1,d.value=[],await x()},getRecordedVoice:async()=>new Blob(d.value,{type:"audio/ogg; codecs=opus"})}},ae={key:0},ie=m("p",null,"选择音调",-1),se={class:"flex flex-col"},ne=["onClick"],le={key:0,class:"absolute right-2 top-[5px]"},oe={class:"text-md"},re={key:1},ce={class:"px-2"},ue=m("p",{class:"mt-4"},"选择音调",-1),he={class:"flex flex-col"},de=["onClick"],pe={key:0,class:"absolute right-2 top-[5px]"},ve={class:"text-md"},me={class:"h-full transition-all"},ge={class:"h-full overflow-hidden"},fe={class:"flex flex-col justify-center items-center mt-10"},we={class:"select-none ml-1"},xe={class:"px-4 flex flex-col items-center"},Ae={class:"w-full h-auto"},ye={class:"flex flex-col justify-end"},be={class:"flex justify-center items-center"},ke={class:"text-center"},Re={class:"flex justify-around items-center w-full mt-8"},Te=u({__name:"RecordDialog",props:{visible:{type:Boolean}},emits:["submit"],setup(e,{emit:t}){const{isMobile:n}=a(),u=l(),h=Z(),d=s();b((()=>d.theme));const x=i(),A=M(!0);a(),z();const y=M(!1),{initAndStart:I,stop:G,controller:j,hasMicrophone:J,voice:F,isListen:P,listenStatus:S,recordingRef:Y,playVoiceRef:V}=te(),H=b((()=>u.userInfo.avatar)),B=b((()=>u.userInfo.username)),K=()=>{G(ee.none),A.value=!0,P.value=!1,S.value=0},q=()=>{if(P.value&&S.value!==ee.none)return G(ee.none),void j.abort();P.value=!P.value,S.value===ee.none&&(S.value=ee.listening),P.value&&I().catch((e=>{h.error(e)})),!P.value&&G(ee.none)},X=b((()=>S.value===ee.listening?"聆听中...":S.value===ee.thinking?"思考中...":S.value===ee.speaking?"回答中...":S.value===ee.none?"点击左下角开始，右下角选择音色":"对话出错，请再说一遍试试")),_=()=>{P.value=!1,G(ee.none),j.abort(),x.updateRecordDialog(!1)},$=()=>{N().then((()=>{(async()=>{await J()?(P.value=!1,S.value=1,q()):h.error("未检测到麦克风，请插入麦克风等音频输入设备。")})()}))},Te=[{value:"alloy"},{value:"echo"},{value:"fable"},{value:"onyx"},{value:"nova"},{value:"shimmer"}];return(t,a)=>(p(),k(D(C),{show:e.visible,style:U([{width:"100%","max-width":"640px"},[D(n)?"height: 100vh":"height: auto"]]),"on-after-enter":$,"on-after-leave":K},{default:f((()=>[m("div",{class:E(["bg-white rounded dark:bg-gradient-to-b from-[#262643] to-[#0C0C16]",[D(n)?"":"pb-8"]])},[D(n)?(p(),v("div",re,[g(D(W),{show:y.value,"onUpdate:show":a[1]||(a[1]=e=>y.value=e),"mask-closable":!1,placement:"bottom",class:"!h-[45vh]",style:{"--n-body-padding":"0"}},{default:f((()=>[g(D(O),{class:"mydrawer"},{default:f((()=>[m("div",ce,[ue,m("ul",he,[(p(),v(R,null,T(Te,(e=>m("li",{class:"relative my-1 leading-8 dark:bg-[#262643] px-2 cursor-pointer",onClick:t=>(e=>{F.value=e.value,y.value=!1})(e)},[e.value===D(F)?(p(),v("div",pe,[g(D(o),{icon:"gravity-ui:check",class:"text-xl"})])):w("",!0),m("p",ve,Q(e.value),1)],8,de))),64))])])])),_:1})])),_:1},8,["show"])])):(p(),v("div",ae,[g(D(C),{show:y.value,preset:"dialog","show-icon":!1,onClose:a[0]||(a[0]=e=>y.value=!1),style:{width:"60%","max-width":"500px"}},{default:f((()=>[m("div",null,[ie,m("ul",se,[(p(),v(R,null,T(Te,(e=>m("li",{class:"relative my-1 leading-8 dark:bg-[#262643] px-2 cursor-pointer",onClick:t=>F.value=e.value},[e.value===D(F)?(p(),v("div",le,[g(D(o),{icon:"gravity-ui:check",class:"text-xl"})])):w("",!0),m("p",oe,Q(e.value),1)],8,ne))),64))])])])),_:1},8,["show"])])),m("div",me,[m("div",ge,[m("div",fe,[g(D(L),{size:64,src:D(H),round:"",bordered:"","fallback-src":D(r),class:"cursor-pointer"},null,8,["src","fallback-src"]),m("p",we,Q(D(B)),1)]),m("div",xe,[m("div",Ae,[m("canvas",{class:"h-[45vh] w-full",ref_key:"playVoiceRef",ref:V},null,512)]),m("div",ye,[m("canvas",{class:"h-[50px] w-full",ref_key:"recordingRef",ref:Y},null,512),m("div",be,[D(P)&&1===D(S)?(p(),k(D(o),{key:0,icon:"streamline:voice-mail"})):w("",!0),m("p",ke,Q(D(X)),1)])])]),m("div",Re,[g(D(o),{icon:D(P)?"heroicons-solid:stop":"gridicons:pause",class:"text-[28px] cursor-pointer",onClick:q},null,8,["icon"]),m("div",{class:"darK:bg-[red] bg-[#d81e6] text-[#d81e6] dark:text-[#fff]",onClick:_},[g(D(c),{name:"icon_cancel",class:"text-[44px] cursor-pointer darK:bg-[red] bg-[#d81e6]"})]),g(D(o),{icon:"ep:set-up",class:"text-[24px] cursor-pointer",onClick:a[2]||(a[2]=e=>y.value=!0)})])])])],2)])),_:1},8,["show","style"]))}}),Ne={isImg:e=>/(.*)\.(jpg|bmp|gif|ico|pcx|jpeg|tif|png)$/.test(e),isWord:e=>/(.*)\.(doc|docx)$/.test(e.toLowerCase()),isExcel:e=>/(.*)\.(xlsx|xls)$/.test(e),isPdf:e=>/(.*)\.(pdf)$/.test(e),isPPt:e=>/(.*)\.(ppt|pptx)$/.test(e),isVoice:e=>/(.*)\.(wav|mp3|pcm|aac)$/.test(e)},Ie="/static/png/word-b1465323.png",Me="/static/png/excel-6de51a3e.png",De="/static/png/pdf-e89b01d1.png",Qe="/static/png/ppt-233a675f.png",Ee="/static/png/voice-315cccd1.png",Ue="/static/png/file-3d327a33.png";export{q as C,Ne as V,Te as _,Qe as a,Me as e,Ue as f,De as p,Ee as v,Ie as w};
