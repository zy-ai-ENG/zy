import{r as e,n as t,j as n}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{m as o,n as a,g as i,p as c,x as r,y as u}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{o as s,a as l}from"../evtd@0.2.4/evtd@0.2.4.2789e4a1.js";function d(n){const a=e(!!n.value);if(a.value)return t(a);const i=o(n,(e=>{e&&(a.value=!0,i())}));return t(a)}function v(t){const n=a(t),i=e(n.value);return o(n,(e=>{i.value=e})),"function"==typeof t?i:{__v_isRef:!0,get value(){return i.value},set value(e){t.set(e)}}}function f(){return null!==i()}const m="undefined"!=typeof window;let h,w;var p,k;function y(e){if(w)return;let t=!1;c((()=>{w||null==h||h.then((()=>{t||e()}))})),r((()=>{t=!0}))}h=m?null===(k=null===(p=document)||void 0===p?void 0:p.fonts)||void 0===k?void 0:k.ready:void 0,w=!1,void 0!==h?h.then((()=>{w=!0})):w=!0;const g=e(null);function b(e){if(e.clientX>0||e.clientY>0)g.value={x:e.clientX,y:e.clientY};else{const{target:t}=e;if(t instanceof Element){const{left:e,top:n,width:o,height:a}=t.getBoundingClientRect();g.value=e>0||n>0?{x:e+o/2,y:n+a/2}:{x:0,y:0}}else g.value=null}}let E=0,L=!0;function x(){if(!m)return t(e(null));0===E&&s("click",document,b,!0);const n=()=>{E+=1};return L&&(L=f())?(u(n),r((()=>{E-=1,0===E&&l("click",document,b,!0)}))):n(),t(g)}const j=e(void 0);let M=0;function _(){j.value=Date.now()}let P=!0;function S(n){if(!m)return t(e(!1));const o=e(!1);let a=null;function i(){null!==a&&window.clearTimeout(a)}function c(){i(),o.value=!0,a=window.setTimeout((()=>{o.value=!1}),n)}0===M&&s("click",window,_,!0);const d=()=>{M+=1,s("click",window,c,!0)};return P&&(P=f())?(u(d),r((()=>{M-=1,0===M&&l("click",window,_,!0),l("click",window,c,!0),i()}))):d(),t(o)}let T=0;const C="undefined"!=typeof window&&void 0!==window.matchMedia,D=e(null);let O,q;function R(e){e.matches&&(D.value="dark")}function X(e){e.matches&&(D.value="light")}let Y=!0;function B(){return C?(0===T&&(O=window.matchMedia("(prefers-color-scheme: dark)"),q=window.matchMedia("(prefers-color-scheme: light)"),O.matches?D.value="dark":q.matches?D.value="light":D.value=null,O.addEventListener?(O.addEventListener("change",R),q.addEventListener("change",X)):O.addListener&&(O.addListener(R),q.addListener(X))),Y&&(Y=f())&&(u((()=>{T+=1})),r((()=>{T-=1,0===T&&("removeEventListener"in O?(O.removeEventListener("change",R),q.removeEventListener("change",X)):"removeListener"in O&&(O.removeListener(R),q.removeListener(X)),O=void 0,q=void 0)}))),t(D)):t(D)}function I(e,t){return o(e,(e=>{void 0!==e&&(t.value=e)})),a((()=>void 0===e.value?t.value:e.value))}function $(){const n=e(!1);return c((()=>{n.value=!0})),t(n)}function z(e,t){return a((()=>{for(const n of t)if(void 0!==e[n])return e[n];return e[t[t.length-1]]}))}const A="undefined"!=typeof window&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;function F(){return A}const G={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};const H={};function J(t=G){if(!m)return a((()=>[]));if("function"!=typeof window.matchMedia)return a((()=>[]));const n=e({}),o=Object.keys(t),i=(e,t)=>{e.matches?n.value[t]=!0:n.value[t]=!1};return o.forEach((e=>{const n=t[e];let o,a;void 0===H[n]?(o=window.matchMedia(`(min-width: ${n}px)`),o.addEventListener?o.addEventListener("change",(t=>{a.forEach((n=>{n(t,e)}))})):o.addListener&&o.addListener((t=>{a.forEach((n=>{n(t,e)}))})),a=new Set,H[n]={mql:o,cbs:a}):(o=H[n].mql,a=H[n].cbs),a.add(i),o.matches&&a.forEach((t=>{t(o,e)}))})),r((()=>{o.forEach((e=>{const{cbs:n}=H[t[e]];n.has(i)&&n.delete(i)}))})),a((()=>{const{value:e}=n;return o.filter((t=>e[t]))}))}function K(e={},a){const i=n({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:c,keyup:d}=e,v=e=>{switch(e.key){case"Control":i.ctrl=!0;break;case"Meta":i.command=!0,i.win=!0;break;case"Shift":i.shift=!0;break;case"Tab":i.tab=!0}void 0!==c&&Object.keys(c).forEach((t=>{if(t!==e.key)return;const n=c[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},m=e=>{switch(e.key){case"Control":i.ctrl=!1;break;case"Meta":i.command=!1,i.win=!1;break;case"Shift":i.shift=!1;break;case"Tab":i.tab=!1}void 0!==d&&Object.keys(d).forEach((t=>{if(t!==e.key)return;const n=d[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:o=!1}=n;t&&e.stopPropagation(),o&&e.preventDefault(),n.handler(e)}}))},h=()=>{(void 0===a||a.value)&&(s("keydown",document,v),s("keyup",document,m)),void 0!==a&&o(a,(e=>{e?(s("keydown",document,v),s("keyup",document,m)):(l("keydown",document,v),l("keyup",document,m))}))};return f()?(u(h),r((()=>{(void 0===a||a.value)&&(l("keydown",document,v),l("keyup",document,m))}))):h(),t(i)}export{F as a,I as b,z as c,d,K as e,S as f,x as g,J as h,$ as i,B as j,y as o,v as u};
