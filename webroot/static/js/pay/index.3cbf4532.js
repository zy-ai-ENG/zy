import{_ as e}from"../titleBar.vue_vue_type_script_setup_true_lang/titleBar.vue_vue_type_script_setup_true_lang.225288ff.js";import{a as s,d as t,c as a,ap as i,_ as r,aq as o}from"../main-bb4220d0.js";import{d as l,n,p as u,a as d,c as p,b as c,N as v,F as f,Q as m,R as _,o as y,t as g}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.e62b9a68.js";import{e as x,V as j,W as h,x as b,E as w}from"../naive-ui@2.34.3_vue@3.2.47/naive-ui@2.34.3_vue@3.2.47.d79924d9.js";import{r as k,x as S}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.859737a0.js";import{n as C,o as q,J as B}from"../@vue_shared@3.2.47/@vue_shared@3.2.47.9d8e617e.js";import"../vue-router@4.1.6_vue@3.2.47/vue-router@4.1.6_vue@3.2.47.018c715a.js";import"../@vicons_ionicons5@0.12.0/@vicons_ionicons5@0.12.0.5fe57882.js";import"../@vue_runtime-dom@3.2.47/@vue_runtime-dom@3.2.47.298398d5.js";import"../v-viewer@3.0.11_vue@3.2.47/v-viewer@3.0.11_vue@3.2.47.a81e5850.js";import"../viewerjs@1.11.3/viewerjs@1.11.3.a76d4126.js";import"../clientjs@0.2.1/clientjs@0.2.1.7f53d864.js";import"../@babel_runtime@7.21.5/@babel_runtime@7.21.5.35f69bd2.js";import"../crypto-js@4.1.1/crypto-js@4.1.1.7142fa56.js";import"../@iconify_vue@4.1.1_vue@3.2.47/@iconify_vue@4.1.1_vue@3.2.47.612da1cd.js";import"../pinia@2.0.35_typescript@4.9.5_vue@3.2.47/pinia@2.0.35_typescript@4.9.5_vue@3.2.47.1425f1b3.js";import"../vue-demi@0.14.7_vue@3.2.47/vue-demi@0.14.7_vue@3.2.47.71ba0ef2.js";import"../axios@1.4.0/axios@1.4.0.5ae1da96.js";import"../vue-i18n@9.2.2_vue@3.2.47/vue-i18n@9.2.2_vue@3.2.47.f7da0a53.js";import"../@intlify_shared@9.2.2/@intlify_shared@9.2.2.76c1dc14.js";import"../@intlify_core-base@9.2.2/@intlify_core-base@9.2.2.72ca16dd.js";import"../@intlify_message-compiler@9.2.2/@intlify_message-compiler@9.2.2.9b2b247d.js";import"../@intlify_devtools-if@9.2.2/@intlify_devtools-if@9.2.2.1be0989c.js";import"../vooks@0.2.12_vue@3.2.47/vooks@0.2.12_vue@3.2.47.89d56bd5.js";import"../evtd@0.2.4/evtd@0.2.4.2789e4a1.js";import"../katex@0.16.7/katex@0.16.7.43835b5c.js";import"../@vueuse_core@9.13.0_vue@3.2.47/@vueuse_core@9.13.0_vue@3.2.47.770e5818.js";import"../@vueuse_shared@9.13.0_vue@3.2.47/@vueuse_shared@9.13.0_vue@3.2.47.58cbe97f.js";import"../mitt@3.0.1/mitt@3.0.1.f0e54764.js";import"../marked@4.3.0/marked@4.3.0.cb1ff4ec.js";import"../date-fns@2.30.0/date-fns@2.30.0.bcce45e8.js";import"../vue-clipboard3@2.0.0/vue-clipboard3@2.0.0.ebf9d56c.js";import"../clipboard@2.0.11/clipboard@2.0.11.6a7b8915.js";import"../@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47/@vueuse_integrations@10.2.0_axios@1.4.0_qrcode@1.5.3_vue@3.2.47.a70167c7.js";import"../@vueuse_shared@10.2.0_vue@3.2.47/@vueuse_shared@10.2.0_vue@3.2.47.3d57d69b.js";import"../qrcode@1.5.3/qrcode@1.5.3.ae99ec0a.js";import"../encode-utf8@1.0.3/encode-utf8@1.0.3.2ec93547.js";import"../dijkstrajs@1.0.3/dijkstrajs@1.0.3.38d0b2a1.js";import"../seemly@0.3.6/seemly@0.3.6.21da59ee.js";import"../vueuc@0.4.51_vue@3.2.47/vueuc@0.4.51_vue@3.2.47.ce1cbfa6.js";import"../@css-render_vue3-ssr@0.15.12_vue@3.2.47/@css-render_vue3-ssr@0.15.12_vue@3.2.47.e49104bd.js";import"../vdirs@0.1.8_vue@3.2.47/vdirs@0.1.8_vue@3.2.47.bf970686.js";import"../@juggle_resize-observer@3.4.0/@juggle_resize-observer@3.4.0.80d14552.js";import"../css-render@0.15.12/css-render@0.15.12.af3f05a4.js";import"../@emotion_hash@0.8.0/@emotion_hash@0.8.0.b17c1a96.js";import"../lodash-es@4.17.21/lodash-es@4.17.21.6a776102.js";import"../treemate@0.3.11/treemate@0.3.11.05d63ee5.js";import"../async-validator@4.2.5/async-validator@4.2.5.8d480e59.js";import"../@css-render_plugin-bem@0.15.12_css-render@0.15.12/@css-render_plugin-bem@0.15.12_css-render@0.15.12.0c2c3e5c.js";const J={class:"main bg-center h-[92vh] flex flex-col overflow-hidden"},M={key:0,class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-x-6 gap-y-10 px-4"},W=["onClick"],E={class:"w-full rounded-t-xl overflow-hidden border dark:border-[#ffffff17] relative",style:{height:"40%"}},I=["src"],N={class:"absolute left-1/2 bottom-0 transform -translate-x-1/2 -translate-y-1/2 text-lg text-[#fff] ]"},R={class:"p-5 text-lg h-[160px] border-b dark:border-[#ffffff17] overflow-hidden relative"},z={class:"absolute bottom-1 right-2 font-semibold text-red-500 italic"},D={class:"flex p-4 border-b dark:border-[#ffffff17] flex-col space-y-4"},T={class:"flex justify-between"},L=c("span",null,"基础模型额度",-1),O={class:"flex justify-between"},A=c("span",null,"高级模型额度",-1),G={class:"flex justify-between"},P=c("span",null,"MJ绘画额度",-1),U={class:"px-4 flex-1 flex items-center justify-between"},F={class:"flex items-end"},H=c("span",null,"套餐有效期 ",-1),Q={class:"ml-2 text-[#3076fd] text-lg"},V=c("div",{class:"line"},null,-1),$={key:1,class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-x-6 gap-y-10 px-4"},K={class:"w-full rounded-t-xl overflow-hidden",style:{height:"40%"}},X={class:"p-5 text-lg h-[160px] border-b dark:border-[#ffffff17] overflow-ellipsis"},Y={class:"flex p-4 border-b dark:border-[#ffffff17] flex-col space-y-4"},Z={class:"px-4 flex-1 flex items-center justify-between"},ee=l({__name:"index",setup(l){const ee=s(),{isMobile:se}=t(),te=x(),ae=a(),ie=n((()=>{var e;const s=window.navigator.userAgent.toLowerCase();return s.match(/MicroMessenger/i)&&"micromessenger"===(null==(e=null==s?void 0:s.match(/MicroMessenger/i))?void 0:e[0])})),re=n((()=>{const{payHupiStatus:e,payEpayStatus:s,payMpayStatus:t,payWechatStatus:a}=ee.globalConfig;return 1===Number(a)?"wechat":1===Number(t)?"mpay":1===Number(e)?"hupi":1===Number(s)?"epay":null})),oe=n((()=>{const{payEpayChannel:e,payMpayChannel:s}=ee.globalConfig;return"wechat"===re.value?["wxpay"]:"epay"===re.value?e?JSON.parse(e):[]:"mpay"===re.value?s?JSON.parse(s):[]:"hupi"===re.value?["wxpay"]:[]})),le=k([]),ne=k(1),ue=k(!1);async function de(){try{ue.value=!0;const e=await i({status:1,type:ne.value,size:30});le.value=e.data.rows,ue.value=!1}catch(e){ue.value=!1}}const pe=n((()=>se.value?"尽情探索，欢迎光临我们的在线商店！":"尽情探索，欢迎光临我们的在线商店、感谢您选择我们、让我们一同开启愉悦的购物之旅！"));function ce(e){ne.value=e,de()}async function ve(e){oe.value.length||te.warning("管理员还未开启支付！"),await async function(e){if(ie.value&&"wechat"===re.value&&1===Number(ee.globalConfig.payWechatStatus)){if("undefined"==typeof WeixinJSBridge)document.addEventListener?document.addEventListener("WeixinJSBridgeReady",fe,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",fe),document.attachEvent("onWeixinJSBridgeReady",fe));else{const s=await o({goodsId:e.id,payType:"jsapi"}),{success:t,data:a}=s;t&&fe(a)}return}ae.updateOrderInfo({pkgInfo:e}),ae.updateGoodsDialog(!1),ae.updatePayDialog(!0)}(e)}function fe(e){const{appId:s,timeStamp:t,nonceStr:a,package:i,signType:r,paySign:o}=e;s?WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:s,timeStamp:t,nonceStr:a,package:i,signType:r,paySign:o},(e=>{"get_brand_wcpay_request:ok"===e.err_msg?(te.success("购买成功、祝您使用愉快!"),setTimeout((()=>{ee.getUserInfo(),ae.updateGoodsDialog(!1)}),500)):te.warning("您还没有支付成功哟！")})):te.warning("appId不能为空")}return u((()=>{de()})),(s,t)=>(y(),d("div",J,[p(S(e),{title:"会员商场",des:S(pe),class:C([S(se)?"px-3":"px-24"])},null,8,["des","class"]),c("div",{class:"flex justify-center items-center",style:q({height:S(se)?"60px":"100px"})},[p(S(h),{type:"segment",style:q({width:S(se)?"90%":"400px"}),"onUpdate:value":ce},{default:v((()=>[p(S(j),{name:1,tab:"会员限时套餐"}),p(S(j),{name:-1,tab:"叠加永久次卡"})])),_:1},8,["style"])],4),c("div",{class:C(["flex-1 pb-10 overflow-y-auto h-4/5",[S(se)?"px-3":"px-28"]])},[ue.value?_("",!0):(y(),d("div",M,[(y(!0),d(f,null,m(le.value,(e=>(y(),d("div",{key:e.id,class:"border dark:border-[#ffffff17] h-[580px] rounded-xl card-item flex flex-col",onClick:s=>ve(e)},[c("div",E,[c("img",{src:e.coverImg,class:"object-cover w-full h-full cover",alt:""},null,8,I),c("div",N,B(e.name),1)]),c("div",R,[g(B(e.des)+" ",1),c("span",z,"￥"+B(e.price),1)]),c("div",D,[c("div",T,[L,c("span",null,B(e.model3Count||0)+" 积分",1)]),c("div",O,[A,c("span",null,B(e.model4Count||0)+" 积分",1)]),c("div",G,[P,c("span",null,B(e.drawMjCount||0)+" 积分",1)])]),c("div",U,[c("div",F,[H,c("span",Q,B(e.days>0?`${e.days} 天`:"永久"),1)]),V,c("div",null,[p(S(r),{class:"text-lg right-icon",icon:"bi:arrow-right"})])])],8,W)))),128))])),ue.value?(y(),d("div",$,[(y(),d(f,null,m(4,(e=>c("div",{key:e,class:"border dark:border-[#ffffff17] h-[580px] rounded-xl card-item flex flex-col"},[c("div",K,[p(S(b),{height:"100%",width:"100%"})]),c("div",X,[p(S(w),{vertical:""},{default:v((()=>[p(S(b),{text:"",repeat:4,width:"100%",sharp:!1})])),_:1})]),c("div",Y,[p(S(w),{vertical:""},{default:v((()=>[p(S(b),{text:"",repeat:4,width:"100%",sharp:!1})])),_:1})]),c("div",Z,[p(S(b),{text:"",repeat:1,width:"100%",sharp:!1})])]))),64))])):_("",!0)],2)]))}});export{ee as default};
