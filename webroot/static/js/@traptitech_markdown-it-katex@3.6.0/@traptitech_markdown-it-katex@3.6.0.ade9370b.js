import{g as r}from"../@babel_runtime@7.21.5/@babel_runtime@7.21.5.35f69bd2.js";import{r as e}from"../katex@0.16.7/katex@0.16.7.43835b5c.js";var t=e();function n(r,e){var t,n,c=r.posMax,o=!0,s=!0;return t=e>0?r.src.charCodeAt(e-1):-1,n=e+1<=c?r.src.charCodeAt(e+1):-1,(32===t||9===t||n>=48&&n<=57)&&(s=!1),32!==n&&9!==n||(o=!1),{can_open:o,can_close:s}}function c(r,e){var t,c,o,s;if("$"!==r.src[r.pos])return!1;if(!n(r,r.pos).can_open)return e||(r.pending+="$"),r.pos+=1,!0;for(c=t=r.pos+1;-1!==(c=r.src.indexOf("$",c));){for(s=c-1;"\\"===r.src[s];)s-=1;if((c-s)%2==1)break;c+=1}return-1===c?(e||(r.pending+="$"),r.pos=t,!0):c-t==0?(e||(r.pending+="$$"),r.pos=t+1,!0):n(r,c).can_close?(e||((o=r.push("math_inline","math",0)).markup="$",o.content=r.src.slice(t,c)),r.pos=c+1,!0):(e||(r.pending+="$"),r.pos=t,!0)}function o(r,e,t,n){var c,o,s,a,i,l=!1,p=r.bMarks[e]+r.tShift[e],u=r.eMarks[e];if(p+2>u)return!1;if("$$"!==r.src.slice(p,p+2))return!1;if(p+=2,c=r.src.slice(p,u),n)return!0;for("$$"===c.trim().slice(-2)&&(c=c.trim().slice(0,-2),l=!0),s=e;!l&&!(++s>=t)&&!((p=r.bMarks[s]+r.tShift[s])<(u=r.eMarks[s])&&r.tShift[s]<r.blkIndent);)"$$"===r.src.slice(p,u).trim().slice(-2)&&(a=r.src.slice(0,u).lastIndexOf("$$"),o=r.src.slice(p,a),l=!0);return r.line=s+1,(i=r.push("math_block","math",0)).block=!0,i.content=(c&&c.trim()?c+"\n":"")+r.getLines(e+1,s,r.tShift[e],!0)+(o&&o.trim()?o:""),i.map=[e,r.line],i.markup="$$",!0}function s(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}const a=r((function(r,e){(e=e||{}).katex&&(t=e.katex),e.blockClass||(e.blockClass="");r.inline.ruler.after("escape","math_inline",c),r.block.ruler.after("blockquote","math_block",o,{alt:["paragraph","reference","blockquote","list"]}),r.renderer.rules.math_inline=function(r,n){return function(r){e.displayMode=!1;try{return t.renderToString(r,e)}catch(n){return e.throwOnError&&console.log(n),`<span class='katex-error' title='${s(n.toString())}'>${s(r)}</span>`}}(r[n].content)},r.renderer.rules.math_block=function(r,n){return function(r){e.displayMode=!0;try{return`<p class="katex-block ${e.blockClass}">`+t.renderToString(r,e)+"</p>"}catch(n){return e.throwOnError&&console.log(n),`<p class='katex-block katex-error ${e.blockClass}' title='${s(n.toString())}'>${s(r)}</p>`}}(r[n].content)+"\n"}}));export{a as m};
