let r=[];const t=new WeakMap;function n(){r.forEach((r=>r(...t.get(r)))),r=[]}function e(e,...o){t.set(e,o),r.includes(e)||1===r.push(e)&&requestAnimationFrame(n)}function o(r,t){let{target:n}=r;for(;n;){if(n.dataset&&void 0!==n.dataset[t])return!0;n=n.parentElement}return!1}function a(r){return r.composedPath()[0]||null}function i(r,t){var n;if(null==r)return;const e=function(r){if("number"==typeof r)return{"":r.toString()};const t={};return r.split(/ +/).forEach((r=>{if(""===r)return;const[n,e]=r.split(":");void 0===e?t[""]=n:t[n]=e})),t}(r);if(void 0===t)return e[""];if("string"==typeof t)return null!==(n=e[t])&&void 0!==n?n:e[""];if(Array.isArray(t)){for(let r=t.length-1;r>=0;--r){const n=t[r];if(n in e)return e[n]}return e[""]}{let r,n=-1;return Object.keys(e).forEach((o=>{const a=Number(o);!Number.isNaN(a)&&t>=a&&a>=n&&(n=a,r=e[o])})),r}}function u(r){return"string"==typeof r?r.endsWith("px")?Number(r.slice(0,r.length-2)):Number(r):r}function s(r){if(null!=r)return"number"==typeof r?`${r}px`:r.endsWith("px")?r:`${r}px`}function c(r,t){const n=r.trim().split(/\s+/g),e={top:n[0]};switch(n.length){case 1:e.right=n[0],e.bottom=n[0],e.left=n[0];break;case 2:e.right=n[1],e.left=n[1],e.bottom=n[0];break;case 3:e.right=n[1],e.bottom=n[2],e.left=n[1];break;case 4:e.right=n[1],e.bottom=n[2],e.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+r+" is not a valid value.")}return void 0===t?e:e[t]}function f(r,t){const[n,e]=r.split(" ");return t?"row"===t?n:e:{row:n,col:e||n}}const l={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},$="^\\s*",p="\\s*$",g="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",h="([0-9A-Fa-f])",b="([0-9A-Fa-f]{2})",d=new RegExp(`${$}rgb\\s*\\(${g},${g},${g}\\)${p}`),m=new RegExp(`${$}rgba\\s*\\(${g},${g},${g},${g}\\)${p}`),y=new RegExp(`${$}#${h}${h}${h}${p}`),w=new RegExp(`${$}#${b}${b}${b}${p}`),x=new RegExp(`${$}#${h}${h}${h}${h}${p}`),F=new RegExp(`${$}#${b}${b}${b}${b}${p}`);function v(r){return parseInt(r,16)}function A(r){try{let t;if(t=w.exec(r))return[v(t[1]),v(t[2]),v(t[3]),1];if(t=d.exec(r))return[W(t[1]),W(t[5]),W(t[9]),1];if(t=m.exec(r))return[W(t[1]),W(t[5]),W(t[9]),C(t[13])];if(t=y.exec(r))return[v(t[1]+t[1]),v(t[2]+t[2]),v(t[3]+t[3]),1];if(t=F.exec(r))return[v(t[1]),v(t[2]),v(t[3]),C(v(t[4])/255)];if(t=x.exec(r))return[v(t[1]+t[1]),v(t[2]+t[2]),v(t[3]+t[3]),C(v(t[4]+t[4])/255)];if(r in l)return A(l[r]);throw new Error(`[seemly/rgba]: Invalid color value ${r}.`)}catch(t){throw t}}function E(r,t,n,e){return`rgba(${W(r)}, ${W(t)}, ${W(n)}, ${o=e,o>1?1:o<0?0:o})`;var o}function k(r,t,n,e,o){return W((r*t*(1-e)+n*e)/o)}function N(r,t){Array.isArray(r)||(r=A(r)),Array.isArray(t)||(t=A(t));const n=r[3],e=t[3],o=C(n+e-n*e);return E(k(r[0],n,t[0],e,o),k(r[1],n,t[1],e,o),k(r[2],n,t[2],e,o),o)}function R(r,t){const[n,e,o,a=1]=Array.isArray(r)?r:A(r);return t.alpha?E(n,e,o,t.alpha):E(n,e,o,a)}function M(r,t){const[n,e,o,a=1]=Array.isArray(r)?r:A(r),{lightness:i=1,alpha:u=1}=t;return function(r){const[t,n,e]=r;if(3 in r)return`rgba(${W(t)}, ${W(n)}, ${W(e)}, ${C(r[3])})`;return`rgba(${W(t)}, ${W(n)}, ${W(e)}, 1)`}([n*i,e*i,o*i,a*u])}function C(r){const t=Math.round(100*Number(r))/100;return t>1?1:t<0?0:t}function W(r){const t=Math.round(Number(r));return t>255?255:t<0?0:t}function j(r=8){return Math.random().toString(16).slice(2,2+r)}function q(r,t){const n=[];for(let e=0;e<r;++e)n.push(t);return n}function I(r,t){const n=[];if(!t){for(let t=0;t<r;++t)n.push(t);return n}for(let e=0;e<r;++e)n.push(t(e));return n}export{c as a,R as b,N as c,u as d,j as e,q as f,a as g,o as h,I as i,e as j,f as k,i as l,s as p,A as r,M as s};
