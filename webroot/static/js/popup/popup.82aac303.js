import{d as e,U as t,b as l,u as a,y as s,a8 as i,i as n,r as o,F as r,o as u,j as d,m as c,l as p,n as v,h as g,_ as x,aC as m,k as b,w as f,$ as y,N as k,a0 as h,aG as A,aI as w,aS as T,C as I,D as E,ag as C,af as j,ap as F,E as B,G as S,K as U,L as M,aT as V,c as O,aA as R,M as D,aB as G,g as _,T as L,f as N,V as z,aU as X,aa as J,aV as P,aW as Y,aX as q,aR as Z,aO as W,aY as K,ae as Q,a3 as H,aZ as $,a_ as ee,a$ as te,b0 as le,ao as ae,b1 as se,aL as ie,b2 as ne,b3 as oe,t as re,b4 as ue,z as de,ar as ce,as as pe,ab as ve,aQ as ge,b5 as xe,v as me,W as be,a1 as fe,a2 as ye,b6 as ke,a5 as he}from"../main-c6e244ef.js";import{d as Ae}from"../draw-fail/draw-fail.50b43169.js";import{u as we}from"../index/index.c19f02d9.js";import{_ as Te,a as Ie,b as Ee}from"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.d942390e.js";import{_ as Ce,a as je}from"../police/police.b4a86fcd.js";import{a as Fe}from"../music/music.51f40153.js";const Be="/static/png/logo-48b8594b.png",Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE8SURBVHgBXZLRUcJAEIZ3Nwy+agd0gFYgVKB0ABUI45Ab5MFHJjgMdJASTAmxA+kgJeRJJ9HsunsxmZB7yd3tt//d/18QesM5N2Gmic2JOI2iKO3WsQsKBLGAZARyZsYcCO4RcFRBtTj8N1IHfrfCW7SbAkhi6javRFaB1p6VaRtMGUS8Sui2RwZ6FaA4dJvjYb9LVGgWGGMNtbpkey3Ul5PlT/E9K4urO73x0nZMyBg7hbxBho/GS1l83ZxOp3w4LJ+0+bNj90zKDuo05LrZNni9fpkDyhyBpy3PknuW1RwDjrvRMVWZGltppFm7qYkZS3Y/zXbUpOAPl8GtfkbNOgw3j8YY61OqgBcWnXPbB1sH+JuIYNpEDoixMRcPZycEGqUAZD4E7wvHpmxw83AIvVFHR5PaC6eH3q/xBz2NpXhj/RWfAAAAAElFTkSuQmCC",Ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAADVJJREFUaEO9mgl8zWe6x7/vWXNCSiwJGoIyUUujjLVc3ArlEmtr61TN3KvaMtUxDVNtx1YNblHUUkN7p3Nd7S0+jKUtSo2tYq2d0KRCQiL7fpb3ev5y8kkz4RwR9/18/p9zzv/dnt+zvc/zvEdRhU1rrYAGQAugMVALcAAuIBdIBi4Bl5VS+VW4NbLxQzWtdT1gCPAc0K2EeF9ruoGzwG5gC7BPKeXxNel+/ZUGorXuA/y+BID5YYgAkoC/AMuVUqmVWeuBgWituwP/CXSszIY+5uTdkegS4H2llHz3u/kNRGtdG/gQeAkeXiV9UHgNeEMptclfJH4B0Vp3vWPA64GG/i5cRePWAhOVUgW+1vMJRGs9AVgKWHwt9oj6jwIDlVIplTZ2rfU7wCyvKmmtUcon9keB5wrwrFIq8V6L35MqrfUfgQXeiQIiPT2dnJwcateuTfXq1UtBSZ+0RwxSwHS7l2QqBKK1fr7EJkxlgZw+fZq1a9dSWFjImDFj6NSpEzabDQHildYjBhMH9KjIZv4JiNZaTmWZUL28GFNSUpg6dSo7duygc+fOBpDRo0bTpGmT/08wa5RS/16etl8A0VqLQf9w57Rtdy9d3Lx5M5988gk1atQgMDAQkzIRPWgwffpEYbNZSyXzKAylzJrDlFIby+5RHsgv7KIiYtLS0pg/fz5ms5lRo0bx5VdfcfFSPM88050Ro0dSv3YwKYlJnDh3hsi2kTSoX99YxmtHVWRLErO1UEple2ksBaK1rgvEA4/54qbYyf79+3l7+tvUDQllw8bN/H37Dpo+8QSv/HYsEjV9MG8ubrebQYOiieodRVBQUCmYKrKjWKXUnyoCMg+I8QVC+s+ePcuqVat4suWTTHhlAm6Xh30HDvDJZysJqhPM6CGjyLh5iyUffcT15BuMHDGS4cOH07p1a0OSVdQkhGnijc0MiWitg0oCN5/SkPHitWJjY7l18yaLFi/GbrMjAfypM4dZPuVdlK0Ov506Ge0wM/Odd9m9ezd9+vRh3Lhx9O3b13DdVdRmKKVmGupaAuQVYKWvxe+eFncnrVmzhn/s28esD2Jp2KA+ntRkPNu2krD8S1YcP0ZGv26MnTmdQG1m+rQ/cezYMdq2bcvzzz9vPHXq1PmF7VRS3SRqDpcUwAtkr/hnX0CMhEGDScG3O3eyZfs2Bg8cQK/QUJxrPyXr8//GmpXGrV95+MtjDq6FRxMz7T3yMm+zYMF8nE6noVq9evVk7NiXqVu3blXYzb8qpfYorbVkcbcAv5TX4wGTCX48e4bP/vo3mqenMSYpBdfuPbiC87FFQo0ucNlhYeHxOjgaDGfSG38k7shh1q//gjZtWnPhwgXat2/P+PHjCQ4OfliXvVgp9aYAkezuFz75fpKR1E4QX7+VwpK5i1ArVvKmyoXGmurPgLW1wlILVFMTZ5WHuSsf4+k2UxkxYgyrVq8kNzePVi1bsmv3Lnr27MlLL730sDbz451wP1K53e55JpPJL291154kpoK0nCwWv/8hhcvmMaNdMQGdFKohqHpmTBEaT324kOdg0YZC9n0VwuwpS4iIaMbMGbMYNGgQVquFjRs3MmLECOO3N9SphK0Ib2sop9O5zWKx9PdlH95+r0TSBUjsBxTuns+saI0tWOFuAZYIyLFbiEu2svJMEDsvWMn5wUkPS0fmzZnFySNHOXL4MK+8OoFDhw5x+PBhJk6cSJcuXR7GXjqqoqKi8zabTeIrv5oXSFrGbVYsnI3n5EdMe9GCvbHCE+7iZ3cAX12tyerTioSkIJzO9pgTO2I/E8fk37RnTPRzzJo1k959oujXr7/xvWbNmvzhD28SEhJaWTAjVWFhUbrdbgv2CwXgRmNGkZj0M2uXzyIk/794daINV7CTk2kBLDhTnZ3xVrIz66Oz+mDKeJnAjBDM1/9OA+tqVi2dSfzlBI7G/cCkiZPIy8vj/bnvEx09gBdf/E3pgfmAKvaGKigoLA4IsFv9B+LBjIm44yfYtG42XVp8S/eBRXydYGPhqcc4caMWOqcx5oyROHMGYC+wEJ6SQJv4vaS41jNwSj/6DRvM7NlzGDJ0CMOHD2Xx4sVcvnzZULGnnnqqMl5sukjEbbfbSvMOX4C8Etm0+Tt27XiLXgN+5KiqwfpzQfycbUfnPItKm4CpoBm10gpo+/MPtEhJoJajiKLmmcQHnWPq3Bi++24PGRmZTPz967jdLqZNm0aHDh2YNGkSFssDZ9V/FiB5drst0BeAkgjAcFna42HpktWs3hpDncFwIrsu2dkNIWsIKvMFAnNrEpaRStuE/YSlX6V+WDBdxneldq9qTFsQwwuDR9D48XA+XrGcl8eN5dnez7J06VLOnz/PhAkTiIyM9IecsmNixNiv2Wy2sAeZmXTjBu/FzuCvZzdA90a4M9qh0kaiC1tRM9NMm2vnaJx8jrruPFp1CqXDW7/mV//SHJfZyccLP8bjMTF8xFDD0Lt07sSE118lKek6M2fOoG3bSF577fXStNlPW/kPVVxcfMhqtXb2F4jkFf+7aRMxK2aQGKogYAgqOQpyTDgKLtIoNY7aaTlUc+US0iiQLmO7Etm/DU3qPoE9wM7+A/vZtn074383nu+//57UW7cYO24sIaEhLFq0yKgLxMTE0LixlI79bs8pl8v1mdlsHutrisfjwWQykZKcxHuzZrJm53dYGrTGfF1Tw2qjSdO6hIcG8ng1EzZzgLGckzwKzU5u375NVlo2ofVDqFm7JocOHiJ2Tix2q505c2aTm5dHWMMwbt68acRjU6ZMYeDAgb5IKtvfVEKUN4DFvmaJJFwuF+s+/ZR33nuXfEsA3foOJapjO1pHhBiVFYcjCLujOlar2Tj9i4qKycnKITsnh9TbaVy/fo3TP57m+LGjfPjhQto/3Z4D+//BrdQ0lMlEUlISp06dYsCAAQwbNqyUJAk076Ni6UAdASL5+TFfQKQ/Li6OJQsWYlYw9IVhPBnZikbhTbBb70pAwnyPR5fUU+8G/UaFpeSzuKiQxGuJpN9Op3mzZgQ6AhFJFxU7jTJTcnIyV65cMc4SyVmysrIIDw83Tn273X4vErcopQYJEAnlb9zJR+R6oMImm8lz82YK8Veu8HijhoTXC8Pl1uQ4C8jPySU/L4+8vHzjgCvMy6egIJ+8/Fzy8/PJyM4y+uWd0+XEWVRkgJF3kpRZrDasVivVqlc3AMheZ86c4erVq0YyNnnyZAIC7jKrgvaaUmqFNx9ZBrxe0Sjh6J49e4wc3ekspsjpJD0rk9z0bDxuUHYrAVYzFovZsCEJ/gziLPLOYjwm891+UQ/5HWC3G+OkAmOz23AEOLAHBBhVGVHfrVu3snfvXnr06GG44zZt2twrRZaIKUyKdl4gHYAjFQER7oiP/+KLL4wcIiIiAmexE1EYi9VCoBDhcBAQYKdaYDWDGFED4bBwUQiWT+97USezpeLUR9Rq3bp1JCYmGuokthIaGno/rd+ulPo3GVC2inIQ6FLRLDHAuXPnGhwdPXo0Xbt2LU1VveOlYnLp0iUjpQ0LCzPGCIiyraioiAMHDvDTTz8ZXJbUVwDL7w0bNnDx4kVDNR0Oh1EA7N27t+GGRdJeeytn9H2VUt+WByKh/LbyQGTzbdu2sWzZMkN/GzRoYGwkebdsJpuI7xeJSVguYwoKCmjSpIlRVm3atKnBgISEBIPbovciodzc3FKVESCyjzwyt1atWsac4uJio2gRHR1dkbEfUUp18tJbvkC3B+gpnVIpkVrv9u3bjfJPu3btDA4J0d988w2pqakGkHr16nHkyBFDHUQK3bp1Iz4+3hgjICULFKJE54Ww/v3707x5cyMP2blzJwcPHqRZs2bG+iINCemjoqKMz127dnHixAlatmxpnCsSUJZ4L3GEkqtLrcFo5YG0Ao4DtszMTD7//HOOHj1qLCxZnBTZpEkNWLgrQA3jttuNfjFOMWZxEKImMkYOOWlSNZHKZKtWrQxgYtSiZps2bTIAimq2aNHCqH81bHj3PkmAbdmyha+//pqOHTsaaXEJDf+jlBpdVnsqKmK/LXd4IhFxgcIZUZPyhTXplyJCRkaGQYBIxqvHXp0W13vy5EkDmASC3npW2XsWYcq5c+eMfYTz5d2sOBuRtuwjBT6bzSZHRaRSKs0XELGsHYDc2vrdvFcLMsELxNfkSlwcyX19VFmVqlC1vC+11pIxHgIifBFTZk7pUD8j1gdNoMQuJimlPq6IpvvdWImifi/1VX/BPOJx7yql5txrj/teCGqtBcw3wJOPmMj7LS8FzmlKqdJrwAeSSDk1+9udk9/vklEVgpb/r/xOKfWlrzX9uqItCSzfKrnhvWcY6muzB+yXY+BFpdR5f+b5BaSMdMT4JcDs7c/ilRyTdSfq/7Pso5SSoNCv9kBAygCSQG36vWIzv3b+50FyjbZKrsQr88eaSgEpA+jXwDhg6P3ymfsAE47vB9bdcfVyWudUkglV8+eYEht6+s7/r7q73e7WHo+O8Hg84raDtdaBSilXCZHJJpO6bDKZLphMJrkC36uUklT1odv/AfhIhJw/YorFAAAAAElFTkSuQmCC",Me=e=>(I("data-v-58b97893"),e=e(),E(),e),Ve=Me((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Ue,alt:""})],-1))),Oe={class:"drawContent"},Re={style:{display:"flex","align-items":"center","justify-content":"space-between"}},De={class:"drawContentTitle"},Ge=Me((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),_e=Me((()=>d("p",{class:"Title2"},"AI机器人",-1))),Le={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Ne={key:0},ze=["onClick"],Xe={class:"twoBtnBox"},Je=["onClick"],Pe=Me((()=>d("div",{style:{"margin-left":"4px"}},"发布",-1))),Ye=["onClick"],qe=Me((()=>d("div",{style:{"margin-left":"4px"}},"删除",-1))),Ze={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},We={class:"Title4"},Ke={class:"drawContentTitle2"},Qe={class:"Title5"},He={class:"drawImgBox"},$e={key:0,style:{display:"flex","align-items":"center"}},et=Me((()=>d("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),tt={style:{color:"red","margin-top":"10px"}},lt={key:0,class:"flex justify-start btnBox"},at=Me((()=>d("div",{style:{display:"flex","align-items":"center"}},[d("p",{style:{"margin-top":"13px","margin-right":"10px"}},"编辑: "),d("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Se,alt:""})],-1))),st={key:0},it=["onClick"],nt={key:0,class:"buttonText"},ot={key:1,class:"buttonText"},rt={class:"buttonText"},ut={key:1,class:"flex justify-start btnBox"},dt=Me((()=>d("div",{style:{display:"flex"}},[d("p",{style:{"margin-top":"13px","margin-right":"10px"}},"变化: "),d("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Se,alt:""})],-1))),ct={key:0},pt=["onClick"],vt={key:0,class:"buttonText"},gt={key:1,class:"buttonText"},xt={class:"buttonText"},mt={key:2,class:"flex justify-start btnBox"},bt=Me((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"放大："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),ft={key:0},yt=["onClick"],kt={key:0,class:"buttonText"},ht={key:1,class:"buttonText"},At={class:"buttonText"},wt={key:3,class:"flex justify-start btnBox"},Tt=Me((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"变化："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),It={key:0},Et=["onClick"],Ct={key:0,class:"buttonText"},jt={key:1,class:"buttonText"},Ft={class:"buttonText"},Bt={key:4,class:"flex justify-start btnBox"},St=Me((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"缩小："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),Ut={key:0},Mt=["onClick"],Vt={key:0,class:"buttonText"},Ot={key:1,class:"buttonText"},Rt={class:"buttonText"},Dt={key:5,class:"flex justify-start btnBox"},Gt=Me((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"拉伸："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),_t={key:0},Lt=["onClick"],Nt={key:0,class:"buttonText"},zt={key:1,class:"buttonText"},Xt={class:"buttonText"},Jt={key:6,class:"flex justify-start btnBox"},Pt=Me((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"描述："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),Yt={key:0},qt=["onClick"],Zt={key:0,class:"buttonText"},Wt={key:1,class:"buttonText"},Kt={class:"buttonText"},Qt=e({__name:"drawLogList",props:{drawLogList:{type:Array}},emits:["fresh1","newJobId"],setup(e,{emit:I}){const E=t(),B=we(),{updateSendSquire:S,updateDrawId:U,updatePreview:M}=l(),V=l(),O=a(),R=s(e.drawLogList),D=I;const G=async(e,t)=>{if(console.log(e,t),!V.isLogin)return O.warning("请先登录"),void V.setLoginDialog(!0);const l=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return C.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return C.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(e);await async function(e){const t=await j({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));U({id:t}),D("newJobId",t),t&&O.success("提交任务成功！")}({action:l,taskId:R.value[t].id,customId:e.customId,messageFlags:R.value[t].messageFlags||0}),D("fresh1")};i.on("newDrawLogList",(e=>{R.value=e,console.log("====",R.value)}));const _=s(["V1","V2","V3","V4"]);return(e,t)=>(u(!0),n(r,null,o(R.value,((e,t)=>(u(),n("div",{class:"drawListBox dark:bg-[#010102] bg-[#F4F4F4]",key:t},[Ve,d("div",Oe,[d("div",Re,[d("div",De,[Ge,_e,d("p",Le,c(e.createdAt),1),e.seed?(u(),n("p",Ne,"seed值: "+c(e.seed),1)):p("",!0),3!=e.status||e.seed?p("",!0):(u(),n("p",{key:1,class:"Title4",onClick:t=>function(e){let t={jobId:e.jobId};T(t).then((t=>{console.log(t),e.seed=t.data}))}(e)},"获取seed值",8,ze))]),d("div",Xe,[d("div",{class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:t=>(async e=>{S(!0,e.id)})(e)},[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),Pe],8,Je),d("div",{class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:t=>(e=>{E.create({type:"info",title:"确认删除",content:(1===e.favorite?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{A({id:e.id}).then((t=>{if(200==t.code){O.success("删除成功");for(let t=0;t<R.value.length;t++)R.value[t].id==e.id&&(R.value.splice(t,1),w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})))}}))},onNegativeClick:()=>{}})})(e)},[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),qe],8,Ye)])]),d("div",Ze,[d("p",We,c(e.originPrompt),1)]),d("div",Ke,[d("p",Qe,c(e.originPrompt),1)]),d("div",He,[v(g(m),{style:{width:"390px"},"preview-src":e.imageUrl,"object-fit":"contain",src:e.imageUrl?e.imageUrl:g(Ae)},null,8,["preview-src","src"])]),4==e.status?(u(),n("div",$e,[et,d("p",tt,c(e.failReason),1)])):p("",!0),6===e.status?(u(),b(g(k),{key:1,type:"primary",style:{"margin-left":"12px"},onClick:t=>{var l;9===(l=e).action?B.openRegionModal(!0,{customId:l.customId,taskId:l.id,mode:l.mode}):V.updateRemixModal(!0,{prompt:"",taskId:l.id,customId:l.customId})}},{default:f((()=>[y(" 补充描述词 ")])),_:2},1032,["onClick"])):p("",!0),d("div",null,[1!=e.action&&3!=e.action||3!=e.status?p("",!0):(u(),n("div",lt,[at,(u(!0),n(r,null,o(e.buttons,(e=>(u(),n(r,null,[-1==_.value.indexOf(e.label)?(u(),n("div",st,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>G(e,t)},[e.label?(u(),n("p",nt,c(e.label),1)):(u(),n("p",ot,c(e.emoji),1))],8,it)])),default:f((()=>[d("p",rt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])),1!=e.action&&3!=e.action||3!=e.status?p("",!0):(u(),n("div",ut,[dt,(u(!0),n(r,null,o(e.buttons,(e=>(u(),n(r,null,[-1!=_.value.indexOf(e.label)?(u(),n("div",ct,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>G(e,t)},[e.label?(u(),n("p",vt,c(e.label),1)):(u(),n("p",gt,c(e.emoji),1))],8,pt)])),default:f((()=>[d("p",xt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])),4==e.action&&3==e.status?(u(),n("div",mt,[bt,(u(!0),n(r,null,o(e.buttons,(e=>(u(),n(r,null,[-1!=e.label.indexOf("U")?(u(),n("div",ft,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>G(e,t)},[e.label?(u(),n("p",kt,c(e.label),1)):(u(),n("p",ht,c(e.emoji),1))],8,yt)])),default:f((()=>[d("p",At,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(u(),n("div",wt,[Tt,(u(!0),n(r,null,o(e.buttons,(e=>(u(),n(r,null,[-1!=e.label.indexOf("V")?(u(),n("div",It,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>G(e,t)},[e.label?(u(),n("p",Ct,c(e.label),1)):(u(),n("p",jt,c(e.emoji),1))],8,Et)])),default:f((()=>[d("p",Ft,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(u(),n("div",Bt,[St,(u(!0),n(r,null,o(e.buttons,(e=>(u(),n(r,null,[-1!=e.label.indexOf("Z")?(u(),n("div",Ut,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>G(e,t)},[e.label?(u(),n("p",Vt,c(e.label),1)):(u(),n("p",Ot,c(e.emoji),1))],8,Mt)])),default:f((()=>[d("p",Rt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(u(),n("div",Dt,[Gt,(u(!0),n(r,null,o(e.buttons,(e=>(u(),n(r,null,[e.label?p("",!0):(u(),n("div",_t,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>G(e,t)},[e.label?(u(),n("p",Nt,c(e.label),1)):(u(),n("p",zt,c(e.emoji),1))],8,Lt)])),default:f((()=>[d("p",Xt,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0),2==e.action&&3==e.status?(u(),n("div",Jt,[Pt,(u(!0),n(r,null,o(e.buttons,(e=>(u(),n(r,null,[e.label?p("",!0):(u(),n("div",Yt,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>G(e,t)},[e.label?(u(),n("p",Zt,c(e.label),1)):(u(),n("p",Wt,c(e.emoji),1))],8,qt)])),default:f((()=>[d("p",Kt,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])])])))),128))}}),Ht=B(Qt,[["__scopeId","data-v-58b97893"]]),$t={class:"start-mj w-full rounded-3xl p-6 py-8 dark:bg-[#010102] bg-[#F4F4F4] h-full",style:{width:"100%"}},el={class:"flex justify-between"},tl=d("div",null,[d("h1",{class:"text-[34px]"},"您好,请创作您的第一个作品吧！"),d("p",{class:"text-[14px] text-[#aaa]"},"我是您的专属AI伙伴，您可以尝试使用快捷提示，体验一下！")],-1),ll={class:"body mt-4 h-full"},al={class:"flex justify-between h-full min-h-[400px]"},sl={class:"bg-[#F7F7F7] relative dark:bg-[] w-[14rem] rounded-3xl overflow-hidden"},il={class:"bg-[#F7F7F7] relative dark:bg-[] w-[14rem] h-[400px] rounded-3xl overflow-hidden mr-2 ml-2"},nl={class:"absolute left-2 bottom-28 z-30"},ol={class:"leading-0 text-white line-clamp-2"},rl=["src"],ul=["onClick"],dl=d("p",{class:"select-none ml-2"},"一键制作",-1),cl=e({__name:"suggestion",setup(e){const t=a(),{updatePromptWords:m}=l(),b=S({size:5,page:1}),k=s([]);async function h(){const e=await V(b).then((e=>e.data||[]));if(!e.length)return b.page=1,void t.warning("备选图片不足，请前往后台添加");k.value=e}async function A(){b.page+=1,await h()}return h(),(e,t)=>(u(),n("div",$t,[d("div",el,[tl,d("div",{class:"bg-[#3378ED] dark:bg-[#2960BE]",onClick:A,style:{color:"#fff",display:"flex",height:"36px",padding:"0 12px","align-items":"center","border-radius":"8px",cursor:"pointer"}},[v(g(x),{class:"text-lg",icon:"mynaui:refresh"}),y(" 换一换 ")])]),d("div",ll,[d("ul",al,[k.value.length?p("",!0):(u(),n(r,{key:0},o(5,(e=>d("li",null,[d("div",sl,[v(g(M),{vertical:""},{default:f((()=>[v(g(U),{height:"400px",width:"100%",sharp:!1})])),_:1})])]))),64)),(u(!0),n(r,null,o(k.value,(e=>(u(),n("li",il,[d("div",nl,[d("p",ol,c(e.title),1)]),d("img",{loading:"lazy",src:e.imageUrl,class:"cursor-pointer bg-gray-500 duration-300 transition-all hover:scale-110",alt:""},null,8,rl),d("div",{class:"absolute cursor-pointer text-white dark:text-[#fff] dark:bg-[rgba(0,0,0,.6)] px-2 py-1 bg-[rgba(0,0,0,.6)] right-4 bottom-6 z-10 rounded-full flex justify-start items-center",onClick:t=>(e=>{const{isCarryParams:t,aspect:l,prompt:a,status:s}=e,n=t&&s?`${a}  --ar ${l}`:`${a}`;m({prompt:n}),i.emit("prompts",n)})(e)},[v(g(x),{icon:"icon-park-outline:send"}),dl],8,ul)])))),256))])])]))}}),pl=e=>(I("data-v-023cb40c"),e=e(),E(),e),vl={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},gl={class:"topBox"},xl=pl((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Ue,alt:""})],-1))),ml={style:{width:"100%"}},bl={style:{width:"100%","padding-bottom":"10px"},class:"border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},fl={style:{display:"flex","align-items":"center","justify-content":"space-between"}},yl={style:{display:"flex"}},kl={class:"drawContentTitle"},hl=pl((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),Al=pl((()=>d("p",{class:"Title2",style:{"margin-right":"26px"}},"AI机器人",-1))),wl={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Tl={key:0},Il={class:"twoBtnBox"},El=pl((()=>d("div",{style:{"margin-left":"4px"}},"发布",-1))),Cl=pl((()=>d("div",{style:{"margin-left":"4px"}},"删除",-1))),jl={style:{"margin-top":"10px"}},Fl={key:0,class:""},Bl=["src"],Sl={style:{display:"flex","align-items":"center","margin-top":"10px"}},Ul=pl((()=>d("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),Ml={style:{color:"red","margin-top":"10px"}},Vl={key:1,class:""},Ol=["src"],Rl={key:2,class:""},Dl=["src"],Gl={key:4,class:"flex items-center justify-center flex-col",style:{"margin-top":"20px"}},_l={key:0,class:"flex justify-start btnBox"},Ll=pl((()=>d("div",{style:{display:"flex","align-items":"center"}},[d("p",{style:{"margin-top":"13px","margin-right":"10px"}},"编辑: "),d("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Se,alt:""})],-1))),Nl={key:0},zl=["onClick"],Xl={key:0,class:"buttonText"},Jl={key:1,class:"buttonText"},Pl={class:"buttonText"},Yl={key:1,class:"flex justify-start btnBox"},ql=pl((()=>d("div",{style:{display:"flex"}},[d("p",{style:{"margin-top":"13px","margin-right":"10px"}},"变化: "),d("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Se,alt:""})],-1))),Zl={key:0},Wl=["onClick"],Kl={key:0,class:"buttonText"},Ql={key:1,class:"buttonText"},Hl={class:"buttonText"},$l={key:2,class:"flex justify-start btnBox"},ea=pl((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"放大："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),ta={key:0},la=["onClick"],aa={key:0,class:"buttonText"},sa={key:1,class:"buttonText"},ia={class:"buttonText"},na={key:3,class:"flex justify-start btnBox"},oa=pl((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"变化："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),ra={key:0},ua=["onClick"],da={key:0,class:"buttonText"},ca={key:1,class:"buttonText"},pa={class:"buttonText"},va={key:4,class:"flex justify-start btnBox"},ga=pl((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"缩小："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),xa={key:0},ma=["onClick"],ba={key:0,class:"buttonText"},fa={key:1,class:"buttonText"},ya={class:"buttonText"},ka={key:5,class:"flex justify-start btnBox"},ha=pl((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"拉伸："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),Aa={key:0},wa=["onClick"],Ta={key:0,class:"buttonText"},Ia={key:1,class:"buttonText"},Ea={class:"buttonText"},Ca={key:6,class:"flex justify-start btnBox"},ja=pl((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"描述："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),Fa={key:0},Ba=["onClick"],Sa={key:0,class:"buttonText"},Ua={key:1,class:"buttonText"},Ma={class:"buttonText"},Va=e({__name:"taskItem",props:{task:{type:Object,default:()=>({prompt:"",image:"",time:"",updatedAt:""})},chat:{type:String,default:"task"}},emits:["fresh"],setup(e,{emit:i}){const{updateSendSquire:y,updateDrawId:k,updatePreview:w}=l(),I=t(),E=a();we();const B=l(),S=e,U=i;O((()=>e=>{const{progress:t,status:l}=e;return 1===l?"正在排队中...":3===l?"成功":2===l&&100!==t?"正在绘制中...":2===l&&100===t?"正在存储图片中...":4===l?"绘图失败":5===l?"绘图取消":6===l?"窗口等待":"绘图失败"})),O((()=>e=>1===e?"排队中":2===e?"绘制中":3===e?"成功":4===e?"失败":5===e?"超时":"-")),O((()=>e=>{if(!e)return"";return parseInt(e/60+"")+"分"+parseInt(String(e%60))+"秒"})),O((()=>e=>R[e])),O((()=>{var e;const t=(null==(e=S.task)?void 0:e.buttons)||[],l=[],a=[],s=[],i=[],n=[];return t.forEach((e=>{["U1","U2","U3","U4"].includes(e.label)?l.push(e):["V1","V2","V3","V4"].includes(e.label)?a.push(e):e.label.startsWith("Upscale")||e.label.startsWith("Vary")?s.push(e):e.label?i.push(e):n.push(e)})),[l,a,s,i,n].filter((e=>e.length))}));const M=async(e,t)=>{if(!B.isLogin)return E.warning("请先登录"),void B.setLoginDialog(!0);const l=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return C.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return C.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(t);await async function(e){const t=await j({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));k({id:t}),t&&E.success("提交任务成功！")}({action:l,taskId:e.id,customId:t.customId,messageFlags:e.messageFlags||0}),U("fresh")},V=s(["V1","V2","V3","V4"]),_=s();function L(){let e={jobId:S.task.jobId};T(e).then((e=>{_.value=e.data}))}return(t,l)=>(u(),n("div",vl,[d("div",gl,[xl,d("div",ml,[d("div",bl,[d("div",fl,[d("div",yl,[d("div",kl,[hl,Al,d("p",wl,c(S.task.createdAt),1),_.value?(u(),n("p",Tl,"seed值: "+c(_.value),1)):p("",!0),3!=S.task.status||_.value?p("",!0):(u(),n("p",{key:1,class:"Title4",onClick:L},"获取seed值"))])]),d("div",Il,[3===e.task.status?(u(),n("div",{key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:l[0]||(l[0]=e=>(async e=>{y(!0,e.id)})(S.task))},[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),El])):p("",!0),3===e.task.status?(u(),n("div",{key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:l[1]||(l[1]=e=>(e=>{console.log(e);const{favorite:t}=e;I.create({type:"info",title:"确认删除",content:(1===t?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{await A({id:e.id}).then((e=>e.data))&&E.success("删除成功"),U("fresh")},onNegativeClick:()=>{}})})(S.task))},[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),Cl])):p("",!0)])]),d("p",null,c(e.task.originPrompt),1)]),d("p",jl,c(e.task.originPrompt),1),d("div",{class:D(["relative z-0 w-auto flex align-center overflow-hidden contain",["chat-history"===e.chat?"h-[390px]":"h-[390px] "]])},[4===e.task.status?(u(),n("div",Fl,[d("img",{class:"w-auto object-contain",src:g(Ae),alt:"",style:{"margin-top":"10px"}},null,8,Bl),d("div",Sl,[Ul,d("p",Ml,c(e.task.failReason),1)])])):5===e.task.status?(u(),n("div",Vl,[d("img",{class:"w-auto object-contain",src:g(Ae),alt:""},null,8,Ol)])):6===e.task.status?(u(),n("div",Rl,[d("img",{class:"w-auto object-contain",src:g(Ae),alt:""},null,8,Dl)])):e.task.imageUrl||e.task.progress?(u(),n("div",Gl,[v(g(m),{style:{width:"390px"},class:"w-full cursor-pointer bg-[#f9f9f9] dark:bg-[transparent] h-full flex justify-center","preview-src":e.task.imageUrl,"object-fit":"contain",src:e.task.imageUrl||""},null,8,["preview-src","src"])])):(u(),b(G,{key:3,progress:e.task.progress},null,8,["progress"]))],2)])]),d("div",null,[1!=S.task.action&&3!=S.task.action||3!=S.task.status?p("",!0):(u(),n("div",_l,[Ll,(u(!0),n(r,null,o(S.task.buttons,((e,t)=>(u(),n(r,null,[-1==V.value.indexOf(e.label)?(u(),n("div",Nl,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>M(S.task,e)},[e.label?(u(),n("p",Xl,c(e.label),1)):(u(),n("p",Jl,c(e.emoji),1))],8,zl)])),default:f((()=>[d("p",Pl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])),1!=S.task.action&&3!=S.task.action||3!=S.task.status?p("",!0):(u(),n("div",Yl,[ql,(u(!0),n(r,null,o(S.task.buttons,((e,t)=>(u(),n(r,null,[-1!=V.value.indexOf(e.label)?(u(),n("div",Zl,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>M(S.task,e)},[e.label?(u(),n("p",Kl,c(e.label),1)):(u(),n("p",Ql,c(e.emoji),1))],8,Wl)])),default:f((()=>[d("p",Hl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])),4==S.task.action&&3==S.task.status?(u(),n("div",$l,[ea,(u(!0),n(r,null,o(S.task.buttons,((e,t)=>(u(),n(r,null,[-1!=e.label.indexOf("U")?(u(),n("div",ta,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>M(S.task,e)},[e.label?(u(),n("p",aa,c(e.label),1)):(u(),n("p",sa,c(e.emoji),1))],8,la)])),default:f((()=>[d("p",ia,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(u(),n("div",na,[oa,(u(!0),n(r,null,o(S.task.buttons,((e,t)=>(u(),n(r,null,[-1!=e.label.indexOf("V")?(u(),n("div",ra,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>M(S.task,e)},[e.label?(u(),n("p",da,c(e.label),1)):(u(),n("p",ca,c(e.emoji),1))],8,ua)])),default:f((()=>[d("p",pa,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(u(),n("div",va,[ga,(u(!0),n(r,null,o(S.task.buttons,((e,t)=>(u(),n(r,null,[-1!=e.label.indexOf("Z")?(u(),n("div",xa,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>M(S.task,e)},[e.label?(u(),n("p",ba,c(e.label),1)):(u(),n("p",fa,c(e.emoji),1))],8,ma)])),default:f((()=>[d("p",ya,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(u(),n("div",ka,[ha,(u(!0),n(r,null,o(S.task.buttons,((e,t)=>(u(),n(r,null,[e.label?p("",!0):(u(),n("div",Aa,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>M(S.task,e)},[e.label?(u(),n("p",Ta,c(e.label),1)):(u(),n("p",Ia,c(e.emoji),1))],8,wa)])),default:f((()=>[d("p",Ea,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0),2==S.task.action&&3==S.task.status?(u(),n("div",Ca,[ja,(u(!0),n(r,null,o(S.task.buttons,(e=>(u(),n(r,null,[e.label?p("",!0):(u(),n("div",Fa,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>M(e,t.index)},[e.label?(u(),n("p",Sa,c(e.label),1)):(u(),n("p",Ua,c(e.emoji),1))],8,Ba)])),default:f((()=>[d("p",Ma,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])]))}}),Oa=B(Va,[["__scopeId","data-v-023cb40c"]]),Ra={class:"flex flex-col",style:{width:"100%"}},Da={class:"h-auto flex-1"},Ga=e({__name:"chatHistory",props:{task:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const a=e,s=O((()=>a.task)),i=l();O((()=>i.userInfo.avatar));const o=t,r=()=>{o("refresh")};return(e,t)=>(u(),n("div",Ra,[d("div",Da,[v(Oa,{task:s.value,chat:"chat-history",onFresh:r},null,8,["task"])])]))}}),_a=e=>(I("data-v-2c790e88"),e=e(),E(),e),La={key:0},Na={class:"text-sm flex items-center"},za=_a((()=>d("div",{class:"text-[18px] mr-1"},[d("h1",null,"模型设置")],-1))),Xa={"data-tool-target":"tooltip-default"},Ja=_a((()=>d("div",{style:{width:"240px"}},[d("p",null,"MJ: 偏真实通用模型"),d("p",null,"NIJI: 偏动漫风格、适用于二次元模型")],-1))),Pa={class:"flex items-center mt-2"},Ya=_a((()=>d("p",{class:"w-1/2"},"绘画模型",-1))),qa={class:"flex items-center mt-2"},Za=_a((()=>d("p",{class:"w-1/2"},"--q 质量",-1))),Wa={key:0,class:"flex items-center mt-2"},Ka=_a((()=>d("p",{class:"w-1/2"},"--style风格",-1))),Qa={key:1,class:"flex items-center mt-2"},Ha={class:"w-1/2 flex items-center"},$a=_a((()=>d("p",null,"--s 风格化",-1))),es=_a((()=>d("p",null,"数值越高，画面表现也会更具丰富性和艺术性",-1))),ts={class:"flex items-center mt-2"},ls={class:"w-1/2 flex items-center"},as=_a((()=>d("p",null,"--c 多样性",-1))),ss=_a((()=>d("p",null,"值越小生成的四张图风格越相似，反之差异越大",-1))),is=_a((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"垫图图片（0-3张）"),d("p",{class:"text-[14px] mt-2 text-[#999]"},"如需垫图请至少上传一张图片")])],-1))),ns={class:"flex items-center mt-2"},os={class:"flex items-center mt-2"},rs=_a((()=>d("p",{class:"w-1/3"},"图片相似度",-1))),us={class:"w-2/3"},ds=_a((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"不想出现的词")])],-1))),cs={class:"flex items-center mt-2"},ps=_a((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),vs={class:"flex-col mt-2"},gs={class:"flex justify-between"},xs=["onClick"],ms={class:"flex items-center justify-center w-6 h-6"},bs={class:"mt-2 text-center text-xs leading-none text-current"},fs={class:"text-[12px] scale-90"},ys={key:0,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},ks={class:"flex justify-between"},hs={class:"text-base py-1"},As={class:"text-[#3076fd]"},ws={class:"flex items-center"},Ts=ie('<div class="mt-3 space-y-1 items-center text-[#3076fd]" data-v-2c790e88><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>绘画单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>图生图单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>放大单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 1积分 </span></div></div>',1),Is={key:0},Es=_a((()=>d("h1",{class:"text-[18px] my-2"},"图片解读",-1))),Cs=_a((()=>d("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),js=_a((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"上传图片（只能1张）")])],-1))),Fs={class:"flex items-center mt-2"},Bs=["src"],Ss={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Us=[ie('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2)],Ms={key:1},Vs=_a((()=>d("h1",{class:"text-[20px] my-2"},"图混图",-1))),Os=_a((()=>d("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),Rs=_a((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"上传图片（2-5张）")])],-1))),Ds={class:"flex items-center mt-2"},Gs={class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},_s=_a((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),Ls={class:"flex-col mt-2"},Ns={class:"flex justify-between"},zs=["onClick"],Xs={class:"flex items-center justify-center w-6 h-6"},Js={class:"mt-2 text-center text-xs leading-none text-current"},Ps={class:"text-[12px] scale-90"},Ys={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1 select-none"},qs=[ie('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2)],Zs={key:2,class:"flex flex-col"},Ws={class:"flex justify-between mb-2"},Ks=["onClick"],Qs={class:"ml-1 select-none"},Hs=["disabled"],$s={class:"inline"},ei={key:2,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},ti=_a((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[16px]"},"生成模式")])],-1))),li={class:"mb-2"},ai=["onClick"],si={class:"flex flex-row justify-between"},ii={key:3,class:"flex flex-col mt-4"},ni=["disabled"],oi={class:"select-none text-white"},ri={class:"inline"},ui=B(e({__name:"configure",emits:["fresh"],setup(e,{emit:t}){const{updateDrawId:i}=l(),m=a(),A=l(),w=O((()=>A.userBalance.sumDrawMjCount)),T=O((()=>A.mjDrawForm)),{isMobile:I}=_(),E=L(),B=N(),U=O((()=>E.path)),M=s(""),V=S({files:[],previewImages:[]}),R=t,G=s(!1),ie=O((()=>U.value.includes("text-to-image")?F.TEXT_TO_IMAGE:U.value.includes("image-to-text")?F.IMAGE_TO_TEXT:U.value.includes("image-mix-image")?F.IMAGE_MIX_IMAGE:F.NONE)),re=O((()=>ie.value===F.IMAGE_MIX_IMAGE?V.files.length<=1:ie.value===F.IMAGE_TO_TEXT&&V.files.length<=0)),{selectFile:ue}=z(),de=async()=>{const e=await ue();M.value=URL.createObjectURL(e),V.files=[e]},ce=O((()=>T.value.baseImage.map((e=>{const t=e.slice(e.lastIndexOf("/")+1,e.length);return{url:e,id:t.split(".")[0],name:t,status:"finished"}})))),pe=s(!1),ve=O((()=>e=>T.value.size===e));async function ge(){pe.value=!0;try{await A.getUserInfo(),pe.value=!1}catch(e){pe.value=!1}}const xe=["jpg","jpeg","png"],me=e=>{if("finished"===e.file.status||"removed"===e.file.status)return;const t=e.file.type.split("/")[1];if("pending"===e.file.status&&xe.includes(t)){const t=new FileReader;t.readAsDataURL(e.file.file),t.onload=function(){T.value.baseImage.push(t.result),we()}}},be=e=>{"pending"===e.file.status&&V.files.push(e.file.file),"removed"===e.file.status&&(V.files=V.files.filter((t=>t!==e.file.file)))},fe=e=>{const t=e.file.type.split("/")[1];return e.fileList.length>4?(m.warning("最多只能上传5张图片"),!1):xe.includes(t)&&e.fileList.length<=5},ye=e=>{const t=e.file.type.split("/")[1];return e.fileList.length>2?(m.warning("最多只能上传3张图片"),!1):xe.includes(t)&&e.fileList.length<=2},ke=e=>{if("finished"===e.file.status)return T.value.baseImage=T.value.baseImage.filter((t=>-1===t.search(e.file.url))),void we();const t=e.file.id+"."+e.file.type.split("/")[1];T.value.baseImage=T.value.baseImage.filter((e=>-1===e.search(t))),we()},he=e=>{const t=e.file.name;T.value.extendParam=T.value.extendParam.filter((e=>!e.filename.includes(t))),we()},Ae=e=>{T.value.size=e.value,we()},we=async()=>{A.updateMjDrawForm(T.value)},Te=e=>{T.value.mode=e.value,we()},Ie=async()=>{if(!A.isLogin)return m.warning("请先登录"),void A.setLoginDialog(!0);if(!T.value.prompt)return;const e=T.value.baseImage.length?T.value.baseImage.join(" "):void 0;let t=T.value.prompt,l="";/--\w+\s\S+/g.test(t)&&(l=t.slice(t.indexOf("--"),t.length));let a=l||(()=>{let e="";T.value.sensitiveWords&&(e+=` --no ${T.value.sensitiveWords}`);const t=T.value.model.split("-");return t[0].includes("MJ")&&(e+=` --v ${t[1]}`,e+=` --s ${T.value.stylize}`),t[0].includes("NIJI")&&(e+=` --niji ${t[1]}`,T.value.style&&"5"===t[1]&&(e+=` --style ${T.value.style}`)),e+=` --ar ${T.value.size}`,e+=` --c ${T.value.diversity}`,e+=` --q ${T.value.quality}`,e+=` --${oe[T.value.mode]}`,T.value.baseImage.length>0&&(e+=` --iw ${T.value.similarity}`),e})();const s=await j({type:F.TEXT_TO_IMAGE,params:{action:C.TEXT_TO_IMAGE,extend:a,prompt:t,imageUrl:e,mode:T.value.mode,translate:T.value.translate}}).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&B.updateVipDialog(!0)}));s&&m.success("创建文生图任务成功"),T.value.prompt="",i({id:s}),R("fresh")},Ee=async()=>{if(!A.isLogin)return m.warning("请先登录"),void A.setLoginDialog(!0);if(ie.value!==F.NONE){if(ie.value===F.TEXT_TO_IMAGE)await Ie();else{const e=new FormData;ie.value===F.IMAGE_TO_TEXT&&(e.append("type",ie.value+""),e.append("action",F.IMAGE_TO_TEXT+""),e.append("mode",T.value.mode+""),e.append("files",V.files[0])),ie.value===F.IMAGE_MIX_IMAGE&&(e.append("type",ie.value+""),e.append("action",F.IMAGE_MIX_IMAGE+""),e.append("mode",T.value.mode+""),e.append("size",T.value.size+""),V.files.forEach(((t,l)=>{e.append("files",t)})));const t=await ne(e).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&B.updateVipDialog(!0)}));t&&m.success(ie.value===F.TEXT_TO_IMAGE?"创建文生图任务成功":ie.value===F.IMAGE_TO_TEXT?"创建图生文任务成功":ie.value===F.IMAGE_MIX_IMAGE?"创建图混图任务成功":"失败"),t&&i({id:t}),t&&R("fresh")}V.files=[]}else m.error("操作类型错误")};return(e,t)=>(u(),n("div",{class:D([[g(I)?"p-2 h-auto":"overflow-y-auto w-full h-[90vh] p-4 "],"sm:pt-6 bg-[#fff] dark:bg-[#1F1F38] sm:w-[20rem] shrink-0"])},[U.value.includes("text-to-image")?(u(),n("div",La,[d("div",{class:D(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[d("div",Na,[za,d("div",Xa,[v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-base"})])),default:f((()=>[Ja])),_:1})])]),d("div",Pa,[Ya,v(g(J),{value:T.value.model,"onUpdate:value":[t[0]||(t[0]=e=>T.value.model=e),t[1]||(t[1]=e=>{return(t=T.value.model).includes("NIJI")&&(T.value.style=""),t.includes("MJ")&&(T.value.style="raw"),void we();var t})],size:"small",options:g(X)},null,8,["value","options"])]),d("div",qa,[Za,v(g(J),{value:T.value.quality,"onUpdate:value":[t[2]||(t[2]=e=>T.value.quality=e),we],size:"small",options:g(P)},null,8,["value","options"])]),T.value.model.includes("5")?(u(),n("div",Wa,[Ka,T.value.model.includes("NIJI-5")?(u(),b(g(J),{key:0,value:T.value.style,"onUpdate:value":[t[3]||(t[3]=e=>T.value.style=e),we],size:"small",options:g(Y)},null,8,["value","options"])):p("",!0),T.value.model.includes("MJ-5")?(u(),b(g(J),{key:1,value:T.value.style,"onUpdate:value":[t[4]||(t[4]=e=>T.value.style=e),we],size:"small",options:g(q)},null,8,["value","options"])):p("",!0)])):p("",!0),T.value.model.includes("MJ")?(u(),n("div",Qa,[d("div",Ha,[$a,v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:f((()=>[es])),_:1})]),v(g(Z),{value:T.value.stylize,"onUpdate:value":[t[5]||(t[5]=e=>T.value.stylize=e),we],max:1e3,min:0,step:1},null,8,["value"])])):p("",!0),d("div",ts,[d("div",ls,[as,v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:f((()=>[ss])),_:1})]),v(g(Z),{value:T.value.diversity,"onUpdate:value":[t[6]||(t[6]=e=>T.value.diversity=e),we],max:100,min:1,step:1},null,8,["value"])])],2),d("div",{class:D(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[is,d("div",ns,[v(g(W),{accept:".jpg,.jpeg,.png",action:"","default-file-list":ce.value,"default-upload":!1,"on-change":me,"on-before-upload":ye,"on-remove":ke,"list-type":"image-card"},null,8,["default-file-list"])]),d("div",os,[rs,d("div",us,[v(g(J),{value:T.value.similarity,"onUpdate:value":[t[7]||(t[7]=e=>T.value.similarity=e),we],size:"small",options:g(K)},null,8,["value","options"])])])],2),d("div",{class:D(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[ds,d("div",cs,[v(g(Q),{value:T.value.sensitiveWords,"onUpdate:value":t[8]||(t[8]=e=>T.value.sensitiveWords=e),onChange:we,placeholder:"多个词用逗号隔开 如 漂亮，帅哥"},null,8,["value"])])],2),d("div",{class:D(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl"]])},[ps,d("div",vs,[(u(!0),n(r,null,o(g($),(e=>(u(),n("div",gs,[(u(!0),n(r,null,o(e,(e=>(u(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:t=>Ae(e)},[d("div",{class:D(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[d("div",ms,[d("div",{class:D(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:H({width:e.width,height:e.height})},null,6)]),d("div",bs,[d("p",null,c(e.aspect),1),d("p",fs,c(e.label),1)])],2)],8,xs)))),128))])))),256))])],2),g(I)?p("",!0):(u(),n("div",ys,[d("div",ks,[d("span",hs,[y("钱包余额( "),d("b",As,c(w.value||0),1),y(" 积分)")]),d("span",ws,[v(g(k),{text:"",size:"tiny",type:"primary",loading:pe.value,onClick:ge},{default:f((()=>[y("刷新")])),_:1},8,["loading"]),v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-base ml-2"})])),default:f((()=>[y(" 绘画账户信息 ")])),_:1})])]),Ts]))])):p("",!0),U.value.includes("image-to-text")||U.value.includes("image-mix-image")?(u(),n("div",{key:1,class:D(["flex justify-between flex-col",[g(I)?"":"h-full"]])},[U.value.includes("image-to-text")?(u(),n("div",Is,[g(I)?p("",!0):(u(),n(r,{key:0},[Es,Cs],64)),d("div",{class:D(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl mt-4"]])},[js,d("div",Fs,[d("div",{class:"w-[96px] overflow-hidden object-contain h-[96px] flex justify-center items-center rounded hover:dark:border-gray-500 hover:border-gray-400 border-dashed border border-gray-300 cursor-pointer dark:border-gray-600",onClick:de},[M.value?(u(),n("img",{key:0,src:M.value,class:"object-contain w-full h-full",alt:""},null,8,Bs)):(u(),b(g(x),{key:1,icon:"octicon:plus-16",class:"text-[20px]"}))])])],2),g(I)?p("",!0):(u(),n("div",Ss,Us))])):p("",!0),U.value.includes("image-mix-image")?(u(),n("div",Ms,[g(I)?p("",!0):(u(),n(r,{key:0},[Vs,Os],64)),d("div",{class:D(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(I)?"rounded":"rounded-xl mt-4"]])},[Rs,d("div",Ds,[v(g(W),{accept:".jpg,.jpeg,.png",action:"",disabled:V.files.length>=5,"default-file-list":V.files,"default-upload":!1,"on-change":be,"on-before-upload":fe,"on-remove":he,"list-type":"image-card"},null,8,["disabled","default-file-list"])])],2),d("div",Gs,[_s,d("div",Ls,[(u(!0),n(r,null,o(g(ee),(e=>(u(),n("div",Ns,[(u(!0),n(r,null,o(e,(e=>(u(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:t=>Ae(e)},[d("div",{class:D(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[d("div",Xs,[d("div",{class:D(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:H({width:e.width,height:e.height})},null,6)]),d("div",Js,[d("p",null,c(e.aspect),1),d("p",Ps,c(e.label),1)])],2)],8,zs)))),128))])))),256))])]),g(I)?p("",!0):(u(),n("div",Ys,qs))])):p("",!0),g(I)?p("",!0):(u(),n("div",Zs,[d("ul",Ws,[(u(!0),n(r,null,o(g(le),(e=>(u(),n("li",{class:"flex justify-start cursor-pointer",onClick:t=>Te(e)},[v(g(te),{size:"small",checked:T.value.mode===e.value,value:e.value,onChange:t=>Te(e)},null,8,["checked","value","onChange"]),d("p",Qs,c(e.label),1)],8,Ks)))),256))]),d("button",{class:D(["w-full flex justify-center items-center h-10 rounded-full text-center",[re.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed ":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:re.value,onClick:Ee},[G.value?(u(),b(g(x),{key:0,icon:"eos-icons:bubble-loading",class:"mr-1"})):p("",!0),G.value?p("",!0):(u(),n("p",{key:1,class:D(["select-none",[re.value?" text-[#333] dark:text-[#ccc]":" text-[#fff] dark:text-[#fff]"]])},[y("提交任务("),d("span",$s,[v(g(ae),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")],2))],10,Hs)]))],2)):p("",!0),g(I)?(u(),n("div",ei,[ti,d("ul",li,[(u(!0),n(r,null,o(g(se),(e=>(u(),n("li",{class:D(["w-full my-2 p-2 dark:bg-[#42425F] bg-[#F7F7F7] cursor-pointer",[g(I)?"rounded":""]]),onClick:t=>Te(e)},[d("div",si,[d("p",{class:D(["select-none",[T.value.mode===e.value?"text-[#3076ED]":""]])},c(e.label),3),v(g(te),{size:"small",checked:T.value.mode===e.value,value:e.value,onChange:t=>Te(e)},null,8,["checked","value","onChange"])])],10,ai)))),256))])])):p("",!0),g(I)?(u(),n("div",ii,[d("button",{class:D(["w-full flex justify-center items-center h-10 rounded-full text-center",[re.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:re.value,onClick:Ee},[d("p",oi,[y("提交任务("),d("span",ri,[v(g(ae),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")])],10,ni)])):p("",!0)],2))}}),[["__scopeId","data-v-2c790e88"]]),di={class:"input-message"},ci={class:"flex items-stretch space-x-2"},pi={class:"relative flex-1 mj-input"},vi={class:"flex justify-between items-center mb-2"},gi={class:"flex flex-start items-center text-[16px]"},xi=[d("p",{class:"select-none text-[12px]"},"咒语生成器",-1)],mi={class:"absolute bottom-2 left-2"},bi={class:"flex items-center justify-between"},fi={class:"flex justify-between items-center"},yi=d("label",{class:"text-sm"},"自动翻译",-1),ki=e({__name:"chatMessage",setup(e){const{isMobile:t}=_(),{updatePromptWords:a,updateInspireDialog:i}=l(),o=s(""),r=O((()=>t.value?re("chat.placeholderMobile"):re("chat.placeholder"))),c=()=>{a({prompt:o.value})},p=()=>{i(!0)};return(e,l)=>(u(),n("footer",di,[d("div",{class:D(["m-auto",g(t)?"px-2 py-1":"mt-4"])},[d("div",ci,[d("div",pi,[d("div",vi,[d("p",gi,[v(g(x),{icon:"ri:input-field"}),y(" 输入描述词 ")]),d("div",{class:"bg-[#F7F7F7] bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r rounded-3xl flex justify-start py-1 px-2 cursor-pointer hover:bg-[#3144F1] hover:dark:bg-[#3144F1]",onClick:p},xi)]),v(g(Q),{ref:"inputRef",value:o.value,"onUpdate:value":[l[0]||(l[0]=e=>o.value=e),c],type:"textarea",round:"",class:"pb-10",clearable:"",maxlength:"500","show-count":"",placeholder:r.value,rows:3},null,8,["value","placeholder"]),d("div",mi,[d("div",bi,[d("div",fi,[yi,v(g(ue),{text:"",size:"small",round:""})])])])])])],2)]))}}),hi={class:"flex justify-between"},Ai={class:"mr-2 w-full"},wi={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},Ti={class:"p-2"},Ii={class:"mb-2"},Ei={class:"level-classify text-[15px] py-2 pt-2"},Ci={key:0,class:"my-1"},ji=["onClick"],Fi={class:"select-none text-white"},Bi={class:"w-full h-full flex flex-col"},Si={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},Ui=[d("p",{class:"dark:text-white text-white"},"前往制作",-1)],Mi=e({__name:"createInspiration",setup(e){const t=s(""),a=l(),i=O((()=>a.inspirationDialog)),x=S({level1:[],level2:[]}),m=s(0),y=async e=>{m.value=e,x.level2=await ge({id:e}).then((e=>e.data.rows))},k=()=>{a.updatePromptWords({prompt:t.value}),a.updateInspireDialog(!1)},h=()=>{a.updateInspireDialog(!1)};return de((()=>{(async()=>{const e=await xe({level:0}).then((e=>e.data)),{level1:t}=e;await y(t[0].id),Object.assign(x,{level1:t})})()})),(e,l)=>(u(),b(g(ve),{show:i.value,"onUpdate:show":l[1]||(l[1]=e=>i.value=e),style:{width:"100vw","max-width":"100vw",height:"100vh"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1,onClose:h},{default:f((()=>[d("div",hi,[d("div",Ai,[v(g(pe),{value:m.value,"onUpdate:value":[l[0]||(l[0]=e=>m.value=e),y],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:f((()=>[(u(!0),n(r,null,o(x.level1,(e=>(u(),b(g(ce),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),d("div",wi,[d("ul",Ti,[(u(!0),n(r,null,o(x.level2,(e=>(u(),n("li",null,[d("div",Ii,[d("span",Ei,c(e.classifyName),1)]),e.children.length>0?(u(),n("div",Ci,[(u(!0),n(r,null,o(e.children,(e=>(u(),n("div",{key:e.id,class:D(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[t.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:l=>(e=>{t.value.includes(e.incantationEn)?t.value=t.value.replace(e.incantationEn+",",""):t.value+=e.incantationEn+","})(e)},[d("button",Fi,c(e.incantationCn)+" "+c(e.incantationEn),1)],10,ji)))),128))])):p("",!0)])))),256))])])]),d("div",Bi,[d("div",Si,[d("p",null,c(t.value),1)]),d("div",{onClick:k,class:"rounded-full flex items-center justify-center mt-2 w-full h-[28px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},Ui)])])])),_:1},8,["show"]))}}),Vi={class:"text-image-container flex flex-row"},Oi={class:"w-full pt-2 flex flex-col justify-between"},Ri=e({__name:"text2image",setup(e){const t=l(),a=L();O((()=>t.drawId));const i=O((()=>a.path));return s({}),s(),(e,t)=>(u(),n(r,null,[v(Mi,{ref:"inspirationRef"},null,512),d("div",Vi,[d("div",Oi,[i.value.includes("text-to-image")?(u(),b(ki,{key:0})):p("",!0),v(ui,{ref:"configRef"},null,512)])])],64))}}),Di="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAcpJREFUSEvVlL1L11EUxj9PNDaUg0ovtARGSdSUvagYki0RpEtDEC3R0hBobwaBZboYDYoIoUiDEATNgqB/gUO1NTVUtNVQ29PvyFV+L36/3n60dOBO9zyfe8+5z7niH4TtFuAkcAm4CnxVs1zbncB54DLQA+ypYn3OBts+DJwDzgIDwJGSS40Wgm3vBrqBLqAf6ANyL9Jdk2i7AziTSrsIHGiiVd+Bdtm+AFwBTqfVBKtGsiTpWoD9l6QfwG+gtUB3W9JsgG8CrzLgAXyQgKE5VKBpl/Rto8e243GWCxI/AVOSZmyHTxeAtoLcj5KOx97W49kOT64Cu5IoDpqW9C4dfg+Y2KGyF5Lu1oCTOOAxOYuS1jchtt8AQxnt6pW01gCuF9reW7HeCnAqAxoP2iLpVynY9tHU94MZ0EhZlhTe34iyyRtPLsjk8ljS0xzwQ+BZLhXolPQhB3wfeJ4J/iJpf3VuWStGgMmUHLffBwwXHPRa0vVc8CgwBsxJupXsOA/c2AY+KOltLngJOFYRnKgW2H4J3KmDt0qKX20ryloR3+d7ST+38XdUEhVFrFems8HnuR93Q/W2Y8QfVTaeSJqqT2gavJNb/j/wH+wWjGlt1nwMAAAAAElFTkSuQmCC",Gi=e=>(I("data-v-bb8ed762"),e=e(),E(),e),_i={key:0,class:"contentCenterBottom bg-[#F4F4F4] dark:bg-[#010102]"},Li={class:"inputBox"},Ni=["disabled"],zi={class:"inpBoxLeft"},Xi={class:""},Ji={class:"selectBox"},Pi={class:"other"},Yi={key:0},qi={class:"drawModeBox bg-[#FFFFFF] dark:bg-[#15171A]"},Zi={style:{display:"flex","align-items":"center","justify-content":"center","font-size":"13px"}},Wi=Gi((()=>d("div",{style:{width:"70px",height:"30px","line-height":"30px"}},"绘图模式",-1))),Ki=Gi((()=>d("p",null,"普通模式：高峰期预计需要10分钟出图（会员免费使用） 快速模式：平均1-2分钟出图（每张消耗4绘画积分）",-1))),Qi=["onClick"],Hi={class:"text-[#696969] dark:text-[#fff] modeName"},$i=Gi((()=>d("div",{class:"smallBox bg-[#FFFFFF] dark:bg-[#15171A]",style:{position:"absolute"}},null,-1))),en={class:"otherItem"},tn=Gi((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"自动翻译",-1))),ln=[Gi((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"联想",-1))),Gi((()=>d("img",{class:"setImg",src:Ee,alt:""},null,-1)))],an=[Gi((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"提示词生成器",-1)))],sn={class:"inpBoxRight"},nn={key:0},on=["disabled"],rn=[Gi((()=>d("p",{class:"sendText"},"发送",-1))),Gi((()=>d("img",{class:"sendImg",src:Di,alt:""},null,-1)))],un={key:1},dn=[Gi((()=>d("p",{class:"sendText"},"发送",-1))),Gi((()=>d("img",{class:"sendImg",src:Di,alt:""},null,-1)))],cn={style:{color:"#eeeeee"},class:"end"},pn={style:{display:"flex"}},vn={key:0,style:{display:"flex"}},gn=Gi((()=>d("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:Ce,alt:""},null,-1))),xn=["href"],mn={key:1,style:{display:"flex"}},bn=Gi((()=>d("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:je,alt:""},null,-1))),fn=["href"],yn={key:1},kn={key:0,class:"sendBox dark:bg-[#15171A] bg-[#FFFFFF] border-t-[2px] dark:border-[#4A4C4F] border-[#CECFD0]"},hn=[Gi((()=>d("div",{class:"send"},"提交任务（",-1))),Gi((()=>d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuSURBVHgB7ZLNDcIwDIVfKgYpG7ABcOUCTFBG6SZ0BDgA17IBG5A14IB55kdc6sQIjv2kOFL8o2fHQI8iB5Syx8ITW+SroeYZwUGRU8VrDCdpZTdMaEs4CSknZ3V+Fduw1e3j8Yo2LBG/KiY7rOhdd7jaMMO0K8duM6AyPI2dYinT4T9nplFzWl2PSFVD/AJbrjk/4alScfk9+xBxwfE/xcT+xTcDeAg4UVWDHuUOYuQrAb9WX3gAAAAASUVORK5CYII=",alt:""},null,-1))),Gi((()=>d("div",null,"4）",-1)))],An=B(e({__name:"newSend",props:{imageList:{type:Array},sendType:{type:Number}},emits:["isSettingShow","getjobId","resquestStatus"],setup(e,{emit:t}){a();const m=me(),b=L(),k=l(),A=O((()=>k.mjDrawForm)),w=t,T=a(),I=e,E=s(),B=I.sendType,S=s(!1),U=s(0);function V(){S.value?U.value=1:U.value=0}i.on("selectIncantation",(e=>{E.value=e}));const R=O((()=>b.path)),G=s(!1),_=s("--v");i.on("MjOrNj",(e=>{_.value=e}));const N=s("");i.on("styleWord",(e=>{N.value=e}));const z=s({}),X=s(),J=s([]),P=s(0);be(E,((e,t)=>{$()}));const Y=s(.25),q=s(0),Z=s(0),W=s([]),K=s([]),Q=s([]);function $(){X.value=E.value,E.value?P.value=0:P.value=1}const ee=s("--ar 1:1");if(z.value.seed="",z.value.no="",z.value.v=" 6.0",z.value.sizeValue=ee.value,z.value.q="--q 1",z.value.s="--s 0",z.value.c="--c 0",localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));z.value.fast=e.value}else z.value.fast="--fast";z.value.tile="--tile 0",z.value.stop="",z.value.weird="",i.on("--seed",(e=>{z.value.seed=0==e?"":e})),i.on("--no",(e=>{z.value.no=e})),i.on("base64Array",(e=>{J.value=e})),i.on("--v",(e=>{z.value.v=e})),i.on("sizeValue",(e=>{ee.value="--ar "+e,z.value.sizeValue=ee.value})),i.on("--q",(e=>{z.value.q="--q "+e})),i.on("--s",(e=>{z.value.s="--s "+e})),i.on("--c",(e=>{z.value.c="--c "+e})),i.on("--tile",(e=>{e=e?1:0,z.value.tile="--tile "+e})),i.on("--stop",(e=>{z.value.stop="--stop "+e})),i.on("--weird",(e=>{z.value.weird="--weird "+e})),i.on("--iw",(e=>{Y.value=e})),i.on("--cw",(e=>{q.value=e})),i.on("--sw",(e=>{Z.value=e})),i.on("pidImgList",(e=>{W.value=[],e.forEach((e=>{W.value=[...W.value,e.url]}))})),i.on("roleImgList",(e=>{K.value=[],e.forEach((e=>{K.value=[...K.value,e.url]}))})),i.on("styleImgList",(e=>{console.log(e),Q.value=[],e.forEach((e=>{Q.value=[...Q.value,e.url]}))}));const te=s(1),le=s();i.on("imageForm",(e=>{le.value=e}));const ae=O((()=>R.value.includes("text-to-image")?F.TEXT_TO_IMAGE:R.value.includes("image-to-text")?F.IMAGE_TO_TEXT:R.value.includes("image-mix-image")?F.IMAGE_MIX_IMAGE:F.NONE));let se=new FormData;function ie(){console.log(ae.value),0==P.value&&(ae.value==F.TEXT_TO_IMAGE?(pe(),X.value="",P.value=0):ae.value==F.IMAGE_TO_TEXT?le.value?(P.value=1,i.emit("upLoadIsShow",0),se.append("type",ae.value+""),se.append("action",F.IMAGE_TO_TEXT+""),se.append("mode",A.value.mode+""),se.append("files",le.value.files[0]),ne(se).then((e=>{200==e.code&&(w("getjobId",e.data),w("resquestStatus",1),se=new FormData)})).catch((e=>{E.value="",P.value=0}))):T.error("请上传一张图片"):ae.value==F.IMAGE_MIX_IMAGE?ce():0==ae.value&&function(){if(!oe.value)return void T.error("请上传人脸模板图片");if(!re.value)return void T.error("请上传替换人脸目标图");let e={type:4,params:{action:22,sourceBase64:oe.value,targetBase64:re.value,mode:1}};ke(e).then((e=>{P.value=1,200==e.code&&(w("getjobId",e.data),w("resquestStatus",1))}))}())}i.on("status",(e=>{P.value=e,0==e&&(E.value="")}));const oe=s(""),re=s("");i.on("sourceBase64",(e=>{oe.value=e})),i.on("targetBase64",(e=>{re.value=e}));const de=s("SQUARE");i.on("imageMixImageSize",(e=>{de.value=e}));const ce=()=>{let e={type:ae.value+"",action:F.IMAGE_MIX_IMAGE+"",mode:A.value.mode+"",base64Array:J.value,size:de.value};J.value.length<2?T.error("请上传2-5张图片"):(i.emit("upLoadIsShow",0),P.value=1,ne(e).then((e=>{P.value=1,200==e.code&&(w("getjobId",e.data),w("resquestStatus",1))})).catch((e=>{E.value="",P.value=0})))},pe=()=>{G.value?(w("isSettingShow",!G.value),G.value=!G.value):(w("isSettingShow",G.value),G.value=!G.value);let{no:e,v:t,sizeValue:l,q:a,s:s,c:i,fast:n,tile:o,stop:r,weird:u,seed:d}=z.value,c=_.value;P.value=1,j({type:F.TEXT_TO_IMAGE,params:{prompt:N.value?X.value+" "+N.value:X.value,action:C.TEXT_TO_IMAGE,extend:(""!=e?`--no ${e} `:"")+c+t+" "+l+" "+a+" "+s+" "+i+" "+n+" "+(""==r?"":r)+" "+(""==u?"":u)+(d?` --seed ${d}`:""),base64Array:J.value.length?J.value:[],mode:te.value,translate:U.value,iw:Y.value,cw:q.value,sw:Z.value,mats:W.value,roles:K.value,styles:Q.value}}).then((e=>{200==e.code&&(w("getjobId",e.data),w("resquestStatus",1),P.value=0,E.value="")})).catch((e=>{E.value="",P.value=0,E.value=""}))};s("/midjourney/text-to-image").value=m.currentRoute.value.fullPath;const ve=[{name:"快速模式",id:0,value:"--fast",icon:"/src/views/midjourney/img/right1.png",type:1},{name:"休闲模式",id:1,value:"--relax",icon:"/src/views/midjourney/img/importent.png",type:2},{name:"Turbo模式",id:2,value:"--turbo",icon:"/src/views/midjourney/img/importent.png",type:3}],ge=s(!1),xe=()=>{ge.value=!ge.value},he=s("");if(localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));he.value=e.name,te.value=e.type}else he.value="快速模式";const Ae=s(),we=s(),Ee=()=>{console.log(ae),1==ae.value&&Ae.value.open()},Ce=()=>{1==ae.value&&we.value.open()};i.on("prompts",(e=>{E.value=e,X.value=e})),i.on("think",(e=>{E.value=e})),i.on("error",(e=>{P.value=0}));const je=s(""),Be=s(""),Se=s(""),Ue=s(""),Me=s("");return Fe({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{je.value=e.data.copyrightTitle,Be.value=e.data.icpNumber,Se.value=e.data.policeFilingNumber,Ue.value=e.data.icpUrl,Me.value=e.data.policeFilingUrl})),(e,t)=>(u(),n(r,null,[v(Te,{ref_key:"thinkRef",ref:Ae},null,512),v(Ie,{ref_key:"inspirationRef",ref:we},null,512),0==g(B)?(u(),n("div",_i,[d("div",Li,[fe(d("textarea",{style:{resize:"none",width:"100%",height:"30px","line-height":"30px"},disabled:2==ae.value||3==ae.value,class:"inp dark:bg-[#010102] bg-[#F4F4F4]",placeholder:"在此处描述画图的关键字，注意不要在此填入萝莉、性感血腥等敏感词内容，100%不会出图","onUpdate:modelValue":t[0]||(t[0]=e=>E.value=e),onInput:$},null,40,Ni),[[ye,E.value]])]),d("div",zi,[d("div",Xi,[d("div",Ji,[d("div",Pi,[ge.value?(u(),n("div",Yi,[d("div",qi,[d("div",Zi,[Wi,v(g(h),{trigger:"hover",placement:"top"},{trigger:f((()=>[d("div",null,[v(g(x),{style:{"font-size":"16px"},class:"text-[#D2D2D2] dark:text-[#9898A1]",icon:"f7:exclamationmark-circle-fill"})])])),default:f((()=>[Ki])),_:1})]),(u(),n(r,null,o(ve,(e=>d("div",{key:e.id,class:"drawModeText",onClick:t=>(e=>{z.value.fast=e.value,te.value=e.type,he.value=e.name,ge.value=!1,localStorage.setItem("drawMode",JSON.stringify(e))})(e)},[d("p",Hi,c(e.name),1),v(g(x),{style:{"font-size":"16px"},class:"text-[#B3B3B3] dark:text-[#9898A1]",icon:"mingcute:right-line"})],8,Qi))),64)),$i])])):p("",!0),d("div",{class:"selectBox1 dark:bg-[#15171A] bg-[#FFFFFF;]",onClick:xe},"# "+c(he.value),1),d("div",en,[tn,v(g(M),null,{default:f((()=>[v(g(ue),{value:S.value,"onUpdate:value":[t[1]||(t[1]=e=>S.value=e),V],size:"small",disabled:2==ae.value||3==ae.value},null,8,["value","disabled"])])),_:1})]),d("div",{class:"otherItem",onClick:Ee},ln),d("div",{class:"otherItem",onClick:Ce},an)]),d("div",sn,[ae.value==g(F).TEXT_TO_IMAGE?(u(),n("div",nn,[d("button",{class:D(1==P.value?"notSend":"send"),onClick:ie,disabled:!X.value,style:H(X.value?"":" cursor:not-allowed")},rn,14,on)])):(u(),n("div",un,[d("button",{class:D(1==P.value?"notSend":"send"),onClick:ie},dn,2)]))])])])]),d("div",cn,[d("div",pn,[y("版权所有 © "+c(je.value)+" ",1),Be.value?(u(),n("div",vn,[gn,d("a",{href:Ue.value||"#"},c(Be.value),9,xn)])):p("",!0),Se.value?(u(),n("div",mn,[bn,d("a",{href:Me.value||"#"},c(Se.value),9,fn)])):p("",!0)])])])):p("",!0),1==g(B)?(u(),n("div",yn,[ae.value!=g(F).TEXT_TO_IMAGE?(u(),n("div",kn,[d("div",{class:"btnBox dark:bg-[#2960BE] bg-[#3378ED]",onClick:ie},hn)])):p("",!0)])):p("",!0)],64))}}),[["__scopeId","data-v-bb8ed762"]]),wn=e=>(I("data-v-2032b4ab"),e=e(),E(),e),Tn={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},In=wn((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Ue,alt:""})],-1))),En={class:"drawContent"},Cn={style:{display:"flex","align-items":"center","justify-content":"space-between"}},jn={class:"drawContentTitle"},Fn=wn((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),Bn=wn((()=>d("p",{class:"Title2"},"AI机器人",-1))),Sn={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Un={key:0},Mn={class:"twoBtnBox"},Vn={key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]"},On=wn((()=>d("div",{style:{"margin-left":"4px"}},"发布",-1))),Rn={key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]"},Dn=wn((()=>d("div",{style:{"margin-left":"4px"}},"删除",-1))),Gn={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},_n={class:""},Ln={class:"drawContentTitle2"},Nn={class:"Title"},zn=["src"],Xn={key:0,class:"flex justify-start btnBox"},Jn=wn((()=>d("div",{style:{display:"flex","align-items":"center"}},[d("p",{style:{"margin-top":"13px","margin-right":"10px"}},"编辑: "),d("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Se,alt:""})],-1))),Pn={key:0},Yn=["onClick"],qn={key:0,class:"buttonText"},Zn={key:1,class:"buttonText"},Wn={class:"buttonText"},Kn={key:1,class:"flex justify-start btnBox"},Qn=wn((()=>d("div",{style:{display:"flex"}},[d("p",{style:{"margin-top":"13px","margin-right":"10px"}},"变化: "),d("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Se,alt:""})],-1))),Hn={key:0},$n=["onClick"],eo={key:0,class:"buttonText"},to={key:1,class:"buttonText"},lo={class:"buttonText"},ao={key:2,class:"flex justify-start btnBox"},so=wn((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"放大："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),io={key:0},no=["onClick"],oo={key:0,class:"buttonText"},ro={key:1,class:"buttonText"},uo={class:"buttonText"},co={key:3,class:"flex justify-start btnBox"},po=wn((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"变化："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),vo={key:0},go=["onClick"],xo={key:0,class:"buttonText"},mo={key:1,class:"buttonText"},bo={class:"buttonText"},fo={key:4,class:"flex justify-start btnBox"},yo=wn((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"缩小："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),ko={key:0},ho=["onClick"],Ao={key:0,class:"buttonText"},wo={key:1,class:"buttonText"},To={class:"buttonText"},Io={key:5,class:"flex justify-start btnBox"},Eo=wn((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"拉伸："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),Co={key:0},jo=["onClick"],Fo={key:0,class:"buttonText"},Bo={key:1,class:"buttonText"},So={class:"buttonText"},Uo={key:6,class:"flex justify-start btnBox"},Mo=wn((()=>d("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[d("p",null,"描述："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Se,alt:""})],-1))),Vo={key:0},Oo=["onClick"],Ro={key:0,class:"buttonText"},Do={key:1,class:"buttonText"},Go={class:"buttonText"},_o=B(e({__name:"drawView",props:{drawLogList:{type:Array},task:{type:Object,required:!0}},emits:["fresh","newJob"],setup(e,{emit:t}){we();const{updateDrawId:i}=l(),A=l(),w=a(),I=e;s(I.drawLogList);const E=t;const B=async(e,t)=>{if(console.log(e,t),!A.isLogin)return w.warning("请先登录"),void A.setLoginDialog(!0);const l=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return C.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return C.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(e);await async function(e){const t=await j({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));i({id:t}),t&&w.success("提交任务成功！"),E("newJob",t)}({action:l,taskId:t.id,customId:e.customId,messageFlags:t.messageFlags||0})},S=s(["V1","V2","V3","V4"]),U=s();function M(){let e={jobId:I.task.jobId};T(e).then((e=>{console.log(e),U.value=e.data}))}return(t,l)=>(u(),n("div",Tn,[In,d("div",En,[d("div",Cn,[d("div",jn,[Fn,Bn,d("p",Sn,c(I.task.createdAt),1),U.value?(u(),n("p",Un,"seed值: "+c(U.value),1)):p("",!0),3!=I.task.status||U.value?p("",!0):(u(),n("p",{key:1,class:"Title5",onClick:M},"获取seed值"))]),d("div",Mn,[3===e.task.status?(u(),n("div",Vn,[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),On])):p("",!0),3===e.task.status?(u(),n("div",Rn,[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),Dn])):p("",!0)])]),d("div",Gn,[d("p",_n,c(I.task.originPrompt),1)]),d("div",Ln,[d("p",Nn,c(I.task.prompt?I.task.prompt.split("--")[0]:""),1)]),d("div",{class:"drawImgBox",style:H({height:I.task.imageUrl?"":"400px"})},[6===I.task.status?(u(),n("img",{key:0,src:g(Ae),alt:""},null,8,zn)):p("",!0),v(g(m),{style:{width:"390px"},"preview-src":I.task.imageUrl,"object-fit":"contain",src:I.task.imageUrl?I.task.imageUrl:g(Ae)},null,8,["preview-src","src"]),I.task.imageUrl||6==I.task.status?p("",!0):(u(),b(G,{key:1}))],4),6===I.task.status?(u(),b(g(k),{key:0,type:"primary",style:{"margin-left":"12px"},onClick:l[0]||(l[0]=e=>(I.task,void he.push({path:"midjourney/paint-task"})))},{default:f((()=>[y(" 补充描述词 ")])),_:1})):p("",!0),d("div",null,[1!=I.task.action&&3!=I.task.action||3!=I.task.status?p("",!0):(u(),n("div",Xn,[Jn,(u(!0),n(r,null,o(I.task.buttons,(e=>(u(),n(r,null,[-1==S.value.indexOf(e.label)?(u(),n("div",Pn,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>B(e,t.index)},[e.label?(u(),n("p",qn,c(e.label),1)):(u(),n("p",Zn,c(e.emoji),1))],8,Yn)])),default:f((()=>[d("p",Wn,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])),1!=I.task.action&&3!=I.task.action||3!=I.task.status?p("",!0):(u(),n("div",Kn,[Qn,(u(!0),n(r,null,o(I.task.buttons,(e=>(u(),n(r,null,[-1!=S.value.indexOf(e.label)?(u(),n("div",Hn,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>B(e,t.index)},[e.label?(u(),n("p",eo,c(e.label),1)):(u(),n("p",to,c(e.emoji),1))],8,$n)])),default:f((()=>[d("p",lo,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])),4==I.task.action&&3==I.task.status?(u(),n("div",ao,[so,(u(!0),n(r,null,o(I.task.buttons,(e=>(u(),n(r,null,[-1!=e.label.indexOf("U")?(u(),n("div",io,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>B(e,t.index)},[e.label?(u(),n("p",oo,c(e.label),1)):(u(),n("p",ro,c(e.emoji),1))],8,no)])),default:f((()=>[d("p",uo,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==I.task.action&&3==I.task.status?(u(),n("div",co,[po,(u(!0),n(r,null,o(I.task.buttons,(e=>(u(),n(r,null,[-1!=e.label.indexOf("V")?(u(),n("div",vo,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>B(e,t.index)},[e.label?(u(),n("p",xo,c(e.label),1)):(u(),n("p",mo,c(e.emoji),1))],8,go)])),default:f((()=>[d("p",bo,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==I.task.action&&3==I.task.status?(u(),n("div",fo,[yo,(u(!0),n(r,null,o(I.task.buttons,(e=>(u(),n(r,null,[-1!=e.label.indexOf("Z")?(u(),n("div",ko,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>B(e,t.index)},[e.label?(u(),n("p",Ao,c(e.label),1)):(u(),n("p",wo,c(e.emoji),1))],8,ho)])),default:f((()=>[d("p",To,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==I.task.action&&3==I.task.status?(u(),n("div",Io,[Eo,(u(!0),n(r,null,o(I.task.buttons,(e=>(u(),n(r,null,[e.label?p("",!0):(u(),n("div",Co,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>B(e,t.index)},[e.label?(u(),n("p",Fo,c(e.label),1)):(u(),n("p",Bo,c(e.emoji),1))],8,jo)])),default:f((()=>[d("p",So,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0),2==I.task.action&&3==I.task.status?(u(),n("div",Uo,[Mo,(u(!0),n(r,null,o(I.task.buttons,(e=>(u(),n(r,null,[e.label?p("",!0):(u(),n("div",Vo,[v(g(h),{trigger:"hover"},{trigger:f((()=>[d("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>B(e,t.index)},[e.label?(u(),n("p",Ro,c(e.label),1)):(u(),n("p",Do,c(e.emoji),1))],8,Oo)])),default:f((()=>[d("p",Go,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])])]))}}),[["__scopeId","data-v-2032b4ab"]]),Lo=e=>(I("data-v-95706188"),e=e(),E(),e),No={class:"popBox"},zo=Lo((()=>d("div",{style:{display:"flex","align-items":"center"}},[d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAn5JREFUSEvFlk9IVFEUh7+jjCaKTi7SLIM2FbQpaNMu0AqckaRMUGcW6SpXQdrGRRS4KW0RZSuTmmkKMSgag8HcRosWuUsoCoT+EaGkjDbpifdeIzM2ztybUG/33v397nfuveede4QCT+OYVpUu0SrFNKIcUKgXKFdYFJgFpnWVyeUtjD9rk/l808lGg01jWluUoh+lGygrFBSQRBhZ9THwtE0+5dLnhAWj2qEwLFBlAMmSKMwL9MRDElvv/QMWuKuDUsR5W8h6vcLQREh6M79nwYJRvQL0bRaU4b8aD8mF9PsazNk64F4+UGUJ7Kn2FO/n4WvSICwlFA+LO68La4hpTdkKrxH8+ewHa+Byo6e48QISb41gc8li9k11yGcXFojosAhnC1nrK2D4hKe6/hwm3xVyeOOq3JoIS48cGVV/hY8PJumdCbs0BS9zJnjOAJILKeokENUugRGzGOFJp6e0hKHQLYGIxkRot4X1PIbZBVMXDuy+BCPqJMZeU1vkJPjLwBaGMuOsbEGEclPYnRaoLofWB7C8YupysoTvEoyqWli42QS7tkJz3j8y54wr1isbOgZ1ldA+bhNiemWWZ9Z3GHZUwrmENWzGSf2YYJ6Nlog1uZuNtv/ZJmDdVhVkdxWc3u/hEm9g+osx2qsgNrXxUC1cbPAAxoU4szY6RtOq/1cwJbvqO8BgRDsRovk2prQYtv3uRr4tweJPg20UQvHOjPssbflnN3Ua2BzVQWXzPQjKtXhYsnqZ/9tdpVd4PKLbfUI/0GVysbp9I9xOKQOJsHzMdZobNqlpccuo+lMlnBLlKLgd8U5xmlZlEXFv+FcqTPp+8PDRGZnLlzK/ADXe7vdu9RfoAAAAAElFTkSuQmCC",alt:""}),d("p",{class:"popTitle"},"提示")],-1))),Xo=Lo((()=>d("div",{class:"introBox"},[d("p",{class:"intro"},"积分不足，请购买会员套餐获取积分，享受更多会员权益")],-1))),Jo=B(e({__name:"popup",emits:["closePop","buyVip"],setup(e,{emit:t}){const l=t,a=()=>{l("closePop")},s=()=>{l("buyVip")};return(e,t)=>(u(),n("div",No,[d("div",{class:"popTopBox"},[zo,d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAw1JREFUSEvFljtMU2EUx/+HV7ENoSxYjQZCApaNAIGw24ReBkLq4mOCSVYfCzOLrxEnnFQWG8LALUl3IMDQTlQICWCi7cIj2vYCLUfPZy9paW9vq0TPdu93vvP7zvP7CDYSDoebM5nMPQB3AfQAuA3ABSAJ4AszR4koXFdX98nn8x2XM0dWi4uLix4imiKiCQDX7A7FzOlfB5ll5umRkZF4Kf2SsKWlpQfMPAOg2Q5SYv2YiCaHh4c/Xl4rgum6/oqInvwBpGALM7/WNO1p/s8CWCgUevErF8/+FpS3/6Xf739ufl/AcqH7cIUgZYqZH2mapuwq2MLCwvX6+voYEblNWE1NDTo6OrCzsyMbbM/Q2dmJ/f19nJycXA7n0dnZmXd0dDShYLquzxDR43yt1tZW9Pb2Ih6PIxqNlgV6vV60t7dje3tbHe6yMPNbTdMmaX5+3u1wOL4SUVF5iwExJMBIJFLSO1Pn4OAA6+vrVodKG4Zxk3RdHyeiWas4dXV1qXDu7e1hc3OzQM0EHR4eYmNjA9ls1jLczDxBoVBI+uF+uaR0d3ejra2tAFgNKGd7TmAxAHfsKiAfmE6nVXiTySSWl5fLepRn97PAfuRmnR0PJlAUBbS2tlZUfVZGmPm7wOzrOmfB4/Ggp0dmMVTVSfVVIdmKPWtpacHAwABSqRROT08h37FYDLu7uxXxTM9scyaG+/r6VMgkdJlMBv39/QooFSqVWoGonJWtRhMkZb2ysgLDMJTd2tpaBXS73arppRdtZK5sn7lcLgwNDalqE4+kKPKlGqDqM6sJIiDJkczI1dXVIpAJbWhowODgIJxOp5oyiUSilIO/J4jVbGxqalJhEgMyIcqJw+FQB9va2ioJu5iNYqTU1Jf/4tX5+bldLtS6lS4zF079nHcPieh9RZarUCq6z8y9/+ymNoFX9QYB8Mbv9xe8Zf7v68r0MBgM3nA6nVMAxit5NwKQd+O7VCo1HQgEvpVKq+Uj1VSWPmxsbAwQkY+ZZQrfysGlw+WGjzBz2DCM4NjY2FG52vkJLyqWRgYfvF4AAAAASUVORK5CYII=",alt:"",onClick:a})]),Xo,d("div",{class:"btnBox"},[d("button",{class:"close",onClick:a},"关闭"),d("button",{class:"buy",onClick:s},"前往购买")])]))}}),[["__scopeId","data-v-95706188"]]);export{An as N,Ga as _,Ht as a,Ri as b,cl as c,_o as d,Be as e,Se as f,Jo as p};
