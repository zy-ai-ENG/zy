import{d as e,S as t,b as l,u as a,y as s,aS as i,a6 as n,i as o,r,F as c,o as u,j as d,m as p,l as g,n as v,h as x,_ as m,aA as b,k as y,w as k,Y as f,N as h,Z as A,al as w,aE as T,aG as E,aT as C,C as I,D as j,ae as S,ad as F,an as B,E as V,G as U,aH as O,aI as M,aU as _,c as D,ay as R,K as z,g as G,R as L,f as N,T as X,aV as J,a8 as P,aW as Z,aX as q,aY as Y,aR as K,aN as W,aZ as Q,ac as H,a1 as $,a_ as ee,a$ as te,b0 as le,b1 as ae,am as se,b2 as ie,b3 as ne,b4 as oe,b5 as re,t as ce,b6 as ue,z as de,ap as pe,aq as ge,a9 as ve,aQ as xe,b7 as me,v as be,$ as ye,a0 as ke,b8 as fe,a3 as he}from"../main-ca72bb48.js";import{d as Ae}from"../draw-fail/draw-fail.50b43169.js";import{u as we}from"../index/index.e8b5fd41.js";import{_ as Te,a as Ee,b as Ce}from"../createInspiration.vue_vue_type_script_setup_true_lang/createInspiration.vue_vue_type_script_setup_true_lang.6cb40775.js";import{_ as Ie,a as je}from"../police/police.b4a86fcd.js";import{a as Se}from"../music/music.ec074dec.js";const Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE8SURBVHgBXZLRUcJAEIZ3Nwy+agd0gFYgVKB0ABUI45Ab5MFHJjgMdJASTAmxA+kgJeRJJ9HsunsxmZB7yd3tt//d/18QesM5N2Gmic2JOI2iKO3WsQsKBLGAZARyZsYcCO4RcFRBtTj8N1IHfrfCW7SbAkhi6javRFaB1p6VaRtMGUS8Sui2RwZ6FaA4dJvjYb9LVGgWGGMNtbpkey3Ul5PlT/E9K4urO73x0nZMyBg7hbxBho/GS1l83ZxOp3w4LJ+0+bNj90zKDuo05LrZNni9fpkDyhyBpy3PknuW1RwDjrvRMVWZGltppFm7qYkZS3Y/zXbUpOAPl8GtfkbNOgw3j8YY61OqgBcWnXPbB1sH+JuIYNpEDoixMRcPZycEGqUAZD4E7wvHpmxw83AIvVFHR5PaC6eH3q/xBz2NpXhj/RWfAAAAAElFTkSuQmCC",Be="data:image/png;base64,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",Ve=e=>(I("data-v-1b8c19ae"),e=e(),j(),e),Ue=Ve((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Be,alt:""})],-1))),Oe={class:"drawContent"},Me={style:{display:"flex","align-items":"center","justify-content":"space-between"}},_e={class:"drawContentTitle"},De=Ve((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),Re=Ve((()=>d("p",{class:"Title2"},"AI机器人",-1))),ze={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Ge={key:0},Le=["onClick"],Ne={class:"twoBtnBox"},Xe=["onClick"],Je=Ve((()=>d("div",{style:{"margin-left":"4px"}},"发布",-1))),Pe=["onClick"],Ze=Ve((()=>d("div",{style:{"margin-left":"4px"}},"删除",-1))),qe={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},Ye=["onClick"],Ke=["onClick"],We={class:"drawContentTitle2"},Qe=["onClick"],He=["onClick"],$e=["onClick"],et={class:"drawImgBox"},tt={key:0,style:{display:"flex","align-items":"center"}},lt=Ve((()=>d("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),at={style:{color:"red","margin-top":"10px"}},st={key:0,class:"flex justify-start btnBox"},it={style:{display:"flex","align-items":"center"}},nt=Ve((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"变化: ",-1))),ot=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),rt=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),ct={key:0},ut=["onClick"],dt={key:1},pt={key:0,class:"buttonText"},gt={key:1,class:"buttonText"},vt={class:"buttonText"},xt={key:1,class:"flex justify-start btnBox"},mt={style:{display:"flex","align-items":"center"}},bt=Ve((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"重绘: ",-1))),yt=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),kt=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),ft={key:0},ht=["onClick"],At={key:1},wt={key:0,class:"buttonText"},Tt={key:1,class:"buttonText"},Et={class:"buttonText"},Ct={key:2,class:"flex justify-start btnBox"},It={style:{display:"flex","align-items":"center"}},jt=Ve((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"编辑: ",-1))),St=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Ft=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：选中并放大某张图片，放大后可进行下一步的绘画操作，局部重绘、平移、扩图等。",-1))),Bt={key:0},Vt=["onClick"],Ut={key:1},Ot={key:0,class:"buttonText"},Mt={key:1,class:"buttonText"},_t={class:"buttonText"},Dt={key:3,class:"flex justify-start btnBox"},Rt={style:{display:"flex"}},zt=Ve((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"变化: ",-1))),Gt=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Lt=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：以某张图片为基准重新生成 如 V1 则变换第一张图片，以此类推",-1))),Nt={key:0},Xt=["onClick"],Jt={key:1},Pt={key:0,class:"buttonText"},Zt={key:1,class:"buttonText"},qt={class:"buttonText"},Yt={key:4,class:"flex justify-start btnBox"},Kt={style:{"margin-top":"4px",display:"flex","align-items":"center"}},Wt=Ve((()=>d("p",null,"放大：",-1))),Qt=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Ht=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：ZoomOut ，对当前图片按照倍数进行扩大，周围自动AI填充，可无限重复无限扩大",-1))),$t={key:0},el=["onClick"],tl={key:1},ll={key:0,class:"buttonText"},al={key:1,class:"buttonText"},sl={class:"buttonText"},il={key:5,class:"flex justify-start btnBox"},nl={style:{"margin-top":"4px",display:"flex","align-items":"center"}},ol=Ve((()=>d("p",null,"变化：",-1))),rl=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),cl=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),ul={key:0},dl=["onClick"],pl={key:1},gl={key:0,class:"buttonText"},vl={key:1,class:"buttonText"},xl={class:"buttonText"},ml={key:6,class:"flex justify-start btnBox"},bl={style:{"margin-top":"4px",display:"flex","align-items":"center"}},yl=Ve((()=>d("p",null,"缩小：",-1))),kl=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),fl=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：ZoomOut ，对当前图片按照倍数进行扩大，周围自动AI填充，可无限重复无限扩大",-1))),hl={key:0},Al=["onClick"],wl={key:1},Tl={key:0,class:"buttonText"},El={key:1,class:"buttonText"},Cl={class:"buttonText"},Il={key:7,class:"flex justify-start btnBox"},jl={style:{"margin-top":"4px",display:"flex","align-items":"center"}},Sl=Ve((()=>d("p",null,"拉伸：",-1))),Fl=Ve((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Bl=Ve((()=>d("div",{style:{width:"280px"}},"参数释义：对当前图片进行各个方向的拓展",-1))),Vl={key:0},Ul=["onClick"],Ol={key:1},Ml={key:0,class:"buttonText"},_l={key:1,class:"buttonText"},Dl={class:"buttonText"},Rl={key:8,class:"flex justify-start btnBox"},zl=Ve((()=>d("div",{style:{"margin-top":"4px",display:"flex","align-items":"center"}},[d("p",null,"描述："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Gl={key:0},Ll=["onClick"],Nl={key:1},Xl={key:0,class:"buttonText"},Jl={key:1,class:"buttonText"},Pl={class:"buttonText"},Zl=e({__name:"drawLogList",props:{drawLogList:{type:Array}},emits:["fresh1","newJobId"],setup(e,{emit:I}){const j=t(),V=we(),{updateSendSquire:U,updateDrawId:O,updatePreview:M}=l(),_=l(),D=a(),R=s(e.drawLogList),z=I,{toClipboard:G}=i();const L=async(e,t)=>{if(!_.isLogin)return D.warning("请先登录"),void _.setLoginDialog(!0);e.isSuccse=!0;const l=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return S.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return S.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return S.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return S.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return S.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?S.UPSCALE_4X:e.label.includes("Upscale (2x)")?S.UPSCALE_2X:e.label.includes("Vary (Subtle)")?S.VARY_SUBTLE:e.label.includes("Vary (Strong)")?S.VARY_STRONG:e.label.includes("Vary (Region)")?S.VARY_REGION:e.label.includes("Make Square")?S.SQUARE:e.label.includes("Zoom Out 2x")?S.ZOOM2X:e.label.includes("Zoom Out 1.5x")?S.ZOOM1_5X:e.label.includes("Custom Zoom")?S.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?S.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?S.REDO_UPSCALE_CREATIVE:S.NONE})(e);await async function(e){const t=await F({type:B.IMAGE_ACTION,params:e}).then((e=>e.data)).catch((e=>e));O({id:t}),z("newJobId",t),t&&D.success("提交任务成功！")}({action:l,taskId:R.value[t].id,customId:e.customId,messageFlags:R.value[t].messageFlags||0}),e.isSuccse=!1,z("fresh1")};n.on("newDrawLogList",(e=>{R.value=e}));const N=s(["V1","V2","V3","V4"]);async function X(e){try{await G(e),D.success("复制成功")}catch(t){D.error("复制失败!!")}}s([{name:"编辑",btnItem:["U1","U2","U3","U4"]},{name:"变化",btnItem:["V1","V2","V3","V4"]},{name:"变化",btnItem:["Vary (Subtle)","Vary (Strong)"]},{name:"放大",btnItem:["Upscale (Subtle)","Upscale (Creative)"]},{name:"变化",btnItem:["Vary (Subtle)","Vary (Strong)","Vary (Region)"]},{name:"缩小",btnItem:["Zoom Out 2x","Zoom Out 1.5x"]},{name:"拉伸",btnItem:[]},{name:"重绘",btnItem:["Redo Upscale (Subtle)","Redo Upscale (Creative)"]}]);const J=s([1,3,21,7,8,12,11,9]);return(e,t)=>(u(!0),o(c,null,r(R.value,((e,t)=>(u(),o("div",{class:"drawListBox dark:bg-[#010102] bg-[#F4F4F4]",key:e.jobId},[Ue,d("div",Oe,[d("div",Me,[d("div",_e,[De,Re,d("p",ze,p(e.createdAt),1),e.seed?(u(),o("p",Ge,"seed值: "+p(e.seed),1)):g("",!0),3!=e.status||e.seed?g("",!0):(u(),o("p",{key:1,class:"Title4",onClick:t=>function(e){let t={jobId:e.jobId};C(t).then((t=>{console.log(t),e.seed=t.data}))}(e)},"获取seed值",8,Le))]),d("div",Ne,[d("div",{class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:t=>(async e=>{U(!0,e.id)})(e)},[v(x(m),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),Je],8,Xe),d("div",{class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:t=>(e=>{j.create({type:"info",title:"确认删除",content:(1===e.favorite?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{T({id:e.id}).then((t=>{if(200==t.code){D.success("删除成功");for(let t=0;t<R.value.length;t++)R.value[t].id==e.id&&(R.value.splice(t,1),E({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})))}}))},onNegativeClick:()=>{}})})(e)},[v(x(m),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),Ze],8,Pe)])]),d("div",qe,[21==e.action?(u(),o("p",{key:0,class:"Title4",onClick:t=>X(e.prompt)},p(e.prompt),9,Ye)):g("",!0),d("p",{class:"Title4",onClick:t=>X(e.originPrompt)},p(e.originPrompt),9,Ke)]),d("div",We,[21==e.action?(u(),o("p",{key:0,onClick:t=>X(e.fullPrompt)},p(e.fullPrompt),9,Qe)):g("",!0),2==e.action?(u(),o("p",{key:1,onClick:t=>X(e.prompt)},p(e.prompt),9,He)):(u(),o("p",{key:2,class:"Title5",onClick:t=>X(e.originPrompt)},p(e.originPrompt),9,$e))]),d("div",et,[v(x(b),{style:{width:"280px"},"preview-src":e.imageUrl,"object-fit":"contain",src:e.imageUrl?e.imageUrl:x(Ae)},null,8,["preview-src","src"])]),4==e.status?(u(),o("div",tt,[lt,d("p",at,p(e.failReason),1)])):g("",!0),6===e.status?(u(),y(x(h),{key:1,type:"primary",style:{"margin-left":"12px"},onClick:t=>{var l;9===(l=e).action?V.openRegionModal(!0,{customId:l.customId,taskId:l.id,mode:l.mode}):_.updateRemixModal(!0,{prompt:"",taskId:l.id,customId:l.customId})}},{default:k((()=>[f(" 补充描述词 ")])),_:2},1032,["onClick"])):g("",!0),d("div",null,[0==e.action?(u(),o("div",st,[d("div",it,[nt,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[ot])),default:k((()=>[rt])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Vary")?(u(),o("div",ct,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",dt,[e.label?(u(),o("p",pt,p(e.label),1)):(u(),o("p",gt,p(e.emoji),1))]))],8,ut)])),default:k((()=>[d("p",vt,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),0==e.action?(u(),o("div",xt,[d("div",mt,[bt,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[yt])),default:k((()=>[kt])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Redo")?(u(),o("div",ft,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",At,[e.label?(u(),o("p",wt,p(e.label),1)):(u(),o("p",Tt,p(e.emoji),1))]))],8,ht)])),default:k((()=>[d("p",Et,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),-1!=J.value.indexOf(e.action)&&3==e.status?(u(),o("div",Ct,[d("div",It,[jt,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[St])),default:k((()=>[Ft])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[-1==N.value.indexOf(e.label)?(u(),o("div",Bt,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Ut,[e.label?(u(),o("p",Ot,p(e.label),1)):(u(),o("p",Mt,p(e.emoji),1))]))],8,Vt)])),default:k((()=>[d("p",_t,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),-1!=J.value.indexOf(e.action)&&3==e.status?(u(),o("div",Dt,[d("div",Rt,[zt,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Gt])),default:k((()=>[Lt])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[-1!=N.value.indexOf(e.label)?(u(),o("div",Nt,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Jt,[e.label?(u(),o("p",Pt,p(e.label),1)):(u(),o("p",Zt,p(e.emoji),1))]))],8,Xt)])),default:k((()=>[d("p",qt,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==e.action&&3==e.status?(u(),o("div",Yt,[d("div",Kt,[Wt,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Qt])),default:k((()=>[Ht])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("U")?(u(),o("div",$t,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",tl,[e.label?(u(),o("p",ll,p(e.label),1)):(u(),o("p",al,p(e.emoji),1))]))],8,el)])),default:k((()=>[d("p",sl,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==e.action&&3==e.status?(u(),o("div",il,[d("div",nl,[ol,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[rl])),default:k((()=>[cl])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("V")?(u(),o("div",ul,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",pl,[e.label?(u(),o("p",gl,p(e.label),1)):(u(),o("p",vl,p(e.emoji),1))]))],8,dl)])),default:k((()=>[d("p",xl,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==e.action&&3==e.status?(u(),o("div",ml,[d("div",bl,[yl,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[kl])),default:k((()=>[fl])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Z")?(u(),o("div",hl,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",wl,[e.label?(u(),o("p",Tl,p(e.label),1)):(u(),o("p",El,p(e.emoji),1))]))],8,Al)])),default:k((()=>[d("p",Cl,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==e.action&&3==e.status?(u(),o("div",Il,[d("div",jl,[Sl,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Fl])),default:k((()=>[Bl])),_:1})]),(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[e.label?g("",!0):(u(),o("div",Vl,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Ol,[e.label?(u(),o("p",Ml,p(e.label),1)):(u(),o("p",_l,p(e.emoji),1))]))],8,Ul)])),default:k((()=>[d("p",Dl,p(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):g("",!0),2==e.action&&3==e.status?(u(),o("div",Rl,[zl,(u(!0),o(c,null,r(e.buttons,(e=>(u(),o(c,null,[e.label?g("",!0):(u(),o("div",Gl,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>L(e,t)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Nl,[e.label?(u(),o("p",Xl,p(e.label),1)):(u(),o("p",Jl,p(e.emoji),1))]))],8,Ll)])),default:k((()=>[d("p",Pl,p(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):g("",!0)])])])))),128))}}),ql=V(Zl,[["__scopeId","data-v-1b8c19ae"]]),Yl={class:"start-mj w-full rounded-3xl p-6 py-8 dark:bg-[#010102] bg-[#F4F4F4] h-full",style:{width:"100%"}},Kl={class:"flex justify-between"},Wl=d("div",null,[d("h1",{class:"text-[34px]"},"您好,请创作您的第一个作品吧！"),d("p",{class:"text-[14px] text-[#aaa]"},"我是您的专属AI伙伴，您可以尝试使用快捷提示，体验一下！")],-1),Ql={class:"body mt-4 h-full"},Hl={class:"flex justify-between h-full min-h-[400px]"},$l={class:"bg-[#F7F7F7] relative dark:bg-[] w-[14rem] rounded-3xl overflow-hidden"},ea={class:"bg-[#F7F7F7] relative dark:bg-[] w-[14rem] h-[400px] rounded-3xl overflow-hidden mr-2 ml-2"},ta={class:"absolute left-2 bottom-28 z-30"},la={class:"leading-0 text-white line-clamp-2"},aa=["src"],sa=["onClick"],ia=d("p",{class:"select-none ml-2"},"一键制作",-1),na=e({__name:"suggestion",setup(e){const t=a(),{updatePromptWords:i}=l(),b=U({size:5,page:1}),y=s([]);async function h(){const e=await _(b).then((e=>e.data||[]));if(!e.length)return b.page=1,void t.warning("备选图片不足，请前往后台添加");y.value=e}async function A(){b.page+=1,await h()}return h(),(e,t)=>(u(),o("div",Yl,[d("div",Kl,[Wl,d("div",{class:"bg-[#3378ED] dark:bg-[#2960BE]",onClick:A,style:{color:"#fff",display:"flex",height:"36px",padding:"0 12px","align-items":"center","border-radius":"8px",cursor:"pointer"}},[v(x(m),{class:"text-lg",icon:"mynaui:refresh"}),f(" 换一换 ")])]),d("div",Ql,[d("ul",Hl,[y.value.length?g("",!0):(u(),o(c,{key:0},r(5,(e=>d("li",null,[d("div",$l,[v(x(M),{vertical:""},{default:k((()=>[v(x(O),{height:"400px",width:"100%",sharp:!1})])),_:1})])]))),64)),(u(!0),o(c,null,r(y.value,(e=>(u(),o("li",ea,[d("div",ta,[d("p",la,p(e.title),1)]),d("img",{loading:"lazy",src:e.imageUrl,class:"cursor-pointer bg-gray-500 duration-300 transition-all hover:scale-110",alt:""},null,8,aa),d("div",{class:"absolute cursor-pointer text-white dark:text-[#fff] dark:bg-[rgba(0,0,0,.6)] px-2 py-1 bg-[rgba(0,0,0,.6)] right-4 bottom-6 z-10 rounded-full flex justify-start items-center",onClick:t=>(e=>{const{isCarryParams:t,aspect:l,prompt:a,status:s}=e,o=t&&s?`${a}  --ar ${l}`:`${a}`;i({prompt:o}),n.emit("prompts",o)})(e)},[v(x(m),{icon:"icon-park-outline:send"}),ia],8,sa)])))),256))])])]))}}),oa=e=>(I("data-v-fe945b2a"),e=e(),j(),e),ra={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},ca={class:"topBox"},ua=oa((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Be,alt:""})],-1))),da={style:{width:"100%"}},pa={style:{width:"100%"},class:"border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},ga={style:{display:"flex","align-items":"center","justify-content":"space-between"}},va={style:{display:"flex"}},xa={class:"drawContentTitle"},ma=oa((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),ba=oa((()=>d("p",{class:"Title2",style:{"margin-right":"26px"}},"AI机器人",-1))),ya={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},ka={key:0},fa={key:0},ha={key:1},Aa={class:"twoBtnBox"},wa=oa((()=>d("div",{style:{"margin-left":"4px"}},"发布",-1))),Ta=oa((()=>d("div",{style:{"margin-left":"4px"}},"删除",-1))),Ea={key:0,class:""},Ca=["src"],Ia={style:{display:"flex","align-items":"center","margin-top":"10px"}},ja=oa((()=>d("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),Sa={style:{color:"red","margin-top":"10px"}},Fa={key:1,class:""},Ba=["src"],Va={key:2,class:""},Ua=["src"],Oa={key:3,class:"flex items-center justify-center flex-col",style:{"margin-top":"20px"}},Ma={key:0,class:"progressBox dark:bg-[#15171A] bg-[#f9f9f9]"},_a={key:1,class:"progressTetx"},Da=oa((()=>d("div",null,[d("div",{class:"loader"})],-1))),Ra={style:{"margin-top":"10px"}},za={key:0,class:"flex justify-start btnBox"},Ga={style:{display:"flex","align-items":"center"}},La=oa((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"变化: ",-1))),Na=oa((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Xa=oa((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),Ja={key:0},Pa=["onClick"],Za={key:1},qa={key:1},Ya={key:0,class:"buttonText"},Ka={key:1,class:"buttonText"},Wa={class:"buttonText"},Qa={key:1,class:"flex justify-start btnBox"},Ha={style:{display:"flex","align-items":"center"}},$a=oa((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"重绘: ",-1))),es=oa((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),ts=oa((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),ls={key:0},as=["onClick"],ss={key:1},is={key:1},ns={key:0,class:"buttonText"},os={key:1,class:"buttonText"},rs={class:"buttonText"},cs={key:2,class:"flex justify-start btnBox"},us={style:{display:"flex","align-items":"center"}},ds=oa((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"编辑: ",-1))),ps=oa((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),gs=oa((()=>d("div",{style:{width:"280px"}},"参数释义：选中并放大某张图片，放大后可进行下一步的绘画操作，局部重绘、平移、扩图等。",-1))),vs={key:0},xs=["onClick"],ms={key:1},bs={key:0,class:"buttonText"},ys={key:1,class:"buttonText"},ks={class:"buttonText"},fs={key:3,class:"flex justify-start btnBox"},hs={style:{display:"flex"}},As=oa((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"变化: ",-1))),ws=oa((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Ts=oa((()=>d("div",{style:{width:"280px"}},"参数释义：以某张图片为基准重新生成 如 V1 则变换第一张图片，以此类推",-1))),Es={key:0},Cs=["onClick"],Is={key:1},js={key:0,class:"buttonText"},Ss={key:1,class:"buttonText"},Fs={class:"buttonText"},Bs={key:4,class:"flex justify-start btnBox"},Vs=oa((()=>d("div",{style:{"margin-top":"4px",display:"flex","align-items":"center"}},[d("p",null,"放大："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Us={key:0},Os=["onClick"],Ms={key:1},_s={key:0,class:"buttonText"},Ds={key:1,class:"buttonText"},Rs={class:"buttonText"},zs={key:5,class:"flex justify-start btnBox"},Gs=oa((()=>d("div",{style:{"margin-top":"4px",display:"flex","align-items":"center"}},[d("p",null,"变化："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Ls={key:0},Ns=["onClick"],Xs={key:1},Js={key:0,class:"buttonText"},Ps={key:1,class:"buttonText"},Zs={class:"buttonText"},qs={key:6,class:"flex justify-start btnBox"},Ys=oa((()=>d("div",{style:{"margin-top":"4px",display:"flex","align-items":"center"}},[d("p",null,"缩小："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Ks={key:0},Ws=["onClick"],Qs={key:1},Hs={key:0,class:"buttonText"},$s={key:1,class:"buttonText"},ei={class:"buttonText"},ti={key:7,class:"flex justify-start btnBox"},li=oa((()=>d("div",{style:{"margin-top":"4px",display:"flex","align-items":"center"}},[d("p",null,"拉伸："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),ai={key:0},si=["onClick"],ii={key:1},ni={key:0,class:"buttonText"},oi={key:1,class:"buttonText"},ri={class:"buttonText"},ci={key:8,class:"flex justify-start btnBox"},ui=oa((()=>d("div",{style:{"margin-top":"4px",display:"flex","align-items":"center"}},[d("p",null,"描述："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),di={key:0},pi=["onClick"],gi={key:1},vi={key:0,class:"buttonText"},xi={key:1,class:"buttonText"},mi={class:"buttonText"},bi=e({__name:"taskItem",props:{task:{type:Object,default:()=>({prompt:"",image:"",time:"",updatedAt:""})},chat:{type:String,default:"task"}},emits:["fresh"],setup(e,{emit:n}){const{updateSendSquire:f,updateDrawId:h,updatePreview:E}=l(),I=t(),j=a(),{toClipboard:V}=i();we();const U=l(),O=e,M=n;D((()=>e=>{const{progress:t,status:l}=e;return 1===l?"正在排队中...":3===l?"成功":2===l&&100!==t?"正在绘制中...":2===l&&100===t?"正在存储图片中...":4===l?"绘图失败":5===l?"绘图取消":6===l?"窗口等待":"绘图失败"})),D((()=>e=>1===e?"排队中":2===e?"绘制中":3===e?"成功":4===e?"失败":5===e?"超时":"-")),D((()=>e=>{if(!e)return"";return parseInt(e/60+"")+"分"+parseInt(String(e%60))+"秒"})),D((()=>e=>R[e])),D((()=>{var e;const t=(null==(e=O.task)?void 0:e.buttons)||[],l=[],a=[],s=[],i=[],n=[];return t.forEach((e=>{["U1","U2","U3","U4"].includes(e.label)?l.push(e):["V1","V2","V3","V4"].includes(e.label)?a.push(e):e.label.startsWith("Upscale")||e.label.startsWith("Vary")?s.push(e):e.label?i.push(e):n.push(e)})),[l,a,s,i,n].filter((e=>e.length))}));const _=async(e,t)=>{if(!U.isLogin)return j.warning("请先登录"),void U.setLoginDialog(!0);_item.isSuccse=!0;const l=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return S.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return S.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return S.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return S.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return S.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?S.UPSCALE_4X:e.label.includes("Upscale (2x)")?S.UPSCALE_2X:e.label.includes("Vary (Subtle)")?S.VARY_SUBTLE:e.label.includes("Vary (Strong)")?S.VARY_STRONG:e.label.includes("Vary (Region)")?S.VARY_REGION:e.label.includes("Make Square")?S.SQUARE:e.label.includes("Zoom Out 2x")?S.ZOOM2X:e.label.includes("Zoom Out 1.5x")?S.ZOOM1_5X:e.label.includes("Custom Zoom")?S.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?S.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?S.REDO_UPSCALE_CREATIVE:S.NONE})(t);await async function(e){const t=await F({type:B.IMAGE_ACTION,params:e}).then((e=>e.data));h({id:t}),t&&j.success("提交任务成功！")}({action:l,taskId:e.id,customId:t.customId,messageFlags:e.messageFlags||0}),_item.isSuccse=!1,M("fresh")},G=s(["V1","V2","V3","V4"]),L=s();function N(){let e={jobId:O.task.jobId};C(e).then((e=>{L.value=e.data}))}async function X(e){try{await V(e),j.success("复制成功")}catch(t){j.error("复制失败!!")}}return(t,l)=>(u(),o("div",ra,[d("div",ca,[ua,d("div",da,[d("div",pa,[d("div",ga,[d("div",va,[d("div",xa,[ma,ba,d("p",ya,p(O.task.createdAt),1),3==O.task.status?(u(),o("div",ka,[L.value?(u(),o("p",fa,"seed值: "+p(L.value),1)):g("",!0),3!=O.task.status||L.value?g("",!0):(u(),o("p",{key:1,class:"Title4",onClick:N},"获取seed值"))])):(u(),o("div",ha,[d("p",null,"生成中："+p(O.task.progress?O.task.progress:0)+" %",1)]))])]),d("div",Aa,[3===e.task.status?(u(),o("div",{key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:l[0]||(l[0]=e=>(async e=>{f(!0,e.id)})(O.task))},[v(x(m),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),wa])):g("",!0),3===e.task.status?(u(),o("div",{key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:l[1]||(l[1]=e=>(e=>{console.log(e);const{favorite:t}=e;I.create({type:"info",title:"确认删除",content:(1===t?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{await T({id:e.id}).then((e=>e.data))&&j.success("删除成功"),M("fresh")},onNegativeClick:()=>{}})})(O.task))},[v(x(m),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),Ta])):g("",!0)])]),d("p",{onClick:l[2]||(l[2]=t=>X(e.task.originPrompt))},p(e.task.originPrompt),1)]),d("p",{style:{"margin-top":"10px"},onClick:l[3]||(l[3]=t=>X(e.task.originPrompt))},p(e.task.originPrompt),1),d("div",{class:z(["relative z-0 w-auto flex align-center overflow-hidden contain",["chat-history"===e.chat?"h-[390px]":"h-[390px] "]])},[4===e.task.status?(u(),o("div",Ea,[d("img",{class:"w-auto object-contain",src:x(Ae),alt:"",style:{"margin-top":"10px"}},null,8,Ca),d("div",Ia,[ja,d("p",Sa,p(e.task.failReason),1)])])):5===e.task.status?(u(),o("div",Fa,[d("img",{class:"w-auto object-contain",src:x(Ae),alt:""},null,8,Ba)])):6===e.task.status?(u(),o("div",Va,[d("img",{class:"w-auto object-contain",src:x(Ae),alt:""},null,8,Ua)])):(u(),o("div",Oa,[null==e.task.imageUrl||""==e.task.imageUrl?(u(),o("div",Ma)):g("",!0),100!=e.task.progress?(u(),o("div",_a,[Da,d("p",Ra,p(e.task.progress?e.task.progress:0)+" %",1)])):g("",!0),v(x(b),{style:{width:"280px"},class:"w-full cursor-pointer bg-[#f9f9f9] dark:bg-[transparent] h-full flex justify-center","preview-src":e.task.imageUrl,"object-fit":"contain",src:e.task.imageUrl||""},null,8,["preview-src","src"])]))],2)])]),d("div",null,[0==O.task.action?(u(),o("div",za,[d("div",Ga,[La,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Na])),default:k((()=>[Xa])),_:1})]),(u(!0),o(c,null,r(O.task.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Vary")?(u(),o("div",Ja,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>_(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Za,[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",qa,[e.label?(u(),o("p",Ya,p(e.label),1)):(u(),o("p",Ka,p(e.emoji),1))]))]))],8,Pa)])),default:k((()=>[d("p",Wa,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),0==O.task.action?(u(),o("div",Qa,[d("div",Ha,[$a,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[es])),default:k((()=>[ts])),_:1})]),(u(!0),o(c,null,r(O.task.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Redo")?(u(),o("div",ls,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>_(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",ss,[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",is,[e.label?(u(),o("p",ns,p(e.label),1)):(u(),o("p",os,p(e.emoji),1))]))]))],8,as)])),default:k((()=>[d("p",rs,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),1!=O.task.action&&3!=O.task.action&&21!=O.task.action||3!=O.task.status?g("",!0):(u(),o("div",cs,[d("div",us,[ds,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[ps])),default:k((()=>[gs])),_:1})]),(u(!0),o(c,null,r(O.task.buttons,((e,t)=>(u(),o(c,null,[-1==G.value.indexOf(e.label)?(u(),o("div",vs,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:t=>_(O.task,e)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",ms,[e.label?(u(),o("p",bs,p(e.label),1)):(u(),o("p",ys,p(e.emoji),1))]))],8,xs)])),default:k((()=>[d("p",ks,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])),1!=O.task.action&&3!=O.task.action&&21!=O.task.action||3!=O.task.status?g("",!0):(u(),o("div",fs,[d("div",hs,[As,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[ws])),default:k((()=>[Ts])),_:1})]),(u(!0),o(c,null,r(O.task.buttons,((e,t)=>(u(),o(c,null,[-1!=G.value.indexOf(e.label)?(u(),o("div",Es,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:t=>_(O.task,e)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Is,[e.label?(u(),o("p",js,p(e.label),1)):(u(),o("p",Ss,p(e.emoji),1))]))],8,Cs)])),default:k((()=>[d("p",Fs,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])),4==O.task.action&&3==O.task.status?(u(),o("div",Bs,[Vs,(u(!0),o(c,null,r(O.task.buttons,((e,t)=>(u(),o(c,null,[-1!=e.label.indexOf("U")?(u(),o("div",Us,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:t=>_(O.task,e)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Ms,[e.label?(u(),o("p",_s,p(e.label),1)):(u(),o("p",Ds,p(e.emoji),1))]))],8,Os)])),default:k((()=>[d("p",Rs,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==O.task.action&&3==O.task.status?(u(),o("div",zs,[Gs,(u(!0),o(c,null,r(O.task.buttons,((e,t)=>(u(),o(c,null,[-1!=e.label.indexOf("V")?(u(),o("div",Ls,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:t=>_(O.task,e)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Xs,[e.label?(u(),o("p",Js,p(e.label),1)):(u(),o("p",Ps,p(e.emoji),1))]))],8,Ns)])),default:k((()=>[d("p",Zs,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==O.task.action&&3==O.task.status?(u(),o("div",qs,[Ys,(u(!0),o(c,null,r(O.task.buttons,((e,t)=>(u(),o(c,null,[-1!=e.label.indexOf("Z")?(u(),o("div",Ks,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:t=>_(O.task,e)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Qs,[e.label?(u(),o("p",Hs,p(e.label),1)):(u(),o("p",$s,p(e.emoji),1))]))],8,Ws)])),default:k((()=>[d("p",ei,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==O.task.action&&3==O.task.status?(u(),o("div",ti,[li,(u(!0),o(c,null,r(O.task.buttons,((e,t)=>(u(),o(c,null,[e.label?g("",!0):(u(),o("div",ai,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:t=>_(O.task,e)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",ii,[e.label?(u(),o("p",ni,p(e.label),1)):(u(),o("p",oi,p(e.emoji),1))]))],8,si)])),default:k((()=>[d("p",ri,p(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):g("",!0),2==O.task.action&&3==O.task.status?(u(),o("div",ci,[ui,(u(!0),o(c,null,r(O.task.buttons,(e=>(u(),o(c,null,[e.label?g("",!0):(u(),o("div",di,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>_(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",gi,[e.label?(u(),o("p",vi,p(e.label),1)):(u(),o("p",xi,p(e.emoji),1))]))],8,pi)])),default:k((()=>[d("p",mi,p(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):g("",!0)])]))}}),yi=V(bi,[["__scopeId","data-v-fe945b2a"]]),ki={class:"flex flex-col",style:{width:"100%"}},fi={class:"h-auto flex-1"},hi=e({__name:"chatHistory",props:{task:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:t}){const a=e,s=D((()=>a.task)),i=l();D((()=>i.userInfo.avatar));const n=t,r=()=>{n("refresh")};return(e,t)=>(u(),o("div",ki,[d("div",fi,[v(yi,{task:s.value,chat:"chat-history",onFresh:r},null,8,["task"])])]))}}),Ai=e=>(I("data-v-2c790e88"),e=e(),j(),e),wi={key:0},Ti={class:"text-sm flex items-center"},Ei=Ai((()=>d("div",{class:"text-[18px] mr-1"},[d("h1",null,"模型设置")],-1))),Ci={"data-tool-target":"tooltip-default"},Ii=Ai((()=>d("div",{style:{width:"240px"}},[d("p",null,"MJ: 偏真实通用模型"),d("p",null,"NIJI: 偏动漫风格、适用于二次元模型")],-1))),ji={class:"flex items-center mt-2"},Si=Ai((()=>d("p",{class:"w-1/2"},"绘画模型",-1))),Fi={class:"flex items-center mt-2"},Bi=Ai((()=>d("p",{class:"w-1/2"},"--q 质量",-1))),Vi={key:0,class:"flex items-center mt-2"},Ui=Ai((()=>d("p",{class:"w-1/2"},"--style风格",-1))),Oi={key:1,class:"flex items-center mt-2"},Mi={class:"w-1/2 flex items-center"},_i=Ai((()=>d("p",null,"--s 风格化",-1))),Di=Ai((()=>d("p",null,"数值越高，画面表现也会更具丰富性和艺术性",-1))),Ri={class:"flex items-center mt-2"},zi={class:"w-1/2 flex items-center"},Gi=Ai((()=>d("p",null,"--c 多样性",-1))),Li=Ai((()=>d("p",null,"值越小生成的四张图风格越相似，反之差异越大",-1))),Ni=Ai((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"垫图图片（0-3张）"),d("p",{class:"text-[14px] mt-2 text-[#999]"},"如需垫图请至少上传一张图片")])],-1))),Xi={class:"flex items-center mt-2"},Ji={class:"flex items-center mt-2"},Pi=Ai((()=>d("p",{class:"w-1/3"},"图片相似度",-1))),Zi={class:"w-2/3"},qi=Ai((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"不想出现的词")])],-1))),Yi={class:"flex items-center mt-2"},Ki=Ai((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),Wi={class:"flex-col mt-2"},Qi={class:"flex justify-between"},Hi=["onClick"],$i={class:"flex items-center justify-center w-6 h-6"},en={class:"mt-2 text-center text-xs leading-none text-current"},tn={class:"text-[12px] scale-90"},ln={key:0,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},an={class:"flex justify-between"},sn={class:"text-base py-1"},nn={class:"text-[#3076fd]"},on={class:"flex items-center"},rn=ne('<div class="mt-3 space-y-1 items-center text-[#3076fd]" data-v-2c790e88><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>绘画单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>图生图单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>放大单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 1积分 </span></div></div>',1),cn={key:0},un=Ai((()=>d("h1",{class:"text-[18px] my-2"},"图片解读",-1))),dn=Ai((()=>d("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),pn=Ai((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"上传图片（只能1张）")])],-1))),gn={class:"flex items-center mt-2"},vn=["src"],xn={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},mn=ne('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2),bn=[mn],yn={key:1},kn=Ai((()=>d("h1",{class:"text-[20px] my-2"},"图混图",-1))),fn=Ai((()=>d("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),hn=Ai((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"上传图片（2-5张）")])],-1))),An={class:"flex items-center mt-2"},wn={class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Tn=Ai((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),En={class:"flex-col mt-2"},Cn={class:"flex justify-between"},In=["onClick"],jn={class:"flex items-center justify-center w-6 h-6"},Sn={class:"mt-2 text-center text-xs leading-none text-current"},Fn={class:"text-[12px] scale-90"},Bn={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1 select-none"},Vn=ne('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2),Un=[Vn],On={key:2,class:"flex flex-col"},Mn={class:"flex justify-between mb-2"},_n=["onClick"],Dn={class:"ml-1 select-none"},Rn=["disabled"],zn={class:"inline"},Gn={key:2,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Ln=Ai((()=>d("div",{class:"text-sm flex items-center"},[d("div",{class:"mr-1"},[d("h1",{class:"text-[16px]"},"生成模式")])],-1))),Nn={class:"mb-2"},Xn=["onClick"],Jn={class:"flex flex-row justify-between"},Pn={key:3,class:"flex flex-col mt-4"},Zn=["disabled"],qn={class:"select-none text-white"},Yn={class:"inline"},Kn=e({__name:"configure",emits:["fresh"],setup(e,{emit:t}){const{updateDrawId:i}=l(),n=a(),b=l(),w=D((()=>b.userBalance.sumDrawMjCount)),T=D((()=>b.mjDrawForm)),{isMobile:E}=G(),C=L(),I=N(),j=D((()=>C.path)),V=s(""),O=U({files:[],previewImages:[]}),M=t,_=s(!1),R=D((()=>j.value.includes("text-to-image")?B.TEXT_TO_IMAGE:j.value.includes("image-to-text")?B.IMAGE_TO_TEXT:j.value.includes("image-mix-image")?B.IMAGE_MIX_IMAGE:B.NONE)),ne=D((()=>R.value===B.IMAGE_MIX_IMAGE?O.files.length<=1:R.value===B.IMAGE_TO_TEXT&&O.files.length<=0)),{selectFile:ce}=X(),ue=async()=>{const e=await ce();V.value=URL.createObjectURL(e),O.files=[e]},de=D((()=>T.value.baseImage.map((e=>{const t=e.slice(e.lastIndexOf("/")+1,e.length);return{url:e,id:t.split(".")[0],name:t,status:"finished"}})))),pe=s(!1),ge=D((()=>e=>T.value.size===e));async function ve(){pe.value=!0;try{await b.getUserInfo(),pe.value=!1}catch(e){pe.value=!1}}const xe=["jpg","jpeg","png"],me=e=>{if("finished"===e.file.status||"removed"===e.file.status)return;const t=e.file.type.split("/")[1];if("pending"===e.file.status&&xe.includes(t)){const t=new FileReader;t.readAsDataURL(e.file.file),t.onload=function(){T.value.baseImage.push(t.result),we()}}},be=e=>{"pending"===e.file.status&&O.files.push(e.file.file),"removed"===e.file.status&&(O.files=O.files.filter((t=>t!==e.file.file)))},ye=e=>{const t=e.file.type.split("/")[1];return e.fileList.length>4?(n.warning("最多只能上传5张图片"),!1):xe.includes(t)&&e.fileList.length<=5},ke=e=>{const t=e.file.type.split("/")[1];return e.fileList.length>2?(n.warning("最多只能上传3张图片"),!1):xe.includes(t)&&e.fileList.length<=2},fe=e=>{if("finished"===e.file.status)return T.value.baseImage=T.value.baseImage.filter((t=>-1===t.search(e.file.url))),void we();const t=e.file.id+"."+e.file.type.split("/")[1];T.value.baseImage=T.value.baseImage.filter((e=>-1===e.search(t))),we()},he=e=>{const t=e.file.name;T.value.extendParam=T.value.extendParam.filter((e=>!e.filename.includes(t))),we()},Ae=e=>{T.value.size=e.value,we()},we=async()=>{b.updateMjDrawForm(T.value)},Te=e=>{T.value.mode=e.value,we()},Ee=async()=>{if(!b.isLogin)return n.warning("请先登录"),void b.setLoginDialog(!0);if(!T.value.prompt)return;const e=T.value.baseImage.length?T.value.baseImage.join(" "):void 0;let t=T.value.prompt,l="";/--\w+\s\S+/g.test(t)&&(l=t.slice(t.indexOf("--"),t.length));let a=l||(()=>{let e="";T.value.sensitiveWords&&(e+=` --no ${T.value.sensitiveWords}`);const t=T.value.model.split("-");return t[0].includes("MJ")&&(e+=` --v ${t[1]}`,e+=` --s ${T.value.stylize}`),t[0].includes("NIJI")&&(e+=` --niji ${t[1]}`,T.value.style&&"5"===t[1]&&(e+=` --style ${T.value.style}`)),e+=` --ar ${T.value.size}`,e+=` --c ${T.value.diversity}`,e+=` --q ${T.value.quality}`,e+=` --${re[T.value.mode]}`,T.value.baseImage.length>0&&(e+=` --iw ${T.value.similarity}`),e})();const s=await F({type:B.TEXT_TO_IMAGE,params:{action:S.TEXT_TO_IMAGE,extend:a,prompt:t,imageUrl:e,mode:T.value.mode,translate:T.value.translate}}).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&I.updateVipDialog(!0)}));s&&n.success("创建文生图任务成功"),T.value.prompt="",i({id:s}),M("fresh")},Ce=async()=>{if(!b.isLogin)return n.warning("请先登录"),void b.setLoginDialog(!0);if(R.value!==B.NONE){if(R.value===B.TEXT_TO_IMAGE)await Ee();else{const e=new FormData;R.value===B.IMAGE_TO_TEXT&&(e.append("type",R.value+""),e.append("action",B.IMAGE_TO_TEXT+""),e.append("mode",T.value.mode+""),e.append("files",O.files[0])),R.value===B.IMAGE_MIX_IMAGE&&(e.append("type",R.value+""),e.append("action",B.IMAGE_MIX_IMAGE+""),e.append("mode",T.value.mode+""),e.append("size",T.value.size+""),O.files.forEach(((t,l)=>{e.append("files",t)})));const t=await oe(e).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&I.updateVipDialog(!0)}));t&&n.success(R.value===B.TEXT_TO_IMAGE?"创建文生图任务成功":R.value===B.IMAGE_TO_TEXT?"创建图生文任务成功":R.value===B.IMAGE_MIX_IMAGE?"创建图混图任务成功":"失败"),t&&i({id:t}),t&&M("fresh")}O.files=[]}else n.error("操作类型错误")};return(e,t)=>(u(),o("div",{class:z([[x(E)?"p-2 h-auto":"overflow-y-auto w-full h-[90vh] p-4 "],"sm:pt-6 bg-[#fff] dark:bg-[#1F1F38] sm:w-[20rem] shrink-0"])},[j.value.includes("text-to-image")?(u(),o("div",wi,[d("div",{class:z(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[x(E)?"rounded":"rounded-xl"]])},[d("div",Ti,[Ei,d("div",Ci,[v(x(A),{placement:"right-end",trigger:"hover"},{trigger:k((()=>[v(x(m),{icon:"ri:error-warning-line",class:"text-base"})])),default:k((()=>[Ii])),_:1})])]),d("div",ji,[Si,v(x(P),{value:T.value.model,"onUpdate:value":[t[0]||(t[0]=e=>T.value.model=e),t[1]||(t[1]=e=>{return(t=T.value.model).includes("NIJI")&&(T.value.style=""),t.includes("MJ")&&(T.value.style="raw"),void we();var t})],size:"small",options:x(J)},null,8,["value","options"])]),d("div",Fi,[Bi,v(x(P),{value:T.value.quality,"onUpdate:value":[t[2]||(t[2]=e=>T.value.quality=e),we],size:"small",options:x(Z)},null,8,["value","options"])]),T.value.model.includes("5")?(u(),o("div",Vi,[Ui,T.value.model.includes("NIJI-5")?(u(),y(x(P),{key:0,value:T.value.style,"onUpdate:value":[t[3]||(t[3]=e=>T.value.style=e),we],size:"small",options:x(q)},null,8,["value","options"])):g("",!0),T.value.model.includes("MJ-5")?(u(),y(x(P),{key:1,value:T.value.style,"onUpdate:value":[t[4]||(t[4]=e=>T.value.style=e),we],size:"small",options:x(Y)},null,8,["value","options"])):g("",!0)])):g("",!0),T.value.model.includes("MJ")?(u(),o("div",Oi,[d("div",Mi,[_i,v(x(A),{placement:"right-end",trigger:"hover"},{trigger:k((()=>[v(x(m),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:k((()=>[Di])),_:1})]),v(x(K),{value:T.value.stylize,"onUpdate:value":[t[5]||(t[5]=e=>T.value.stylize=e),we],max:1e3,min:0,step:1},null,8,["value"])])):g("",!0),d("div",Ri,[d("div",zi,[Gi,v(x(A),{placement:"right-end",trigger:"hover"},{trigger:k((()=>[v(x(m),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:k((()=>[Li])),_:1})]),v(x(K),{value:T.value.diversity,"onUpdate:value":[t[6]||(t[6]=e=>T.value.diversity=e),we],max:100,min:1,step:1},null,8,["value"])])],2),d("div",{class:z(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[x(E)?"rounded":"rounded-xl"]])},[Ni,d("div",Xi,[v(x(W),{accept:".jpg,.jpeg,.png",action:"","default-file-list":de.value,"default-upload":!1,"on-change":me,"on-before-upload":ke,"on-remove":fe,"list-type":"image-card"},null,8,["default-file-list"])]),d("div",Ji,[Pi,d("div",Zi,[v(x(P),{value:T.value.similarity,"onUpdate:value":[t[7]||(t[7]=e=>T.value.similarity=e),we],size:"small",options:x(Q)},null,8,["value","options"])])])],2),d("div",{class:z(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[x(E)?"rounded":"rounded-xl"]])},[qi,d("div",Yi,[v(x(H),{value:T.value.sensitiveWords,"onUpdate:value":t[8]||(t[8]=e=>T.value.sensitiveWords=e),onChange:we,placeholder:"多个词用逗号隔开 如 漂亮，帅哥"},null,8,["value"])])],2),d("div",{class:z(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[x(E)?"rounded":"rounded-xl"]])},[Ki,d("div",Wi,[(u(!0),o(c,null,r(x(ee),(e=>(u(),o("div",Qi,[(u(!0),o(c,null,r(e,(e=>(u(),o("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:t=>Ae(e)},[d("div",{class:z(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ge.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[d("div",$i,[d("div",{class:z(["border-gray-400 border-dashed border-2",[ge.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:$({width:e.width,height:e.height})},null,6)]),d("div",en,[d("p",null,p(e.aspect),1),d("p",tn,p(e.label),1)])],2)],8,Hi)))),128))])))),256))])],2),x(E)?g("",!0):(u(),o("div",ln,[d("div",an,[d("span",sn,[f("钱包余额( "),d("b",nn,p(w.value||0),1),f(" 积分)")]),d("span",on,[v(x(h),{text:"",size:"tiny",type:"primary",loading:pe.value,onClick:ve},{default:k((()=>[f("刷新")])),_:1},8,["loading"]),v(x(A),{placement:"right-end",trigger:"hover"},{trigger:k((()=>[v(x(m),{icon:"ri:error-warning-line",class:"text-base ml-2"})])),default:k((()=>[f(" 绘画账户信息 ")])),_:1})])]),rn]))])):g("",!0),j.value.includes("image-to-text")||j.value.includes("image-mix-image")?(u(),o("div",{key:1,class:z(["flex justify-between flex-col",[x(E)?"":"h-full"]])},[j.value.includes("image-to-text")?(u(),o("div",cn,[x(E)?g("",!0):(u(),o(c,{key:0},[un,dn],64)),d("div",{class:z(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[x(E)?"rounded":"rounded-xl mt-4"]])},[pn,d("div",gn,[d("div",{class:"w-[96px] overflow-hidden object-contain h-[96px] flex justify-center items-center rounded hover:dark:border-gray-500 hover:border-gray-400 border-dashed border border-gray-300 cursor-pointer dark:border-gray-600",onClick:ue},[V.value?(u(),o("img",{key:0,src:V.value,class:"object-contain w-full h-full",alt:""},null,8,vn)):(u(),y(x(m),{key:1,icon:"octicon:plus-16",class:"text-[20px]"}))])])],2),x(E)?g("",!0):(u(),o("div",xn,bn))])):g("",!0),j.value.includes("image-mix-image")?(u(),o("div",yn,[x(E)?g("",!0):(u(),o(c,{key:0},[kn,fn],64)),d("div",{class:z(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[x(E)?"rounded":"rounded-xl mt-4"]])},[hn,d("div",An,[v(x(W),{accept:".jpg,.jpeg,.png",action:"",disabled:O.files.length>=5,"default-file-list":O.files,"default-upload":!1,"on-change":be,"on-before-upload":ye,"on-remove":he,"list-type":"image-card"},null,8,["disabled","default-file-list"])])],2),d("div",wn,[Tn,d("div",En,[(u(!0),o(c,null,r(x(te),(e=>(u(),o("div",Cn,[(u(!0),o(c,null,r(e,(e=>(u(),o("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:t=>Ae(e)},[d("div",{class:z(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ge.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[d("div",jn,[d("div",{class:z(["border-gray-400 border-dashed border-2",[ge.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:$({width:e.width,height:e.height})},null,6)]),d("div",Sn,[d("p",null,p(e.aspect),1),d("p",Fn,p(e.label),1)])],2)],8,In)))),128))])))),256))])]),x(E)?g("",!0):(u(),o("div",Bn,Un))])):g("",!0),x(E)?g("",!0):(u(),o("div",On,[d("ul",Mn,[(u(!0),o(c,null,r(x(ae),(e=>(u(),o("li",{class:"flex justify-start cursor-pointer",onClick:t=>Te(e)},[v(x(le),{size:"small",checked:T.value.mode===e.value,value:e.value,onChange:t=>Te(e)},null,8,["checked","value","onChange"]),d("p",Dn,p(e.label),1)],8,_n)))),256))]),d("button",{class:z(["w-full flex justify-center items-center h-10 rounded-full text-center",[ne.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed ":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:ne.value,onClick:Ce},[_.value?(u(),y(x(m),{key:0,icon:"eos-icons:bubble-loading",class:"mr-1"})):g("",!0),_.value?g("",!0):(u(),o("p",{key:1,class:z(["select-none",[ne.value?" text-[#333] dark:text-[#ccc]":" text-[#fff] dark:text-[#fff]"]])},[f("提交任务("),d("span",zn,[v(x(se),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),f("4) ")],2))],10,Rn)]))],2)):g("",!0),x(E)?(u(),o("div",Gn,[Ln,d("ul",Nn,[(u(!0),o(c,null,r(x(ie),(e=>(u(),o("li",{class:z(["w-full my-2 p-2 dark:bg-[#42425F] bg-[#F7F7F7] cursor-pointer",[x(E)?"rounded":""]]),onClick:t=>Te(e)},[d("div",Jn,[d("p",{class:z(["select-none",[T.value.mode===e.value?"text-[#3076ED]":""]])},p(e.label),3),v(x(le),{size:"small",checked:T.value.mode===e.value,value:e.value,onChange:t=>Te(e)},null,8,["checked","value","onChange"])])],10,Xn)))),256))])])):g("",!0),x(E)?(u(),o("div",Pn,[d("button",{class:z(["w-full flex justify-center items-center h-10 rounded-full text-center",[ne.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:ne.value,onClick:Ce},[d("p",qn,[f("提交任务("),d("span",Yn,[v(x(se),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),f("4) ")])],10,Zn)])):g("",!0)],2))}}),Wn=V(Kn,[["__scopeId","data-v-2c790e88"]]),Qn={class:"input-message"},Hn={class:"flex items-stretch space-x-2"},$n={class:"relative flex-1 mj-input"},eo={class:"flex justify-between items-center mb-2"},to={class:"flex flex-start items-center text-[16px]"},lo=d("p",{class:"select-none text-[12px]"},"咒语生成器",-1),ao=[lo],so={class:"absolute bottom-2 left-2"},io={class:"flex items-center justify-between"},no={class:"flex justify-between items-center"},oo=d("label",{class:"text-sm"},"自动翻译",-1),ro=e({__name:"chatMessage",setup(e){const{isMobile:t}=G(),{updatePromptWords:a,updateInspireDialog:i}=l(),n=s(""),r=D((()=>t.value?ce("chat.placeholderMobile"):ce("chat.placeholder"))),c=()=>{a({prompt:n.value})},p=()=>{i(!0)};return(e,l)=>(u(),o("footer",Qn,[d("div",{class:z(["m-auto",x(t)?"px-2 py-1":"mt-4"])},[d("div",Hn,[d("div",$n,[d("div",eo,[d("p",to,[v(x(m),{icon:"ri:input-field"}),f(" 输入描述词 ")]),d("div",{class:"bg-[#F7F7F7] bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r rounded-3xl flex justify-start py-1 px-2 cursor-pointer hover:bg-[#3144F1] hover:dark:bg-[#3144F1]",onClick:p},ao)]),v(x(H),{ref:"inputRef",value:n.value,"onUpdate:value":[l[0]||(l[0]=e=>n.value=e),c],type:"textarea",round:"",class:"pb-10",clearable:"",maxlength:"500","show-count":"",placeholder:r.value,rows:3},null,8,["value","placeholder"]),d("div",so,[d("div",io,[d("div",no,[oo,v(x(ue),{text:"",size:"small",round:""})])])])])])],2)]))}}),co={class:"flex justify-between"},uo={class:"mr-2 w-full"},po={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},go={class:"p-2"},vo={class:"mb-2"},xo={class:"level-classify text-[15px] py-2 pt-2"},mo={key:0,class:"my-1"},bo=["onClick"],yo={class:"select-none text-white"},ko={class:"w-full h-full flex flex-col"},fo={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},ho=[d("p",{class:"dark:text-white text-white"},"前往制作",-1)],Ao=e({__name:"createInspiration",setup(e){const t=s(""),a=l(),i=D((()=>a.inspirationDialog)),n=U({level1:[],level2:[]}),m=s(0),b=async e=>{m.value=e,n.level2=await xe({id:e}).then((e=>e.data.rows))},f=()=>{a.updatePromptWords({prompt:t.value}),a.updateInspireDialog(!1)},h=()=>{a.updateInspireDialog(!1)};return de((()=>{(async()=>{const e=await me({level:0}).then((e=>e.data)),{level1:t}=e;await b(t[0].id),Object.assign(n,{level1:t})})()})),(e,l)=>(u(),y(x(ve),{show:i.value,"onUpdate:show":l[1]||(l[1]=e=>i.value=e),style:{width:"100vw","max-width":"100vw",height:"100vh"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1,onClose:h},{default:k((()=>[d("div",co,[d("div",uo,[v(x(ge),{value:m.value,"onUpdate:value":[l[0]||(l[0]=e=>m.value=e),b],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:k((()=>[(u(!0),o(c,null,r(n.level1,(e=>(u(),y(x(pe),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),d("div",po,[d("ul",go,[(u(!0),o(c,null,r(n.level2,(e=>(u(),o("li",null,[d("div",vo,[d("span",xo,p(e.classifyName),1)]),e.children.length>0?(u(),o("div",mo,[(u(!0),o(c,null,r(e.children,(e=>(u(),o("div",{key:e.id,class:z(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[t.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:l=>(e=>{t.value.includes(e.incantationEn)?t.value=t.value.replace(e.incantationEn+",",""):t.value+=e.incantationEn+","})(e)},[d("button",yo,p(e.incantationCn)+" "+p(e.incantationEn),1)],10,bo)))),128))])):g("",!0)])))),256))])])]),d("div",ko,[d("div",fo,[d("p",null,p(t.value),1)]),d("div",{onClick:f,class:"rounded-full flex items-center justify-center mt-2 w-full h-[28px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},ho)])])])),_:1},8,["show"]))}}),wo={class:"text-image-container flex flex-row"},To={class:"w-full pt-2 flex flex-col justify-between"},Eo=e({__name:"text2image",setup(e){const t=l(),a=L();D((()=>t.drawId));const i=D((()=>a.path));return s({}),s(),(e,t)=>(u(),o(c,null,[v(Ao,{ref:"inspirationRef"},null,512),d("div",wo,[d("div",To,[i.value.includes("text-to-image")?(u(),y(ro,{key:0})):g("",!0),v(Wn,{ref:"configRef"},null,512)])])],64))}}),Co="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAcpJREFUSEvVlL1L11EUxj9PNDaUg0ovtARGSdSUvagYki0RpEtDEC3R0hBobwaBZboYDYoIoUiDEATNgqB/gUO1NTVUtNVQ29PvyFV+L36/3n60dOBO9zyfe8+5z7niH4TtFuAkcAm4CnxVs1zbncB54DLQA+ypYn3OBts+DJwDzgIDwJGSS40Wgm3vBrqBLqAf6ANyL9Jdk2i7AziTSrsIHGiiVd+Bdtm+AFwBTqfVBKtGsiTpWoD9l6QfwG+gtUB3W9JsgG8CrzLgAXyQgKE5VKBpl/Rto8e243GWCxI/AVOSZmyHTxeAtoLcj5KOx97W49kOT64Cu5IoDpqW9C4dfg+Y2KGyF5Lu1oCTOOAxOYuS1jchtt8AQxnt6pW01gCuF9reW7HeCnAqAxoP2iLpVynY9tHU94MZ0EhZlhTe34iyyRtPLsjk8ljS0xzwQ+BZLhXolPQhB3wfeJ4J/iJpf3VuWStGgMmUHLffBwwXHPRa0vVc8CgwBsxJupXsOA/c2AY+KOltLngJOFYRnKgW2H4J3KmDt0qKX20ryloR3+d7ST+38XdUEhVFrFems8HnuR93Q/W2Y8QfVTaeSJqqT2gavJNb/j/wH+wWjGlt1nwMAAAAAElFTkSuQmCC",Io=e=>(I("data-v-cf2b43d0"),e=e(),j(),e),jo={key:1,class:"contentCenterBottom bg-[#F4F4F4] dark:bg-[#010102]"},So={class:"inputBox"},Fo=["disabled"],Bo={class:"inpBoxLeft"},Vo={class:""},Uo={class:"selectBox"},Oo={class:"other"},Mo={key:0},_o={class:"drawModeBox bg-[#FFFFFF] dark:bg-[#15171A]"},Do={style:{display:"flex","align-items":"center","justify-content":"center","font-size":"13px"}},Ro=Io((()=>d("div",{style:{width:"70px",height:"30px","line-height":"30px"}},"绘图模式",-1))),zo=Io((()=>d("p",null,"普通模式：高峰期预计需要10分钟出图（会员免费使用） 快速模式：平均1-2分钟出图（每张消耗4绘画积分）",-1))),Go=["onClick"],Lo={class:"text-[#696969] dark:text-[#fff] modeName"},No=Io((()=>d("div",{class:"smallBox bg-[#FFFFFF] dark:bg-[#15171A]",style:{position:"absolute"}},null,-1))),Xo={class:"otherItem"},Jo=Io((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"自动翻译",-1))),Po=[Io((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"联想",-1))),Io((()=>d("img",{class:"setImg",src:Ce,alt:""},null,-1)))],Zo=[Io((()=>d("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"提示词生成器",-1)))],qo={class:"inpBoxRight"},Yo={key:0},Ko=["disabled"],Wo={key:1,class:"sendText"},Qo={key:2,class:"sendImg",src:Co,alt:""},Ho={key:1},$o=[Io((()=>d("p",{class:"sendText"},"提交",-1))),Io((()=>d("img",{class:"sendImg",src:Co,alt:""},null,-1)))],er={style:{color:"#eeeeee"},class:"end"},tr={style:{display:"flex"}},lr={key:0,style:{display:"flex"}},ar=Io((()=>d("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:Ie,alt:""},null,-1))),sr=["href"],ir={key:1,style:{display:"flex"}},nr=Io((()=>d("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:je,alt:""},null,-1))),or=["href"],rr={key:2},cr={key:0,class:"sendBox dark:bg-[#15171A] bg-[#FFFFFF] border-t-[2px] dark:border-[#4A4C4F] border-[#CECFD0]"},ur=[Io((()=>d("div",{class:"send"},"提交任务",-1)))],dr=V(e({__name:"newSend",props:{imageList:{type:Array},sendType:{type:Number}},emits:["isSettingShow","getjobId","resquestStatus"],setup(e,{emit:t}){a();const i=be(),b=L(),h=l();D((()=>h.mjDrawForm));const T=t,E=a(),C=e,I=s(),j=C.sendType,F=s(!1),V=s(0);function U(){F.value?V.value=1:V.value=0}n.on("selectIncantation",(e=>{I.value=e}));const O=D((()=>b.path)),_=s(!1),R=s("--v");n.on("MjOrNj",(e=>{R.value=e}));const G=s("");n.on("styleWord",(e=>{G.value=e}));const N=s({}),X=s(),J=s([]),P=s(0),Z=s(.25),q=s(0),Y=s(0),K=s([]),W=s([]),Q=s([]);function H(){X.value=I.value,_e.value=!1,n.emit("isFocus",_e.value)}n.on("suggestEn",(e=>{X.value=e,I.value=e}));const ee=s("--ar 1:1");if(N.value.seed="",N.value.no="",N.value.v=" 6.0",N.value.sizeValue=ee.value,N.value.q="--q 1",N.value.s="--s 0",N.value.c="--c 0",localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));N.value.fast=e.value}else N.value.fast="--fast";N.value.tile="--tile 0",N.value.stop="--stop 100",N.value.weird="",n.on("--seed",(e=>{N.value.seed=0==e?"":e})),n.on("--no",(e=>{N.value.no=e})),n.on("base64Array",(e=>{J.value=e})),n.on("--v",(e=>{N.value.v=e})),n.on("sizeValue",(e=>{ee.value="--ar "+e,N.value.sizeValue=ee.value})),n.on("--q",(e=>{N.value.q="--q "+e})),n.on("--s",(e=>{N.value.s="--s "+e})),n.on("--c",(e=>{N.value.c="--c "+e})),n.on("--tile",(e=>{e=e?1:0,N.value.tile="--tile "+e})),n.on("--stop",(e=>{N.value.stop="--stop "+e})),n.on("--weird",(e=>{N.value.weird="--weird "+e})),n.on("--iw",(e=>{Z.value=e})),n.on("--cw",(e=>{q.value=e})),n.on("--sw",(e=>{Y.value=e})),n.on("pidImgList",(e=>{K.value=[],e.forEach((e=>{K.value=[...K.value,e.url]}))})),n.on("roleImgList",(e=>{W.value=[],e.forEach((e=>{W.value=[...W.value,e.url]}))})),n.on("styleImgList",(e=>{console.log(e),Q.value=[],e.forEach((e=>{Q.value=[...Q.value,e.url]}))}));const te=s(1),le=s();n.on("imageForm",(e=>{le.value=e}));const ae=D((()=>O.value.includes("text-to-image")?B.TEXT_TO_IMAGE:O.value.includes("image-to-text")?B.IMAGE_TO_TEXT:O.value.includes("image-mix-image")?B.IMAGE_MIX_IMAGE:B.NONE));let se=new FormData;const ie=s(1);n.on("imgToTextMode",(e=>{ie.value=e}));function ne(){0==P.value&&(ae.value==B.TEXT_TO_IMAGE?(P.value=1,xe(),X.value=""):ae.value==B.IMAGE_TO_TEXT?null!=le.value?(P.value=1,n.emit("upLoadIsShow",0),se.append("type",ae.value+""),se.append("action",B.IMAGE_TO_TEXT+""),se.append("mode",ie.value+""),se.append("files",le.value.files[0]),oe(se).then((e=>{200==e.code&&(P.value=0,T("getjobId",e.data),T("resquestStatus",1),se=new FormData)})).catch((e=>{I.value="",P.value=0,se=new FormData}))):E.error("请上传一张图片"):ae.value==B.IMAGE_MIX_IMAGE?ve():0==ae.value&&function(){if(!re.value)return void E.error("请上传人脸模板图片");if(!ce.value)return void E.error("请上传替换人脸目标图");let e={type:4,params:{action:22,sourceBase64:re.value,targetBase64:ce.value,mode:de.value}};P.value=1,fe(e).then((e=>{200==e.code&&(P.value=0,T("getjobId",e.data),T("resquestStatus",1))}))}())}n.on("status",(e=>{P.value=e,0==e&&(I.value="")}));const re=s(""),ce=s("");n.on("sourceBase64",(e=>{re.value=e})),n.on("targetBase64",(e=>{ce.value=e}));const de=s(1);n.on("AiFaceMode",(e=>{de.value=e}));const pe=s("SQUARE"),ge=s(1);n.on("imageMixImageSize",(e=>{pe.value=e})),n.on("drawMode",(e=>{ge.value=e}));const ve=()=>{let e={type:ae.value+"",action:B.IMAGE_MIX_IMAGE+"",mode:ge.value+"",base64Array:J.value,size:pe.value};J.value.length<2?E.error("请上传2-5张图片"):(n.emit("upLoadIsShow",0),P.value=1,oe(e).then((e=>{200==e.code&&(P.value=0,T("getjobId",e.data),T("resquestStatus",1))})).catch((e=>{I.value="",P.value=0})))},xe=()=>{_.value?(T("isSettingShow",!_.value),_.value=!_.value):(T("isSettingShow",_.value),_.value=!_.value);let{no:e,v:t,sizeValue:l,q:a,s:s,c:i,fast:n,tile:o,stop:r,weird:c,seed:u}=N.value,d=R.value;const p={prompt:G.value?X.value+" "+G.value:X.value,action:S.TEXT_TO_IMAGE,extend:(""!=e?`--no ${e} `:"")+d+t+" "+l+" "+a+" "+s+" "+i+" "+n+" "+(""==r?"":r)+" "+(""==c?"":c)+(u?` --seed ${u}`:""),base64Array:J.value.length?J.value:[],mode:te.value,translate:V.value,iw:Z.value,cw:q.value,sw:Y.value,mats:K.value,roles:W.value,styles:Q.value};console.log("数据",p)};s("/midjourney/text-to-image").value=i.currentRoute.value.fullPath;const me=[{name:"快速模式",id:0,value:"--fast",icon:"/src/views/midjourney/img/right1.png",type:1},{name:"休闲模式",id:1,value:"--relax",icon:"/src/views/midjourney/img/importent.png",type:2},{name:"Turbo模式",id:2,value:"--turbo",icon:"/src/views/midjourney/img/importent.png",type:3}],he=s(!1),Ae=()=>{he.value=!he.value},we=s("");if(localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));we.value=e.name,te.value=e.type}else we.value="快速模式";const Ce=s(),Ie=s(),je=()=>{console.log(ae),1==ae.value&&Ce.value.open()},Fe=()=>{1==ae.value&&Ie.value.open()};n.on("prompts",(e=>{I.value=e,X.value=e})),n.on("think",(e=>{I.value=e})),n.on("error",(e=>{P.value=0}));const Be=s(""),Ve=s(""),Ue=s(""),Oe=s(""),Me=s("");Se({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{Be.value=e.data.copyrightTitle,Ve.value=e.data.icpNumber,Ue.value=e.data.policeFilingNumber,Oe.value=e.data.icpUrl,Me.value=e.data.policeFilingUrl}));const _e=s(!1);function De(){I.value||(_e.value=!0,n.emit("isFocus",_e.value))}function Re(){}function ze(){_e.value=!1,n.emit("isFocus",_e.value)}return(e,t)=>(u(),o(c,null,[v(Te,{ref_key:"thinkRef",ref:Ce},null,512),v(Ee,{ref_key:"inspirationRef",ref:Ie},null,512),_e.value?(u(),o("div",{key:0,class:"mask",onClick:ze})):g("",!0),0==x(j)?(u(),o("div",jo,[d("div",So,[ye(d("textarea",{style:{resize:"none",width:"100%",height:"30px","line-height":"30px"},disabled:2==ae.value||3==ae.value,class:"inp dark:bg-[#010102] bg-[#F4F4F4]",placeholder:"在此处描述画图的关键字，注意不要在此填入萝莉、性感血腥等敏感词内容，100%不会出图","onUpdate:modelValue":t[0]||(t[0]=e=>I.value=e),onInput:H,onFocus:De,onBlur:Re},null,40,Fo),[[ke,I.value]])]),d("div",Bo,[d("div",Vo,[d("div",Uo,[d("div",Oo,[he.value?(u(),o("div",Mo,[d("div",_o,[d("div",Do,[Ro,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[d("div",null,[v(x(m),{style:{"font-size":"16px"},class:"text-[#D2D2D2] dark:text-[#9898A1]",icon:"f7:exclamationmark-circle-fill"})])])),default:k((()=>[zo])),_:1})]),(u(),o(c,null,r(me,(e=>d("div",{key:e.id,class:"drawModeText",onClick:t=>(e=>{N.value.fast=e.value,te.value=e.type,we.value=e.name,he.value=!1,localStorage.setItem("drawMode",JSON.stringify(e))})(e)},[d("p",Lo,p(e.name),1),v(x(m),{style:{"font-size":"16px"},class:"text-[#B3B3B3] dark:text-[#9898A1]",icon:"mingcute:right-line"})],8,Go))),64)),No])])):g("",!0),d("div",{class:"selectBox1 dark:bg-[#15171A] bg-[#FFFFFF;]",onClick:Ae},"# "+p(we.value),1),d("div",Xo,[Jo,v(x(M),null,{default:k((()=>[v(x(ue),{value:F.value,"onUpdate:value":[t[1]||(t[1]=e=>F.value=e),U],size:"small",disabled:2==ae.value||3==ae.value},null,8,["value","disabled"])])),_:1})]),d("div",{class:"otherItem",onClick:je},Po),d("div",{class:"otherItem",onClick:Fe},Zo)]),d("div",qo,[ae.value==x(B).TEXT_TO_IMAGE?(u(),o("div",Yo,[d("button",{class:z(""==I.value?"notSend":"send"),onClick:ne,disabled:!X.value,style:$(X.value?"":" cursor:not-allowed")},[1==P.value?(u(),y(x(w),{key:0,size:18,stroke:"#fff"})):g("",!0),0==P.value?(u(),o("p",Wo,"提交")):g("",!0),0==P.value?(u(),o("img",Qo)):g("",!0)],14,Ko)])):(u(),o("div",Ho,[d("button",{class:z(1==P.value?"notSend":"send"),onClick:ne},$o,2)]))])])])]),d("div",er,[d("div",tr,[f("版权所有 © "+p(Be.value)+" ",1),Ve.value?(u(),o("div",lr,[ar,d("a",{href:Oe.value||"#"},p(Ve.value),9,sr)])):g("",!0),Ue.value?(u(),o("div",ir,[nr,d("a",{href:Me.value||"#"},p(Ue.value),9,or)])):g("",!0)])])])):g("",!0),1==x(j)?(u(),o("div",rr,[ae.value!=x(B).TEXT_TO_IMAGE?(u(),o("div",cr,[1==P.value?(u(),y(x(w),{key:0,class:"btnBox dark:bg-[#2960BE] bg-[#3378ED]",size:18,stroke:"#fff"})):(u(),o("div",{key:1,class:"btnBox dark:bg-[#2960BE] bg-[#3378ED]",onClick:ne},ur))])):g("",!0)])):g("",!0)],64))}}),[["__scopeId","data-v-cf2b43d0"]]),pr=e=>(I("data-v-9f344a62"),e=e(),j(),e),gr={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},vr=pr((()=>d("div",{class:"drawAvatar"},[d("img",{class:"drawAvatarImg",src:Be,alt:""})],-1))),xr={class:"drawContent"},mr={style:{display:"flex","align-items":"center","justify-content":"space-between"}},br={class:"drawContentTitle"},yr=pr((()=>d("p",{class:"Title1"},"Midjourney Bot",-1))),kr=pr((()=>d("p",{class:"Title2"},"AI机器人",-1))),fr={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},hr={key:0},Ar={key:0},wr={key:1},Tr={class:"twoBtnBox"},Er={key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]"},Cr=pr((()=>d("div",{style:{"margin-left":"4px"}},"发布",-1))),Ir={key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]"},jr=pr((()=>d("div",{style:{"margin-left":"4px"}},"删除",-1))),Sr={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},Fr={class:"drawContentTitle2"},Br={key:0,class:"progressBox dark:bg-[#15171A] bg-[#f9f9f9]"},Vr={key:1,class:"progressTetx"},Ur=pr((()=>d("div",null,[d("div",{class:"loader"})],-1))),Or={style:{"margin-top":"10px"}},Mr={key:2,class:""},_r=["src"],Dr={key:0,class:"flex justify-start btnBox"},Rr={style:{display:"flex","align-items":"center"}},zr=pr((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"变化: ",-1))),Gr=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Lr=pr((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),Nr={key:0},Xr=["onClick"],Jr={key:1},Pr={key:0,class:"buttonText"},Zr={key:1,class:"buttonText"},qr={class:"buttonText"},Yr={key:1,class:"flex justify-start btnBox"},Kr={style:{display:"flex","align-items":"center"}},Wr=pr((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"重绘: ",-1))),Qr=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Hr=pr((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),$r={key:0},ec=["onClick"],tc={key:1},lc={key:0,class:"buttonText"},ac={key:1,class:"buttonText"},sc={class:"buttonText"},ic={key:2,class:"flex justify-start btnBox"},nc={style:{display:"flex","align-items":"center"}},oc=pr((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"编辑: ",-1))),rc=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),cc=pr((()=>d("div",{style:{width:"280px"}},"参数释义：选中并放大某张图片，放大后可进行下一步的绘画操作，局部重绘、平移、扩图等。",-1))),uc={key:0},dc=["onClick"],pc={key:0,class:"buttonText"},gc={key:1,class:"buttonText"},vc={class:"buttonText"},xc={key:3,class:"flex justify-start btnBox"},mc={style:{display:"flex"}},bc=pr((()=>d("p",{style:{"margin-top":"4px","margin-right":"10px"}},"变化: ",-1))),yc=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),kc=pr((()=>d("div",{style:{width:"280px"}},"参数释义：以某张图片为基准重新生成 如 V1 则变换第一张图片，以此类推",-1))),fc={key:0},hc=["onClick"],Ac={key:1},wc={key:0,class:"buttonText"},Tc={key:1,class:"buttonText"},Ec={class:"buttonText"},Cc={key:4,class:"flex justify-start btnBox"},Ic={style:{"margin-top":"4px",display:"flex","align-items":"center"}},jc=pr((()=>d("p",null,"放大：",-1))),Sc=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Fc=pr((()=>d("div",{style:{width:"280px"}},"参数释义：ZoomOut ，对当前图片按照倍数进行扩大，周围自动AI填充，可无限重复无限扩大",-1))),Bc={key:0},Vc=["onClick"],Uc={key:1},Oc={key:0,class:"buttonText"},Mc={key:1,class:"buttonText"},_c={class:"buttonText"},Dc={key:5,class:"flex justify-start btnBox"},Rc={style:{"margin-top":"4px",display:"flex","align-items":"center"}},zc=pr((()=>d("p",null,"变化：",-1))),Gc=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Lc=pr((()=>d("div",{style:{width:"280px"}},"参数释义：Vary 以当前图片为基础调整图片",-1))),Nc={key:0},Xc=["onClick"],Jc={key:1},Pc={key:0,class:"buttonText"},Zc={key:1,class:"buttonText"},qc={class:"buttonText"},Yc={key:6,class:"flex justify-start btnBox"},Kc={style:{"margin-top":"4px",display:"flex","align-items":"center"}},Wc=pr((()=>d("p",null,"缩小：",-1))),Qc=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),Hc=pr((()=>d("div",{style:{width:"280px"}},"参数释义：ZoomOut ，对当前图片按照倍数进行扩大，周围自动AI填充，可无限重复无限扩大",-1))),$c={key:0},eu=["onClick"],tu={key:1},lu={key:0,class:"buttonText"},au={key:1,class:"buttonText"},su={class:"buttonText"},iu={key:7,class:"flex justify-start btnBox"},nu={style:{"margin-top":"4px",display:"flex","align-items":"center"}},ou=pr((()=>d("p",null,"拉伸：",-1))),ru=pr((()=>d("img",{style:{width:"14px",height:"14px","margin-top":"4px","margin-right":"10px"},src:Fe,alt:""},null,-1))),cu=pr((()=>d("div",{style:{width:"280px"}},"参数释义：对当前图片进行各个方向的拓展",-1))),uu={key:0},du=["onClick"],pu={key:1},gu={key:0,class:"buttonText"},vu={key:1,class:"buttonText"},xu={class:"buttonText"},mu={key:8,class:"flex justify-start btnBox"},bu=pr((()=>d("div",{style:{"margin-top":"4px",display:"flex","align-items":"center"}},[d("p",null,"描述："),d("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),yu={key:0},ku=["onClick"],fu={key:1},hu={key:0,class:"buttonText"},Au={key:1,class:"buttonText"},wu={class:"buttonText"},Tu=V(e({__name:"drawView",props:{drawLogList:{type:Array},task:{type:Object,required:!0}},emits:["fresh","newJob"],setup(e,{emit:t}){we();const{toClipboard:n}=i(),{updateDrawId:T}=l(),E=l(),I=a(),j=e;s(j.drawLogList);const V=t;const U=async(e,t)=>{if(!E.isLogin)return I.warning("请先登录"),void E.setLoginDialog(!0);e.isSuccse=!0;const l=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return S.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return S.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return S.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return S.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return S.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?S.UPSCALE_4X:e.label.includes("Upscale (2x)")?S.UPSCALE_2X:e.label.includes("Vary (Subtle)")?S.VARY_SUBTLE:e.label.includes("Vary (Strong)")?S.VARY_STRONG:e.label.includes("Vary (Region)")?S.VARY_REGION:e.label.includes("Make Square")?S.SQUARE:e.label.includes("Zoom Out 2x")?S.ZOOM2X:e.label.includes("Zoom Out 1.5x")?S.ZOOM1_5X:e.label.includes("Custom Zoom")?S.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?S.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?S.REDO_UPSCALE_CREATIVE:S.NONE})(e);await async function(e){const t=await F({type:B.IMAGE_ACTION,params:e}).then((e=>e.data));T({id:t}),t&&I.success("提交任务成功！"),V("newJob",t)}({action:l,taskId:t.id,customId:e.customId,messageFlags:t.messageFlags||0}),e.isSuccse=!1},O=s(["V1","V2","V3","V4"]),M=s();function _(){let e={jobId:j.task.jobId};C(e).then((e=>{console.log(e),M.value=e.data}))}async function D(e){try{await n(e),I.success("复制成功")}catch(t){I.error("复制失败!!")}}const R=s([1,3,21,7,8,12,11,9]);return(t,l)=>(u(),o("div",gr,[vr,d("div",xr,[d("div",mr,[d("div",br,[yr,kr,d("p",fr,p(j.task.createdAt),1),3==j.task.status?(u(),o("div",hr,[M.value?(u(),o("p",Ar,"seed值: "+p(M.value),1)):g("",!0),3!=j.task.status||M.value?g("",!0):(u(),o("p",{key:1,class:"Title5",onClick:_},"获取seed值"))])):(u(),o("div",wr,[d("p",null,"生成中："+p(j.task.progress?j.task.progress:0)+" %",1)]))]),d("div",Tr,[3===e.task.status?(u(),o("div",Er,[v(x(m),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),Cr])):g("",!0),3===e.task.status?(u(),o("div",Ir,[v(x(m),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),jr])):g("",!0)])]),d("div",Sr,[d("p",{class:"",onClick:l[0]||(l[0]=e=>D(j.task.originPrompt))},p(j.task.originPrompt),1)]),d("div",Fr,[d("p",{class:"Title",onClick:l[1]||(l[1]=e=>D(j.task.prompt))},p(j.task.prompt?j.task.prompt.split("--")[0]:""),1)]),d("div",{class:"drawImgBox",style:$({height:j.task.imageUrl?"":"400px"})},[null==j.task.imageUrl||""==j.task.imageUrl?(u(),o("div",Br)):g("",!0),100!=j.task.progress?(u(),o("div",Vr,[Ur,d("p",Or,p(j.task.progress?j.task.progress:0)+" %",1)])):g("",!0),v(x(b),{style:{width:"280px"},"preview-src":j.task.imageUrl,"object-fit":"contain",src:j.task.imageUrl},null,8,["preview-src","src"]),6==j.task.status?(u(),o("div",Mr,[d("img",{class:"w-auto object-contain",src:x(Ae),alt:""},null,8,_r)])):g("",!0)],4),6===j.task.status?(u(),y(x(h),{key:0,type:"primary",style:{"margin-left":"12px"},onClick:l[2]||(l[2]=e=>(j.task,void he.push({path:"midjourney/paint-task"})))},{default:k((()=>[f(" 补充描述词 ")])),_:1})):g("",!0),d("div",null,[0==j.task.action?(u(),o("div",Dr,[d("div",Rr,[zr,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Gr])),default:k((()=>[Lr])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Vary")?(u(),o("div",Nr,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Jr,[e.label?(u(),o("p",Pr,p(e.label),1)):(u(),o("p",Zr,p(e.emoji),1))]))],8,Xr)])),default:k((()=>[d("p",qr,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),0==j.task.action?(u(),o("div",Yr,[d("div",Kr,[Wr,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Qr])),default:k((()=>[Hr])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Redo")?(u(),o("div",$r,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",tc,[e.label?(u(),o("p",lc,p(e.label),1)):(u(),o("p",ac,p(e.emoji),1))]))],8,ec)])),default:k((()=>[d("p",sc,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),-1!=R.value.indexOf(j.task.action)&&3==j.task.status?(u(),o("div",ic,[d("div",nc,[oc,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[rc])),default:k((()=>[cc])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[-1==O.value.indexOf(e.label)?(u(),o("div",uc,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.label?(u(),o("p",pc,p(e.label),1)):(u(),o("p",gc,p(e.emoji),1))],8,dc)])),default:k((()=>[d("p",vc,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),-1!=R.value.indexOf(j.task.action)&&3==j.task.status?(u(),o("div",xc,[d("div",mc,[bc,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[yc])),default:k((()=>[kc])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[-1!=O.value.indexOf(e.label)?(u(),o("div",fc,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Ac,[e.label?(u(),o("p",wc,p(e.label),1)):(u(),o("p",Tc,p(e.emoji),1))]))],8,hc)])),default:k((()=>[d("p",Ec,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==j.task.action&&3==j.task.status?(u(),o("div",Cc,[d("div",Ic,[jc,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Sc])),default:k((()=>[Fc])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("U")?(u(),o("div",Bc,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Uc,[e.label?(u(),o("p",Oc,p(e.label),1)):(u(),o("p",Mc,p(e.emoji),1))]))],8,Vc)])),default:k((()=>[d("p",_c,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==j.task.action&&3==j.task.status?(u(),o("div",Dc,[d("div",Rc,[zc,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Gc])),default:k((()=>[Lc])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("V")?(u(),o("div",Nc,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",Jc,[e.label?(u(),o("p",Pc,p(e.label),1)):(u(),o("p",Zc,p(e.emoji),1))]))],8,Xc)])),default:k((()=>[d("p",qc,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==j.task.action&&3==j.task.status?(u(),o("div",Yc,[d("div",Kc,[Wc,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[Qc])),default:k((()=>[Hc])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[-1!=e.label.indexOf("Z")?(u(),o("div",$c,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",tu,[e.label?(u(),o("p",lu,p(e.label),1)):(u(),o("p",au,p(e.emoji),1))]))],8,eu)])),default:k((()=>[d("p",su,p(e.label||e.emoji),1)])),_:2},1024)])):g("",!0)],64)))),256))])):g("",!0),4==j.task.action&&3==j.task.status?(u(),o("div",iu,[d("div",nu,[ou,v(x(A),{trigger:"hover",placement:"top"},{trigger:k((()=>[ru])),default:k((()=>[cu])),_:1})]),(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[e.label?g("",!0):(u(),o("div",uu,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",pu,[e.label?(u(),o("p",gu,p(e.label),1)):(u(),o("p",vu,p(e.emoji),1))]))],8,du)])),default:k((()=>[d("p",xu,p(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):g("",!0),2==j.task.action&&3==j.task.status?(u(),o("div",mu,[bu,(u(!0),o(c,null,r(j.task.buttons,(e=>(u(),o(c,null,[e.label?g("",!0):(u(),o("div",yu,[v(x(A),{trigger:"hover"},{trigger:k((()=>[d("button",{class:"buttonBox",style:{margin:"4px 4px 0 4px"},onClick:l=>U(e,t.index)},[e.isSuccse?(u(),y(x(w),{key:0,size:8,class:"buttonText",stroke:"#7E7E8D"})):(u(),o("div",fu,[e.label?(u(),o("p",hu,p(e.label),1)):(u(),o("p",Au,p(e.emoji),1))]))],8,ku)])),default:k((()=>[d("p",wu,p(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):g("",!0)])])]))}}),[["__scopeId","data-v-9f344a62"]]),Eu=e=>(I("data-v-95706188"),e=e(),j(),e),Cu={class:"popBox"},Iu=Eu((()=>d("div",{style:{display:"flex","align-items":"center"}},[d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAn5JREFUSEvFlk9IVFEUh7+jjCaKTi7SLIM2FbQpaNMu0AqckaRMUGcW6SpXQdrGRRS4KW0RZSuTmmkKMSgag8HcRosWuUsoCoT+EaGkjDbpifdeIzM2ztybUG/33v397nfuveede4QCT+OYVpUu0SrFNKIcUKgXKFdYFJgFpnWVyeUtjD9rk/l808lGg01jWluUoh+lGygrFBSQRBhZ9THwtE0+5dLnhAWj2qEwLFBlAMmSKMwL9MRDElvv/QMWuKuDUsR5W8h6vcLQREh6M79nwYJRvQL0bRaU4b8aD8mF9PsazNk64F4+UGUJ7Kn2FO/n4WvSICwlFA+LO68La4hpTdkKrxH8+ewHa+Byo6e48QISb41gc8li9k11yGcXFojosAhnC1nrK2D4hKe6/hwm3xVyeOOq3JoIS48cGVV/hY8PJumdCbs0BS9zJnjOAJILKeokENUugRGzGOFJp6e0hKHQLYGIxkRot4X1PIbZBVMXDuy+BCPqJMZeU1vkJPjLwBaGMuOsbEGEclPYnRaoLofWB7C8YupysoTvEoyqWli42QS7tkJz3j8y54wr1isbOgZ1ldA+bhNiemWWZ9Z3GHZUwrmENWzGSf2YYJ6Nlog1uZuNtv/ZJmDdVhVkdxWc3u/hEm9g+osx2qsgNrXxUC1cbPAAxoU4szY6RtOq/1cwJbvqO8BgRDsRovk2prQYtv3uRr4tweJPg20UQvHOjPssbflnN3Ua2BzVQWXzPQjKtXhYsnqZ/9tdpVd4PKLbfUI/0GVysbp9I9xOKQOJsHzMdZobNqlpccuo+lMlnBLlKLgd8U5xmlZlEXFv+FcqTPp+8PDRGZnLlzK/ADXe7vdu9RfoAAAAAElFTkSuQmCC",alt:""}),d("p",{class:"popTitle"},"提示")],-1))),ju=Eu((()=>d("div",{class:"introBox"},[d("p",{class:"intro"},"积分不足，请购买会员套餐获取积分，享受更多会员权益")],-1))),Su=V(e({__name:"popup",emits:["closePop","buyVip"],setup(e,{emit:t}){const l=t,a=()=>{l("closePop")},s=()=>{l("buyVip")};return(e,t)=>(u(),o("div",Cu,[d("div",{class:"popTopBox"},[Iu,d("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAw1JREFUSEvFljtMU2EUx/+HV7ENoSxYjQZCApaNAIGw24ReBkLq4mOCSVYfCzOLrxEnnFQWG8LALUl3IMDQTlQICWCi7cIj2vYCLUfPZy9paW9vq0TPdu93vvP7zvP7CDYSDoebM5nMPQB3AfQAuA3ABSAJ4AszR4koXFdX98nn8x2XM0dWi4uLix4imiKiCQDX7A7FzOlfB5ll5umRkZF4Kf2SsKWlpQfMPAOg2Q5SYv2YiCaHh4c/Xl4rgum6/oqInvwBpGALM7/WNO1p/s8CWCgUevErF8/+FpS3/6Xf739ufl/AcqH7cIUgZYqZH2mapuwq2MLCwvX6+voYEblNWE1NDTo6OrCzsyMbbM/Q2dmJ/f19nJycXA7n0dnZmXd0dDShYLquzxDR43yt1tZW9Pb2Ih6PIxqNlgV6vV60t7dje3tbHe6yMPNbTdMmaX5+3u1wOL4SUVF5iwExJMBIJFLSO1Pn4OAA6+vrVodKG4Zxk3RdHyeiWas4dXV1qXDu7e1hc3OzQM0EHR4eYmNjA9ls1jLczDxBoVBI+uF+uaR0d3ejra2tAFgNKGd7TmAxAHfsKiAfmE6nVXiTySSWl5fLepRn97PAfuRmnR0PJlAUBbS2tlZUfVZGmPm7wOzrOmfB4/Ggp0dmMVTVSfVVIdmKPWtpacHAwABSqRROT08h37FYDLu7uxXxTM9scyaG+/r6VMgkdJlMBv39/QooFSqVWoGonJWtRhMkZb2ysgLDMJTd2tpaBXS73arppRdtZK5sn7lcLgwNDalqE4+kKPKlGqDqM6sJIiDJkczI1dXVIpAJbWhowODgIJxOp5oyiUSilIO/J4jVbGxqalJhEgMyIcqJw+FQB9va2ioJu5iNYqTU1Jf/4tX5+bldLtS6lS4zF079nHcPieh9RZarUCq6z8y9/+ymNoFX9QYB8Mbv9xe8Zf7v68r0MBgM3nA6nVMAxit5NwKQd+O7VCo1HQgEvpVKq+Uj1VSWPmxsbAwQkY+ZZQrfysGlw+WGjzBz2DCM4NjY2FG52vkJLyqWRgYfvF4AAAAASUVORK5CYII=",alt:"",onClick:a})]),ju,d("div",{class:"btnBox"},[d("button",{class:"close",onClick:a},"关闭"),d("button",{class:"buy",onClick:s},"前往购买")])]))}}),[["__scopeId","data-v-95706188"]]);export{dr as N,hi as _,Tu as a,Eo as b,na as c,ql as d,Fe as e,Su as p};
