import{d as e,U as l,b as t,u as a,y as s,an as i,i as n,r as o,F as r,o as d,j as u,m as c,l as p,n as v,h as g,_ as x,aA as m,k as b,w as f,$ as y,N as k,a0 as A,aE as h,aG as w,C as T,D as E,af as C,ae as I,am as F,E as j,G as B,K as S,L as U,aR as M,c as O,ay as V,M as R,az as D,g as L,T as G,f as N,V as _,aS as z,a9 as X,aT as P,aU as Y,aV as J,aQ as q,aM as Z,aW as K,ad as W,a3 as Q,aX as H,aY as $,aZ as ee,a_ as le,al as te,a$ as ae,aJ as se,b0 as ie,b1 as ne,t as oe,b2 as re,z as de,ap as ue,aq as ce,aa as pe,aP as ve,b3 as ge,b4 as xe,v as me,W as be,a1 as fe,a2 as ye,a5 as ke}from"../main-e96a6f7d.js";import{d as Ae}from"../draw-fail/draw-fail.50b43169.js";import{u as he}from"../index/index.317d6703.js";import{_ as we,a as Te}from"../police/police.b4a86fcd.js";import{a as Ee}from"../music/music.ddbcae82.js";const Ce="/static/png/logo-48b8594b.png",Ie="data:image/png;base64,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",Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE8SURBVHgBXZLRUcJAEIZ3Nwy+agd0gFYgVKB0ABUI45Ab5MFHJjgMdJASTAmxA+kgJeRJJ9HsunsxmZB7yd3tt//d/18QesM5N2Gmic2JOI2iKO3WsQsKBLGAZARyZsYcCO4RcFRBtTj8N1IHfrfCW7SbAkhi6javRFaB1p6VaRtMGUS8Sui2RwZ6FaA4dJvjYb9LVGgWGGMNtbpkey3Ul5PlT/E9K4urO73x0nZMyBg7hbxBho/GS1l83ZxOp3w4LJ+0+bNj90zKDuo05LrZNni9fpkDyhyBpy3PknuW1RwDjrvRMVWZGltppFm7qYkZS3Y/zXbUpOAPl8GtfkbNOgw3j8YY61OqgBcWnXPbB1sH+JuIYNpEDoixMRcPZycEGqUAZD4E7wvHpmxw83AIvVFHR5PaC6eH3q/xBz2NpXhj/RWfAAAAAElFTkSuQmCC",je=e=>(T("data-v-dc50de06"),e=e(),E(),e),Be=je((()=>u("div",{class:"drawAvatar"},[u("img",{class:"drawAvatarImg",src:Ie,alt:""})],-1))),Se={class:"drawContent"},Ue={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Me={class:"drawContentTitle"},Oe=je((()=>u("p",{class:"Title1"},"Midjourney Bot",-1))),Ve=je((()=>u("p",{class:"Title2"},"AI机器人",-1))),Re={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},De={key:0,class:"Title4"},Le={class:"twoBtnBox"},Ge=["onClick"],Ne=je((()=>u("div",{style:{"margin-left":"4px"}},"发布",-1))),_e=["onClick"],ze=je((()=>u("div",{style:{"margin-left":"4px"}},"删除",-1))),Xe={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},Pe={class:"Title4"},Ye={class:"drawContentTitle2"},Je={class:"Title5"},qe={class:"drawImgBox"},Ze={key:0,style:{display:"flex","align-items":"center"}},Ke=je((()=>u("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),We={style:{color:"red","margin-top":"10px"}},Qe={key:0,class:"flex justify-start btnBox"},He=je((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"编辑: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Fe,alt:""})],-1))),$e={key:0},el=["onClick"],ll={key:0,class:"buttonText"},tl={key:1,class:"buttonText"},al={class:"buttonText"},sl={key:1,class:"flex justify-start btnBox"},il=je((()=>u("div",{style:{display:"flex"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"变化: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Fe,alt:""})],-1))),nl={key:0},ol=["onClick"],rl={key:0,class:"buttonText"},dl={key:1,class:"buttonText"},ul={class:"buttonText"},cl={key:2,class:"flex justify-start btnBox"},pl=je((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"放大："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),vl={key:0},gl=["onClick"],xl={key:0,class:"buttonText"},ml={key:1,class:"buttonText"},bl={class:"buttonText"},fl={key:3,class:"flex justify-start btnBox"},yl=je((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"变化："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),kl={key:0},Al=["onClick"],hl={key:0,class:"buttonText"},wl={key:1,class:"buttonText"},Tl={class:"buttonText"},El={key:4,class:"flex justify-start btnBox"},Cl=je((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"缩小："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Il={key:0},Fl=["onClick"],jl={key:0,class:"buttonText"},Bl={key:1,class:"buttonText"},Sl={class:"buttonText"},Ul={key:5,class:"flex justify-start btnBox"},Ml=je((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"拉伸："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Ol={key:0},Vl=["onClick"],Rl={key:0,class:"buttonText"},Dl={key:1,class:"buttonText"},Ll={class:"buttonText"},Gl=e({__name:"drawLogList",props:{drawLogList:{type:Array}},emits:["fresh1","newJobId"],setup(e,{emit:T}){const E=l(),j=he(),{updateSendSquire:B,updateDrawId:S,updatePreview:U}=t(),M=t(),O=a(),V=s(e.drawLogList),R=T;const D=async(e,l)=>{if(console.log(e,l),!M.isLogin)return O.warning("请先登录"),void M.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return C.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return C.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(e);await async function(e){const l=await I({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));S({id:l}),R("newJobId",l),l&&O.success("提交任务成功！")}({action:t,taskId:V.value[l].id,customId:e.customId,messageFlags:V.value[l].messageFlags||0}),R("fresh1")};i.on("newDrawLogList",(e=>{V.value=e,console.log("====",V.value)}));const L=s(["V1","V2","V3","V4"]);return(e,l)=>(d(!0),n(r,null,o(V.value,((e,l)=>(d(),n("div",{class:"drawListBox dark:bg-[#010102] bg-[#F4F4F4]",key:l},[Be,u("div",Se,[u("div",Ue,[u("div",Me,[Oe,Ve,u("p",Re,c(e.createdAt),1),e.seed?(d(),n("p",De,"seed值: "+c(e.seed),1)):p("",!0)]),u("div",Le,[u("div",{class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:l=>(async e=>{B(!0,e.id)})(e)},[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),Ne],8,Ge),u("div",{class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:l=>(e=>{E.create({type:"info",title:"确认删除",content:(1===e.favorite?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:()=>{h({id:e.id}).then((l=>{if(200==l.code){O.success("删除成功");for(let l=0;l<V.value.length;l++)V.value[l].id==e.id&&(V.value.splice(l,1),w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})))}}))},onNegativeClick:()=>{}})})(e)},[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),ze],8,_e)])]),u("div",Xe,[u("p",Pe,c(e.originPrompt),1)]),u("div",Ye,[u("p",Je,c(e.originPrompt),1)]),u("div",qe,[v(g(m),{style:{width:"390px"},"preview-src":e.imageUrl,"object-fit":"contain",src:e.imageUrl?e.imageUrl:g(Ae)},null,8,["preview-src","src"])]),4==e.status?(d(),n("div",Ze,[Ke,u("p",We,c(e.failReason),1)])):p("",!0),6===e.status?(d(),b(g(k),{key:1,type:"primary",style:{"margin-left":"12px"},onClick:l=>{var t;9===(t=e).action?j.openRegionModal(!0,{customId:t.customId,taskId:t.id,mode:t.mode}):M.updateRemixModal(!0,{prompt:"",taskId:t.id,customId:t.customId})}},{default:f((()=>[y(" 补充描述词 ")])),_:2},1032,["onClick"])):p("",!0),u("div",null,[1==e.action&&3==e.status?(d(),n("div",Qe,[He,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1==L.value.indexOf(e.label)?(d(),n("div",$e,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>D(e,l)},[e.label?(d(),n("p",ll,c(e.label),1)):(d(),n("p",tl,c(e.emoji),1))],8,el)])),default:f((()=>[u("p",al,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),1==e.action&&3==e.status?(d(),n("div",sl,[il,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=L.value.indexOf(e.label)?(d(),n("div",nl,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>D(e,l)},[e.label?(d(),n("p",rl,c(e.label),1)):(d(),n("p",dl,c(e.emoji),1))],8,ol)])),default:f((()=>[u("p",ul,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",cl,[pl,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("U")?(d(),n("div",vl,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>D(e,l)},[e.label?(d(),n("p",xl,c(e.label),1)):(d(),n("p",ml,c(e.emoji),1))],8,gl)])),default:f((()=>[u("p",bl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",fl,[yl,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("V")?(d(),n("div",kl,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>D(e,l)},[e.label?(d(),n("p",hl,c(e.label),1)):(d(),n("p",wl,c(e.emoji),1))],8,Al)])),default:f((()=>[u("p",Tl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",El,[Cl,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("Z")?(d(),n("div",Il,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>D(e,l)},[e.label?(d(),n("p",jl,c(e.label),1)):(d(),n("p",Bl,c(e.emoji),1))],8,Fl)])),default:f((()=>[u("p",Sl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",Ul,[Ml,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[e.label?p("",!0):(d(),n("div",Ol,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>D(e,l)},[e.label?(d(),n("p",Rl,c(e.label),1)):(d(),n("p",Dl,c(e.emoji),1))],8,Vl)])),default:f((()=>[u("p",Ll,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])])])))),128))}}),Nl=j(Gl,[["__scopeId","data-v-dc50de06"]]),_l={class:"start-mj w-full rounded-3xl p-6 py-8 dark:bg-[#010102] bg-[#F4F4F4] h-full",style:{width:"100%"}},zl={class:"flex justify-between"},Xl=u("div",null,[u("h1",{class:"text-[34px]"},"您好,请创作您的第一个作品吧！"),u("p",{class:"text-[14px] text-[#aaa]"},"我是您的专属AI伙伴，您可以尝试使用快捷提示，体验一下！")],-1),Pl={class:"body mt-4 h-full"},Yl={class:"flex justify-between h-full min-h-[400px]"},Jl={class:"bg-[#F7F7F7] relative dark:bg-[] w-[14rem] rounded-3xl overflow-hidden"},ql={class:"bg-[#F7F7F7] relative dark:bg-[] w-[14rem] h-[400px] rounded-3xl overflow-hidden mr-2 ml-2"},Zl={class:"absolute left-2 bottom-28 z-30"},Kl={class:"leading-0 text-white line-clamp-2"},Wl=["src"],Ql=["onClick"],Hl=u("p",{class:"select-none ml-2"},"一键制作",-1),$l=e({__name:"suggestion",setup(e){const l=a(),{updatePromptWords:m}=t(),b=B({size:5,page:1}),k=s([]);async function A(){const e=await M(b).then((e=>e.data||[]));if(!e.length)return b.page=1,void l.warning("备选图片不足，请前往后台添加");k.value=e}async function h(){b.page+=1,await A()}return A(),(e,l)=>(d(),n("div",_l,[u("div",zl,[Xl,u("div",{class:"bg-[#3378ED] dark:bg-[#2960BE]",onClick:h,style:{color:"#fff",display:"flex",height:"36px",padding:"0 12px","align-items":"center","border-radius":"8px",cursor:"pointer"}},[v(g(x),{class:"text-lg",icon:"mynaui:refresh"}),y(" 换一换 ")])]),u("div",Pl,[u("ul",Yl,[k.value.length?p("",!0):(d(),n(r,{key:0},o(5,(e=>u("li",null,[u("div",Jl,[v(g(U),{vertical:""},{default:f((()=>[v(g(S),{height:"400px",width:"100%",sharp:!1})])),_:1})])]))),64)),(d(!0),n(r,null,o(k.value,(e=>(d(),n("li",ql,[u("div",Zl,[u("p",Kl,c(e.title),1)]),u("img",{loading:"lazy",src:e.imageUrl,class:"cursor-pointer bg-gray-500 duration-300 transition-all hover:scale-110",alt:""},null,8,Wl),u("div",{class:"absolute cursor-pointer text-white dark:text-[#fff] dark:bg-[rgba(0,0,0,.6)] px-2 py-1 bg-[rgba(0,0,0,.6)] right-4 bottom-6 z-10 rounded-full flex justify-start items-center",onClick:l=>(e=>{const{isCarryParams:l,aspect:t,prompt:a,status:s}=e,n=l&&s?`${a}  --ar ${t}`:`${a}`;m({prompt:n}),i.emit("prompts",n)})(e)},[v(g(x),{icon:"icon-park-outline:send"}),Hl],8,Ql)])))),256))])])]))}}),et=e=>(T("data-v-4323e64c"),e=e(),E(),e),lt={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},tt={class:"topBox"},at=et((()=>u("div",{class:"drawAvatar"},[u("img",{class:"drawAvatarImg",src:Ie,alt:""})],-1))),st={style:{width:"100%"}},it={style:{width:"100%","padding-bottom":"10px"},class:"border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},nt={style:{display:"flex","align-items":"center","justify-content":"space-between"}},ot={style:{display:"flex"}},rt={class:"drawContentTitle"},dt=et((()=>u("p",{class:"Title1"},"Midjourney Bot",-1))),ut=et((()=>u("p",{class:"Title2",style:{"margin-right":"26px"}},"AI机器人",-1))),ct={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},pt={key:0,class:"Title4"},vt={class:"twoBtnBox"},gt=et((()=>u("div",{style:{"margin-left":"4px"}},"发布",-1))),xt=et((()=>u("div",{style:{"margin-left":"4px"}},"删除",-1))),mt={style:{"margin-top":"10px"}},bt={key:0,class:""},ft=["src"],yt={style:{display:"flex","align-items":"center","margin-top":"10px"}},kt=et((()=>u("p",{style:{color:"#fff","margin-top":"10px"}},"绘图失败:",-1))),At={style:{color:"red","margin-top":"10px"}},ht={key:1,class:""},wt=["src"],Tt={key:2,class:""},Et=["src"],Ct={key:4,class:"flex items-center justify-center flex-col",style:{"margin-top":"20px"}},It={key:0,class:"flex justify-start btnBox"},Ft=et((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"编辑: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Fe,alt:""})],-1))),jt={key:0},Bt=["onClick"],St={key:0,class:"buttonText"},Ut={key:1,class:"buttonText"},Mt={class:"buttonText"},Ot={key:1,class:"flex justify-start btnBox"},Vt=et((()=>u("div",{style:{display:"flex"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"变化: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Fe,alt:""})],-1))),Rt={key:0},Dt=["onClick"],Lt={key:0,class:"buttonText"},Gt={key:1,class:"buttonText"},Nt={class:"buttonText"},_t={key:2,class:"flex justify-start btnBox"},zt=et((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"放大："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Xt={key:0},Pt=["onClick"],Yt={key:0,class:"buttonText"},Jt={key:1,class:"buttonText"},qt={class:"buttonText"},Zt={key:3,class:"flex justify-start btnBox"},Kt=et((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"变化："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),Wt={key:0},Qt=["onClick"],Ht={key:0,class:"buttonText"},$t={key:1,class:"buttonText"},ea={class:"buttonText"},la={key:4,class:"flex justify-start btnBox"},ta=et((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"缩小："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),aa={key:0},sa=["onClick"],ia={key:0,class:"buttonText"},na={key:1,class:"buttonText"},oa={class:"buttonText"},ra={key:5,class:"flex justify-start btnBox"},da=et((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"拉伸："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),ua={key:0},ca=["onClick"],pa={key:0,class:"buttonText"},va={key:1,class:"buttonText"},ga={class:"buttonText"},xa=e({__name:"taskItem",props:{task:{type:Object,default:()=>({prompt:"",image:"",time:"",updatedAt:""})},chat:{type:String,default:"task"}},emits:["fresh"],setup(e,{emit:y}){const{updateSendSquire:k,updateDrawId:w,updatePreview:T}=t(),E=l(),j=a();he();const B=t(),S=e,U=y;O((()=>e=>{const{progress:l,status:t}=e;return 1===t?"正在排队中...":3===t?"成功":2===t&&100!==l?"正在绘制中...":2===t&&100===l?"正在存储图片中...":4===t?"绘图失败":5===t?"绘图取消":6===t?"窗口等待":"绘图失败"})),O((()=>e=>1===e?"排队中":2===e?"绘制中":3===e?"成功":4===e?"失败":5===e?"超时":"-")),O((()=>e=>{if(!e)return"";return parseInt(e/60+"")+"分"+parseInt(String(e%60))+"秒"})),O((()=>e=>V[e])),O((()=>{var e;const l=(null==(e=S.task)?void 0:e.buttons)||[],t=[],a=[],s=[],i=[],n=[];return l.forEach((e=>{["U1","U2","U3","U4"].includes(e.label)?t.push(e):["V1","V2","V3","V4"].includes(e.label)?a.push(e):e.label.startsWith("Upscale")||e.label.startsWith("Vary")?s.push(e):e.label?i.push(e):n.push(e)})),[t,a,s,i,n].filter((e=>e.length))}));const M=async(e,l)=>{if(!B.isLogin)return j.warning("请先登录"),void B.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return C.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return C.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(l);await async function(e){const l=await I({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));w({id:l}),l&&j.success("提交任务成功！")}({action:t,taskId:e.id,customId:l.customId,messageFlags:e.messageFlags||0}),U("fresh")},L=s(["V1","V2","V3","V4"]),G=s();return i.on("seed",(e=>{G.value=e})),(l,t)=>(d(),n("div",lt,[u("div",tt,[at,u("div",st,[u("div",it,[u("div",nt,[u("div",ot,[u("div",rt,[dt,ut,u("p",ct,c(S.task.createdAt),1),G.value?(d(),n("p",pt,"seed值: "+c(G.value),1)):p("",!0)])]),u("div",vt,[3===e.task.status?(d(),n("div",{key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:t[0]||(t[0]=e=>(async e=>{k(!0,e.id)})(S.task))},[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),gt])):p("",!0),3===e.task.status?(d(),n("div",{key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:t[1]||(t[1]=e=>(e=>{console.log(e);const{favorite:l}=e;E.create({type:"info",title:"确认删除",content:(1===l?"当前任务已被收藏，删除绘画任务会导致收藏失效且不可找回，确定删除":"删除绘画任务不可找回，确定删除")+"？",positiveText:"确定",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{await h({id:e.id}).then((e=>e.data))&&j.success("删除成功"),U("fresh")},onNegativeClick:()=>{}})})(S.task))},[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),xt])):p("",!0)])]),u("p",null,c(e.task.originPrompt),1)]),u("p",mt,c(e.task.originPrompt),1),u("div",{class:R(["relative z-0 w-auto flex align-center overflow-hidden contain",["chat-history"===e.chat?"h-[390px]":"h-[390px] "]])},[4===e.task.status?(d(),n("div",bt,[u("img",{class:"w-auto object-contain",src:g(Ae),alt:"",style:{"margin-top":"10px"}},null,8,ft),u("div",yt,[kt,u("p",At,c(e.task.failReason),1)])])):5===e.task.status?(d(),n("div",ht,[u("img",{class:"w-auto object-contain",src:g(Ae),alt:""},null,8,wt)])):6===e.task.status?(d(),n("div",Tt,[u("img",{class:"w-auto object-contain",src:g(Ae),alt:""},null,8,Et)])):e.task.imageUrl||e.task.progress?(d(),n("div",Ct,[v(g(m),{style:{width:"390px"},class:"w-full cursor-pointer bg-[#f9f9f9] dark:bg-[transparent] h-full flex justify-center","preview-src":e.task.imageUrl,"object-fit":"contain",src:e.task.imageUrl||""},null,8,["preview-src","src"])])):(d(),b(D,{key:3,progress:e.task.progress},null,8,["progress"]))],2)])]),u("div",null,[1==S.task.action&&3==S.task.status?(d(),n("div",It,[Ft,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1==L.value.indexOf(e.label)?(d(),n("div",jt,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>M(S.task,e)},[e.label?(d(),n("p",St,c(e.label),1)):(d(),n("p",Ut,c(e.emoji),1))],8,Bt)])),default:f((()=>[u("p",Mt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),1==S.task.action&&3==S.task.status?(d(),n("div",Ot,[Vt,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=L.value.indexOf(e.label)?(d(),n("div",Rt,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>M(S.task,e)},[e.label?(d(),n("p",Lt,c(e.label),1)):(d(),n("p",Gt,c(e.emoji),1))],8,Dt)])),default:f((()=>[u("p",Nt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",_t,[zt,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=e.label.indexOf("U")?(d(),n("div",Xt,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>M(S.task,e)},[e.label?(d(),n("p",Yt,c(e.label),1)):(d(),n("p",Jt,c(e.emoji),1))],8,Pt)])),default:f((()=>[u("p",qt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",Zt,[Kt,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=e.label.indexOf("V")?(d(),n("div",Wt,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>M(S.task,e)},[e.label?(d(),n("p",Ht,c(e.label),1)):(d(),n("p",$t,c(e.emoji),1))],8,Qt)])),default:f((()=>[u("p",ea,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",la,[ta,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=e.label.indexOf("Z")?(d(),n("div",aa,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>M(S.task,e)},[e.label?(d(),n("p",ia,c(e.label),1)):(d(),n("p",na,c(e.emoji),1))],8,sa)])),default:f((()=>[u("p",oa,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",ra,[da,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[e.label?p("",!0):(d(),n("div",ua,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>M(S.task,e)},[e.label?(d(),n("p",pa,c(e.label),1)):(d(),n("p",va,c(e.emoji),1))],8,ca)])),default:f((()=>[u("p",ga,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])]))}}),ma=j(xa,[["__scopeId","data-v-4323e64c"]]),ba={class:"flex flex-col",style:{width:"100%"}},fa={class:"h-auto flex-1"},ya=e({__name:"chatHistory",props:{task:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:l}){const a=e,s=O((()=>a.task)),i=t();O((()=>i.userInfo.avatar));const o=l,r=()=>{o("refresh")};return(e,l)=>(d(),n("div",ba,[u("div",fa,[v(ma,{task:s.value,chat:"chat-history",onFresh:r},null,8,["task"])])]))}}),ka=e=>(T("data-v-2c790e88"),e=e(),E(),e),Aa={key:0},ha={class:"text-sm flex items-center"},wa=ka((()=>u("div",{class:"text-[18px] mr-1"},[u("h1",null,"模型设置")],-1))),Ta={"data-tool-target":"tooltip-default"},Ea=ka((()=>u("div",{style:{width:"240px"}},[u("p",null,"MJ: 偏真实通用模型"),u("p",null,"NIJI: 偏动漫风格、适用于二次元模型")],-1))),Ca={class:"flex items-center mt-2"},Ia=ka((()=>u("p",{class:"w-1/2"},"绘画模型",-1))),Fa={class:"flex items-center mt-2"},ja=ka((()=>u("p",{class:"w-1/2"},"--q 质量",-1))),Ba={key:0,class:"flex items-center mt-2"},Sa=ka((()=>u("p",{class:"w-1/2"},"--style风格",-1))),Ua={key:1,class:"flex items-center mt-2"},Ma={class:"w-1/2 flex items-center"},Oa=ka((()=>u("p",null,"--s 风格化",-1))),Va=ka((()=>u("p",null,"数值越高，画面表现也会更具丰富性和艺术性",-1))),Ra={class:"flex items-center mt-2"},Da={class:"w-1/2 flex items-center"},La=ka((()=>u("p",null,"--c 多样性",-1))),Ga=ka((()=>u("p",null,"值越小生成的四张图风格越相似，反之差异越大",-1))),Na=ka((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"垫图图片（0-3张）"),u("p",{class:"text-[14px] mt-2 text-[#999]"},"如需垫图请至少上传一张图片")])],-1))),_a={class:"flex items-center mt-2"},za={class:"flex items-center mt-2"},Xa=ka((()=>u("p",{class:"w-1/3"},"图片相似度",-1))),Pa={class:"w-2/3"},Ya=ka((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"不想出现的词")])],-1))),Ja={class:"flex items-center mt-2"},qa=ka((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),Za={class:"flex-col mt-2"},Ka={class:"flex justify-between"},Wa=["onClick"],Qa={class:"flex items-center justify-center w-6 h-6"},Ha={class:"mt-2 text-center text-xs leading-none text-current"},$a={class:"text-[12px] scale-90"},es={key:0,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},ls={class:"flex justify-between"},ts={class:"text-base py-1"},as={class:"text-[#3076fd]"},ss={class:"flex items-center"},is=se('<div class="mt-3 space-y-1 items-center text-[#3076fd]" data-v-2c790e88><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>绘画单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>图生图单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4积分 </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>放大单次消耗：</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 1积分 </span></div></div>',1),ns={key:0},os=ka((()=>u("h1",{class:"text-[18px] my-2"},"图片解读",-1))),rs=ka((()=>u("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),ds=ka((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"上传图片（只能1张）")])],-1))),us={class:"flex items-center mt-2"},cs=["src"],ps={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},vs=se('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2),gs=[vs],xs={key:1},ms=ka((()=>u("h1",{class:"text-[20px] my-2"},"图混图",-1))),bs=ka((()=>u("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),fs=ka((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"上传图片（2-5张）")])],-1))),ys={class:"flex items-center mt-2"},ks={class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},As=ka((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"图片尺寸")])],-1))),hs={class:"flex-col mt-2"},ws={class:"flex justify-between"},Ts=["onClick"],Es={class:"flex items-center justify-center w-6 h-6"},Cs={class:"mt-2 text-center text-xs leading-none text-current"},Is={class:"text-[12px] scale-90"},Fs={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1 select-none"},js=[se('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>提示</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>同官方的 /describe 命令</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> 系统将根据您上传的图片，解读处多个相关的提示词， 您可以根据解读出提示词重新绘制图像 </div>',2)],Bs={key:2,class:"flex flex-col"},Ss={class:"flex justify-between mb-2"},Us=["onClick"],Ms={class:"ml-1 select-none"},Os=["disabled"],Vs={class:"inline"},Rs={key:2,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Ds=ka((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[16px]"},"生成模式")])],-1))),Ls={class:"mb-2"},Gs=["onClick"],Ns={class:"flex flex-row justify-between"},_s={key:3,class:"flex flex-col mt-4"},zs=["disabled"],Xs={class:"select-none text-white"},Ps={class:"inline"},Ys=j(e({__name:"configure",emits:["fresh"],setup(e,{emit:l}){const{updateDrawId:i}=t(),m=a(),h=t(),w=O((()=>h.userBalance.sumDrawMjCount)),T=O((()=>h.mjDrawForm)),{isMobile:E}=L(),j=G(),S=N(),U=O((()=>j.path)),M=s(""),V=B({files:[],previewImages:[]}),D=l,se=s(!1),oe=O((()=>U.value.includes("text-to-image")?F.TEXT_TO_IMAGE:U.value.includes("image-to-text")?F.IMAGE_TO_TEXT:U.value.includes("image-mix-image")?F.IMAGE_MIX_IMAGE:F.NONE)),re=O((()=>oe.value===F.IMAGE_MIX_IMAGE?V.files.length<=1:oe.value===F.IMAGE_TO_TEXT&&V.files.length<=0)),{selectFile:de}=_(),ue=async()=>{const e=await de();M.value=URL.createObjectURL(e),V.files=[e]},ce=O((()=>T.value.baseImage.map((e=>{const l=e.slice(e.lastIndexOf("/")+1,e.length);return{url:e,id:l.split(".")[0],name:l,status:"finished"}})))),pe=s(!1),ve=O((()=>e=>T.value.size===e));async function ge(){pe.value=!0;try{await h.getUserInfo(),pe.value=!1}catch(e){pe.value=!1}}const xe=["jpg","jpeg","png"],me=e=>{if("finished"===e.file.status||"removed"===e.file.status)return;const l=e.file.type.split("/")[1];if("pending"===e.file.status&&xe.includes(l)){const l=new FileReader;l.readAsDataURL(e.file.file),l.onload=function(){T.value.baseImage.push(l.result),we()}}},be=e=>{"pending"===e.file.status&&V.files.push(e.file.file),"removed"===e.file.status&&(V.files=V.files.filter((l=>l!==e.file.file)))},fe=e=>{const l=e.file.type.split("/")[1];return e.fileList.length>4?(m.warning("最多只能上传5张图片"),!1):xe.includes(l)&&e.fileList.length<=5},ye=e=>{const l=e.file.type.split("/")[1];return e.fileList.length>2?(m.warning("最多只能上传3张图片"),!1):xe.includes(l)&&e.fileList.length<=2},ke=e=>{if("finished"===e.file.status)return T.value.baseImage=T.value.baseImage.filter((l=>-1===l.search(e.file.url))),void we();const l=e.file.id+"."+e.file.type.split("/")[1];T.value.baseImage=T.value.baseImage.filter((e=>-1===e.search(l))),we()},Ae=e=>{const l=e.file.name;T.value.extendParam=T.value.extendParam.filter((e=>!e.filename.includes(l))),we()},he=e=>{T.value.size=e.value,we()},we=async()=>{h.updateMjDrawForm(T.value)},Te=e=>{T.value.mode=e.value,we()},Ee=async()=>{if(!h.isLogin)return m.warning("请先登录"),void h.setLoginDialog(!0);if(!T.value.prompt)return;const e=T.value.baseImage.length?T.value.baseImage.join(" "):void 0;let l=T.value.prompt,t="";/--\w+\s\S+/g.test(l)&&(t=l.slice(l.indexOf("--"),l.length));let a=t||(()=>{let e="";T.value.sensitiveWords&&(e+=` --no ${T.value.sensitiveWords}`);const l=T.value.model.split("-");return l[0].includes("MJ")&&(e+=` --v ${l[1]}`,e+=` --s ${T.value.stylize}`),l[0].includes("NIJI")&&(e+=` --niji ${l[1]}`,T.value.style&&"5"===l[1]&&(e+=` --style ${T.value.style}`)),e+=` --ar ${T.value.size}`,e+=` --c ${T.value.diversity}`,e+=` --q ${T.value.quality}`,e+=` --${ne[T.value.mode]}`,T.value.baseImage.length>0&&(e+=` --iw ${T.value.similarity}`),e})();const s=await I({type:F.TEXT_TO_IMAGE,params:{action:C.TEXT_TO_IMAGE,extend:a,prompt:l,imageUrl:e,mode:T.value.mode,translate:T.value.translate}}).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&S.updateVipDialog(!0)}));s&&m.success("创建文生图任务成功"),T.value.prompt="",i({id:s}),D("fresh")},Ce=async()=>{if(!h.isLogin)return m.warning("请先登录"),void h.setLoginDialog(!0);if(oe.value!==F.NONE){if(oe.value===F.TEXT_TO_IMAGE)await Ee();else{const e=new FormData;oe.value===F.IMAGE_TO_TEXT&&(e.append("type",oe.value+""),e.append("action",F.IMAGE_TO_TEXT+""),e.append("mode",T.value.mode+""),e.append("files",V.files[0])),oe.value===F.IMAGE_MIX_IMAGE&&(e.append("type",oe.value+""),e.append("action",F.IMAGE_MIX_IMAGE+""),e.append("mode",T.value.mode+""),e.append("size",T.value.size+""),V.files.forEach(((l,t)=>{e.append("files",l)})));const l=await ie(e).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("余额不足"))||(null==e?void 0:e.message.includes("免费额度已经使用完毕")))&&S.updateVipDialog(!0)}));l&&m.success(oe.value===F.TEXT_TO_IMAGE?"创建文生图任务成功":oe.value===F.IMAGE_TO_TEXT?"创建图生文任务成功":oe.value===F.IMAGE_MIX_IMAGE?"创建图混图任务成功":"失败"),l&&i({id:l}),l&&D("fresh")}V.files=[]}else m.error("操作类型错误")};return(e,l)=>(d(),n("div",{class:R([[g(E)?"p-2 h-auto":"overflow-y-auto w-full h-[90vh] p-4 "],"sm:pt-6 bg-[#fff] dark:bg-[#1F1F38] sm:w-[20rem] shrink-0"])},[U.value.includes("text-to-image")?(d(),n("div",Aa,[u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(E)?"rounded":"rounded-xl"]])},[u("div",ha,[wa,u("div",Ta,[v(g(A),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-base"})])),default:f((()=>[Ea])),_:1})])]),u("div",Ca,[Ia,v(g(X),{value:T.value.model,"onUpdate:value":[l[0]||(l[0]=e=>T.value.model=e),l[1]||(l[1]=e=>{return(l=T.value.model).includes("NIJI")&&(T.value.style=""),l.includes("MJ")&&(T.value.style="raw"),void we();var l})],size:"small",options:g(z)},null,8,["value","options"])]),u("div",Fa,[ja,v(g(X),{value:T.value.quality,"onUpdate:value":[l[2]||(l[2]=e=>T.value.quality=e),we],size:"small",options:g(P)},null,8,["value","options"])]),T.value.model.includes("5")?(d(),n("div",Ba,[Sa,T.value.model.includes("NIJI-5")?(d(),b(g(X),{key:0,value:T.value.style,"onUpdate:value":[l[3]||(l[3]=e=>T.value.style=e),we],size:"small",options:g(Y)},null,8,["value","options"])):p("",!0),T.value.model.includes("MJ-5")?(d(),b(g(X),{key:1,value:T.value.style,"onUpdate:value":[l[4]||(l[4]=e=>T.value.style=e),we],size:"small",options:g(J)},null,8,["value","options"])):p("",!0)])):p("",!0),T.value.model.includes("MJ")?(d(),n("div",Ua,[u("div",Ma,[Oa,v(g(A),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:f((()=>[Va])),_:1})]),v(g(q),{value:T.value.stylize,"onUpdate:value":[l[5]||(l[5]=e=>T.value.stylize=e),we],max:1e3,min:0,step:1},null,8,["value"])])):p("",!0),u("div",Ra,[u("div",Da,[La,v(g(A),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:f((()=>[Ga])),_:1})]),v(g(q),{value:T.value.diversity,"onUpdate:value":[l[6]||(l[6]=e=>T.value.diversity=e),we],max:100,min:1,step:1},null,8,["value"])])],2),u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(E)?"rounded":"rounded-xl"]])},[Na,u("div",_a,[v(g(Z),{accept:".jpg,.jpeg,.png",action:"","default-file-list":ce.value,"default-upload":!1,"on-change":me,"on-before-upload":ye,"on-remove":ke,"list-type":"image-card"},null,8,["default-file-list"])]),u("div",za,[Xa,u("div",Pa,[v(g(X),{value:T.value.similarity,"onUpdate:value":[l[7]||(l[7]=e=>T.value.similarity=e),we],size:"small",options:g(K)},null,8,["value","options"])])])],2),u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(E)?"rounded":"rounded-xl"]])},[Ya,u("div",Ja,[v(g(W),{value:T.value.sensitiveWords,"onUpdate:value":l[8]||(l[8]=e=>T.value.sensitiveWords=e),onChange:we,placeholder:"多个词用逗号隔开 如 漂亮，帅哥"},null,8,["value"])])],2),u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(E)?"rounded":"rounded-xl"]])},[qa,u("div",Za,[(d(!0),n(r,null,o(g(H),(e=>(d(),n("div",Ka,[(d(!0),n(r,null,o(e,(e=>(d(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:l=>he(e)},[u("div",{class:R(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[u("div",Qa,[u("div",{class:R(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:Q({width:e.width,height:e.height})},null,6)]),u("div",Ha,[u("p",null,c(e.aspect),1),u("p",$a,c(e.label),1)])],2)],8,Wa)))),128))])))),256))])],2),g(E)?p("",!0):(d(),n("div",es,[u("div",ls,[u("span",ts,[y("钱包余额( "),u("b",as,c(w.value||0),1),y(" 积分)")]),u("span",ss,[v(g(k),{text:"",size:"tiny",type:"primary",loading:pe.value,onClick:ge},{default:f((()=>[y("刷新")])),_:1},8,["loading"]),v(g(A),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-base ml-2"})])),default:f((()=>[y(" 绘画账户信息 ")])),_:1})])]),is]))])):p("",!0),U.value.includes("image-to-text")||U.value.includes("image-mix-image")?(d(),n("div",{key:1,class:R(["flex justify-between flex-col",[g(E)?"":"h-full"]])},[U.value.includes("image-to-text")?(d(),n("div",ns,[g(E)?p("",!0):(d(),n(r,{key:0},[os,rs],64)),u("div",{class:R(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(E)?"rounded":"rounded-xl mt-4"]])},[ds,u("div",us,[u("div",{class:"w-[96px] overflow-hidden object-contain h-[96px] flex justify-center items-center rounded hover:dark:border-gray-500 hover:border-gray-400 border-dashed border border-gray-300 cursor-pointer dark:border-gray-600",onClick:ue},[M.value?(d(),n("img",{key:0,src:M.value,class:"object-contain w-full h-full",alt:""},null,8,cs)):(d(),b(g(x),{key:1,icon:"octicon:plus-16",class:"text-[20px]"}))])])],2),g(E)?p("",!0):(d(),n("div",ps,gs))])):p("",!0),U.value.includes("image-mix-image")?(d(),n("div",xs,[g(E)?p("",!0):(d(),n(r,{key:0},[ms,bs],64)),u("div",{class:R(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(E)?"rounded":"rounded-xl mt-4"]])},[fs,u("div",ys,[v(g(Z),{accept:".jpg,.jpeg,.png",action:"",disabled:V.files.length>=5,"default-file-list":V.files,"default-upload":!1,"on-change":be,"on-before-upload":fe,"on-remove":Ae,"list-type":"image-card"},null,8,["disabled","default-file-list"])])],2),u("div",ks,[As,u("div",hs,[(d(!0),n(r,null,o(g($),(e=>(d(),n("div",ws,[(d(!0),n(r,null,o(e,(e=>(d(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:l=>he(e)},[u("div",{class:R(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[u("div",Es,[u("div",{class:R(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:Q({width:e.width,height:e.height})},null,6)]),u("div",Cs,[u("p",null,c(e.aspect),1),u("p",Is,c(e.label),1)])],2)],8,Ts)))),128))])))),256))])]),g(E)?p("",!0):(d(),n("div",Fs,js))])):p("",!0),g(E)?p("",!0):(d(),n("div",Bs,[u("ul",Ss,[(d(!0),n(r,null,o(g(le),(e=>(d(),n("li",{class:"flex justify-start cursor-pointer",onClick:l=>Te(e)},[v(g(ee),{size:"small",checked:T.value.mode===e.value,value:e.value,onChange:l=>Te(e)},null,8,["checked","value","onChange"]),u("p",Ms,c(e.label),1)],8,Us)))),256))]),u("button",{class:R(["w-full flex justify-center items-center h-10 rounded-full text-center",[re.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed ":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:re.value,onClick:Ce},[se.value?(d(),b(g(x),{key:0,icon:"eos-icons:bubble-loading",class:"mr-1"})):p("",!0),se.value?p("",!0):(d(),n("p",{key:1,class:R(["select-none",[re.value?" text-[#333] dark:text-[#ccc]":" text-[#fff] dark:text-[#fff]"]])},[y("提交任务("),u("span",Vs,[v(g(te),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")],2))],10,Os)]))],2)):p("",!0),g(E)?(d(),n("div",Rs,[Ds,u("ul",Ls,[(d(!0),n(r,null,o(g(ae),(e=>(d(),n("li",{class:R(["w-full my-2 p-2 dark:bg-[#42425F] bg-[#F7F7F7] cursor-pointer",[g(E)?"rounded":""]]),onClick:l=>Te(e)},[u("div",Ns,[u("p",{class:R(["select-none",[T.value.mode===e.value?"text-[#3076ED]":""]])},c(e.label),3),v(g(ee),{size:"small",checked:T.value.mode===e.value,value:e.value,onChange:l=>Te(e)},null,8,["checked","value","onChange"])])],10,Gs)))),256))])])):p("",!0),g(E)?(d(),n("div",_s,[u("button",{class:R(["w-full flex justify-center items-center h-10 rounded-full text-center",[re.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:re.value,onClick:Ce},[u("p",Xs,[y("提交任务("),u("span",Ps,[v(g(te),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")])],10,zs)])):p("",!0)],2))}}),[["__scopeId","data-v-2c790e88"]]),Js={class:"input-message"},qs={class:"flex items-stretch space-x-2"},Zs={class:"relative flex-1 mj-input"},Ks={class:"flex justify-between items-center mb-2"},Ws={class:"flex flex-start items-center text-[16px]"},Qs=[u("p",{class:"select-none text-[12px]"},"咒语生成器",-1)],Hs={class:"absolute bottom-2 left-2"},$s={class:"flex items-center justify-between"},ei={class:"flex justify-between items-center"},li=u("label",{class:"text-sm"},"自动翻译",-1),ti=e({__name:"chatMessage",setup(e){const{isMobile:l}=L(),{updatePromptWords:a,updateInspireDialog:i}=t(),o=s(""),r=O((()=>l.value?oe("chat.placeholderMobile"):oe("chat.placeholder"))),c=()=>{a({prompt:o.value})},p=()=>{i(!0)};return(e,t)=>(d(),n("footer",Js,[u("div",{class:R(["m-auto",g(l)?"px-2 py-1":"mt-4"])},[u("div",qs,[u("div",Zs,[u("div",Ks,[u("p",Ws,[v(g(x),{icon:"ri:input-field"}),y(" 输入描述词 ")]),u("div",{class:"bg-[#F7F7F7] bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r rounded-3xl flex justify-start py-1 px-2 cursor-pointer hover:bg-[#3144F1] hover:dark:bg-[#3144F1]",onClick:p},Qs)]),v(g(W),{ref:"inputRef",value:o.value,"onUpdate:value":[t[0]||(t[0]=e=>o.value=e),c],type:"textarea",round:"",class:"pb-10",clearable:"",maxlength:"500","show-count":"",placeholder:r.value,rows:3},null,8,["value","placeholder"]),u("div",Hs,[u("div",$s,[u("div",ei,[li,v(g(re),{text:"",size:"small",round:""})])])])])])],2)]))}}),ai={class:"flex justify-between"},si={class:"mr-2 w-full"},ii={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},ni={class:"p-2"},oi={class:"mb-2"},ri={class:"level-classify text-[15px] py-2 pt-2"},di={key:0,class:"my-1"},ui=["onClick"],ci={class:"select-none text-white"},pi={class:"w-full h-full flex flex-col"},vi={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},gi=[u("p",{class:"dark:text-white text-white"},"前往制作",-1)],xi=e({__name:"createInspiration",setup(e){const l=s(""),a=t(),i=O((()=>a.inspirationDialog)),x=B({level1:[],level2:[]}),m=s(0),y=async e=>{m.value=e,x.level2=await ve({id:e}).then((e=>e.data.rows))},k=()=>{a.updatePromptWords({prompt:l.value}),a.updateInspireDialog(!1)},A=()=>{a.updateInspireDialog(!1)};return de((()=>{(async()=>{const e=await ge({level:0}).then((e=>e.data)),{level1:l}=e;await y(l[0].id),Object.assign(x,{level1:l})})()})),(e,t)=>(d(),b(g(pe),{show:i.value,"onUpdate:show":t[1]||(t[1]=e=>i.value=e),style:{width:"100vw","max-width":"100vw",height:"100vh"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1,onClose:A},{default:f((()=>[u("div",ai,[u("div",si,[v(g(ce),{value:m.value,"onUpdate:value":[t[0]||(t[0]=e=>m.value=e),y],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:f((()=>[(d(!0),n(r,null,o(x.level1,(e=>(d(),b(g(ue),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),u("div",ii,[u("ul",ni,[(d(!0),n(r,null,o(x.level2,(e=>(d(),n("li",null,[u("div",oi,[u("span",ri,c(e.classifyName),1)]),e.children.length>0?(d(),n("div",di,[(d(!0),n(r,null,o(e.children,(e=>(d(),n("div",{key:e.id,class:R(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[l.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:t=>(e=>{l.value.includes(e.incantationEn)?l.value=l.value.replace(e.incantationEn+",",""):l.value+=e.incantationEn+","})(e)},[u("button",ci,c(e.incantationCn)+" "+c(e.incantationEn),1)],10,ui)))),128))])):p("",!0)])))),256))])])]),u("div",pi,[u("div",vi,[u("p",null,c(l.value),1)]),u("div",{onClick:k,class:"rounded-full flex items-center justify-center mt-2 w-full h-[28px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},gi)])])])),_:1},8,["show"]))}}),mi={class:"text-image-container flex flex-row"},bi={class:"w-full pt-2 flex flex-col justify-between"},fi=e({__name:"text2image",setup(e){const l=t(),a=G();O((()=>l.drawId));const i=O((()=>a.path));return s({}),s(),(e,l)=>(d(),n(r,null,[v(xi,{ref:"inspirationRef"},null,512),u("div",mi,[u("div",bi,[i.value.includes("text-to-image")?(d(),b(ti,{key:0})):p("",!0),v(Ys,{ref:"configRef"},null,512)])])],64))}}),yi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAcpJREFUSEvVlL1L11EUxj9PNDaUg0ovtARGSdSUvagYki0RpEtDEC3R0hBobwaBZboYDYoIoUiDEATNgqB/gUO1NTVUtNVQ29PvyFV+L36/3n60dOBO9zyfe8+5z7niH4TtFuAkcAm4CnxVs1zbncB54DLQA+ypYn3OBts+DJwDzgIDwJGSS40Wgm3vBrqBLqAf6ANyL9Jdk2i7AziTSrsIHGiiVd+Bdtm+AFwBTqfVBKtGsiTpWoD9l6QfwG+gtUB3W9JsgG8CrzLgAXyQgKE5VKBpl/Rto8e243GWCxI/AVOSZmyHTxeAtoLcj5KOx97W49kOT64Cu5IoDpqW9C4dfg+Y2KGyF5Lu1oCTOOAxOYuS1jchtt8AQxnt6pW01gCuF9reW7HeCnAqAxoP2iLpVynY9tHU94MZ0EhZlhTe34iyyRtPLsjk8ljS0xzwQ+BZLhXolPQhB3wfeJ4J/iJpf3VuWStGgMmUHLffBwwXHPRa0vVc8CgwBsxJupXsOA/c2AY+KOltLngJOFYRnKgW2H4J3KmDt0qKX20ryloR3+d7ST+38XdUEhVFrFems8HnuR93Q/W2Y8QfVTaeSJqqT2gavJNb/j/wH+wWjGlt1nwMAAAAAElFTkSuQmCC",ki=e({__name:"baiduThink",setup(e,{expose:l}){const n=s(!1),o=s(!1),r=s(!1),u=s(""),c=s(""),x=a(),m=t(),A=O((()=>o.value||!u.value)),h=()=>{u.value=c.value,w()},w=async()=>{if(r.value=!1,c.value=u.value,!u.value)return x.info("请输入简单的描述!"),o.value=!1,void(r.value=!1);o.value=!0;const e=await xe({prompt:u.value}).then((e=>e.data||"")).catch((()=>{o.value=!1,r.value=!1}));o.value=!1,u.value=e,r.value=!0},T=()=>{m.updatePromptWords({prompt:u.value}),n.value=!1,i.emit("think",u.value)};return l({open:()=>{n.value=!0}}),(e,l)=>(d(),b(g(pe),{show:n.value,"onUpdate:show":l[1]||(l[1]=e=>n.value=e),preset:"dialog",title:"AI帮我想","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{action:f((()=>[r.value?(d(),b(g(k),{key:0,round:"",onClick:h},{default:f((()=>[y("重新联想")])),_:1})):p("",!0),r.value?(d(),b(g(k),{key:1,round:"",onClick:T},{default:f((()=>[y("使用此描述")])),_:1})):p("",!0),r.value?p("",!0):(d(),b(g(k),{key:2,round:"",onClick:w,disabled:A.value},{default:f((()=>[y("生成此描述")])),_:1},8,["disabled"]))])),default:f((()=>[v(g(W),{value:u.value,"onUpdate:value":l[0]||(l[0]=e=>u.value=e),clearable:"",type:"textarea",loading:o.value,bordered:"",disabled:o.value,placeholder:"请输入简单的描述，AI将智能完善创意描述","show-count":"",rows:7,maxlength:"3000"},null,8,["value","loading","disabled"])])),_:1},8,["show"]))}}),Ai={class:"flex justify-between"},hi={class:"mr-2 w-10/12"},wi={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},Ti={class:"p-2"},Ei={class:"mb-2"},Ci={class:"level-classify text-[15px] py-2 pt-2"},Ii={key:0,class:"my-1"},Fi=["onClick"],ji={class:"select-none text-white"},Bi={class:"w-2/12 h-full flex flex-col"},Si={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},Ui=[u("p",{class:"dark:text-white text-white"},"前往制作",-1)],Mi=e({__name:"createInspiration",setup(e,{expose:l}){const a=s(!1),x=s(""),m=t(),y=B({level1:[],level2:[]}),k=s(0),A=async e=>{k.value=e,y.level2=await ve({id:e}).then((e=>e.data.rows))},h=()=>{m.updatePromptWords({prompt:x.value}),i.emit("selectIncantation",x.value),a.value=!1},w=async()=>{const e=await ge({level:0}).then((e=>e.data)),{level1:l}=e;await A(l[0].id),Object.assign(y,{level1:l})};return l({open:()=>{a.value=!0,w()}}),(e,l)=>(d(),b(g(pe),{show:a.value,"onUpdate:show":l[1]||(l[1]=e=>a.value=e),style:{width:"1200px",height:"600px"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{default:f((()=>[u("div",Ai,[u("div",hi,[v(g(ce),{value:k.value,"onUpdate:value":[l[0]||(l[0]=e=>k.value=e),A],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:f((()=>[(d(!0),n(r,null,o(y.level1,(e=>(d(),b(g(ue),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),u("div",wi,[u("ul",Ti,[(d(!0),n(r,null,o(y.level2,(e=>(d(),n("li",null,[u("div",Ei,[u("span",Ci,c(e.classifyName),1)]),e.children.length>0?(d(),n("div",Ii,[(d(!0),n(r,null,o(e.children,(e=>(d(),n("div",{key:e.id,class:R(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[x.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:l=>(e=>{x.value.includes(e.incantationEn)?x.value=x.value.replace(e.incantationEn+",",""):x.value+=e.incantationEn+","})(e)},[u("button",ji,c(e.incantationCn)+" "+c(e.incantationEn),1)],10,Fi)))),128))])):p("",!0)])))),256))])])]),u("div",Bi,[u("div",Si,[u("p",null,c(x.value),1)]),u("div",{onClick:h,class:"rounded-full flex items-center justify-center mt-2 w-full h-[42px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},Ui)])])])),_:1},8,["show"]))}}),Oi=e=>(T("data-v-d5394839"),e=e(),E(),e),Vi={key:0,class:"contentCenterBottom bg-[#F4F4F4] dark:bg-[#010102]"},Ri={class:"inputBox"},Di=["disabled"],Li={class:"inpBoxLeft"},Gi={class:""},Ni={class:"selectBox"},_i={class:"other"},zi={key:0},Xi={class:"drawModeBox bg-[#FFFFFF] dark:bg-[#15171A]"},Pi={style:{display:"flex","align-items":"center","justify-content":"center","font-size":"13px"}},Yi=Oi((()=>u("div",{style:{width:"70px",height:"30px","line-height":"30px"}},"绘图模式",-1))),Ji=Oi((()=>u("p",null,"普通模式：高峰期预计需要10分钟出图（会员免费使用） 快速模式：平均1-2分钟出图（每张消耗4绘画积分）",-1))),qi=["onClick"],Zi={class:"text-[#696969] dark:text-[#fff] modeName"},Ki=Oi((()=>u("div",{class:"smallBox bg-[#FFFFFF] dark:bg-[#15171A]",style:{position:"absolute"}},null,-1))),Wi={class:"otherItem"},Qi=Oi((()=>u("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"自动翻译",-1))),Hi=[Oi((()=>u("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"联想",-1))),Oi((()=>u("img",{class:"setImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAAAXNSR0IArs4c6QAAAyxJREFUOE+VlG9olWUYxn/Xe85Et2bSRMusvkiC/YFMjEpoO2eYmlKki/rgoj8UpBBt50iU1CyR2DlbZC7UFEKSoEQhmNA675mFZEXL8FMfpEFlhGjM2hxz23u196zNuZrm++l57+e6f/f93M9z32LSV93qBcEQT0qsMCyUKLP4HXPMER/+eZLPu3ZrcLKfxgy1b/laJ2kGnrP5dQT0tc13hv4AFgJLEYttugmoLzbqq4mwEii11TcynYLgOpvNxT720qTootCqbmYuAbMC2CFIR7ChM6P3xjRa9Lqn3VDJUcxcJakpvKSfLknbVrqFL4FlmGfDrPamc25BNESwtjOjg7Fe6bxfAFoxS8OsTizPuaIjq74SrMlBTQWPB2J/6V8cChv1aLxM5/0B8DAXWBC+orMx6CRwdNBsSYpDwCKJfTbhyDFmD0d8rwTzMCujgG1HGhTrqX7bsxLD/ILIhI3aFYOMWENEHaJ+/MxifxSxBNFWzOjdybf0T1admLNhVutGQXCbYbPgiTGHyKyOQyQjThRe1s9TgHYZ7i5mtESpnB2Zu8qgLwpKRb0e6BR8EwXsKDbo1H9BYltt3scNiTCjO0sZOeLB4iZ1xIUG5nRk1X3Pds+ceYGnIljf08uKriadqfvYid+6KZ8mFktskXgA6Al7qYpB5zDvhFm99q/ItlItbDxXyc6KXm5Pmi8EM4DkRO0QrFIq74+AeVU3k/rkMQ1PFNzb6hnl5mnMMpt10qWAMW0gvtXK7V4zMMCnQcDhQqMemghKNXu5Aj6bqkZjdsOZUovU5nzc4g7Ei8MB7X+Vc6rreQ2mcn51JIutVwCd7qlkfglU0+J0YAoTHOrCjA7U5r3PsP5yIMPBYkZrx7s/lXO7xKrYybBnpGUOBwG7bWZfBhQZNhQz2jkOSufdCOSvVI/J+zKbClnlLmaUd/yy37xq0BC3xC+/BEpvc5Wn8YNg/lWBzPnzCW461qA/RkE5P4PY8z8gbZF432YgmUDu53Q8QkYnTDwS2nxN0M8bwEZB2RTA9jCj1VMFG69RLLgv5znTA+qJeAS4VVCJSsH6huH+Ixn9OBXob7wuQNwmduTfAAAAAElFTkSuQmCC",alt:""},null,-1)))],$i=[Oi((()=>u("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"提示词生成器",-1)))],en={class:"inpBoxRight"},ln={key:0},tn=["disabled"],an=[Oi((()=>u("p",{class:"sendText"},"发送",-1))),Oi((()=>u("img",{class:"sendImg",src:yi,alt:""},null,-1)))],sn={key:1},nn=[Oi((()=>u("p",{class:"sendText"},"发送",-1))),Oi((()=>u("img",{class:"sendImg",src:yi,alt:""},null,-1)))],on={style:{color:"#eeeeee"},class:"end"},rn={style:{display:"flex"}},dn={key:0,style:{display:"flex"}},un=Oi((()=>u("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:we,alt:""},null,-1))),cn=["href"],pn={key:1,style:{display:"flex"}},vn=Oi((()=>u("img",{style:{"margin-right":"5px",width:"16px",height:"16px"},src:Te,alt:""},null,-1))),gn=["href"],xn={key:1},mn={key:0,class:"sendBox dark:bg-[#15171A] bg-[#FFFFFF] border-t-[2px] dark:border-[#4A4C4F] border-[#CECFD0]"},bn=[Oi((()=>u("div",{class:"send"},"提交任务（",-1))),Oi((()=>u("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuSURBVHgB7ZLNDcIwDIVfKgYpG7ABcOUCTFBG6SZ0BDgA17IBG5A14IB55kdc6sQIjv2kOFL8o2fHQI8iB5Syx8ITW+SroeYZwUGRU8VrDCdpZTdMaEs4CSknZ3V+Fduw1e3j8Yo2LBG/KiY7rOhdd7jaMMO0K8duM6AyPI2dYinT4T9nplFzWl2PSFVD/AJbrjk/4alScfk9+xBxwfE/xcT+xTcDeAg4UVWDHuUOYuQrAb9WX3gAAAAASUVORK5CYII=",alt:""},null,-1))),Oi((()=>u("div",null,"4）",-1)))],fn=j(e({__name:"newSend",props:{imageList:{type:Array},sendType:{type:Number}},emits:["isSettingShow","getjobId","resquestStatus"],setup(e,{emit:l}){const m=me(),b=G(),k=t(),h=O((()=>k.mjDrawForm)),w=l,T=a(),E=e,j=s(),B=E.sendType,S=s(!1),M=s(0);function V(){S.value?M.value=1:M.value=0}i.on("selectIncantation",(e=>{j.value=e}));const D=O((()=>b.path)),L=s(!1),N=s("--v");i.on("MjOrNj",(e=>{N.value=e}));const _=s("");i.on("styleWord",(e=>{_.value=e}));const z=s({}),X=s(),P=s([]),Y=s(0);be(j,((e,l)=>{$()}));const J=s(.25),q=s(0),Z=s(0),K=s([]),W=s([]),H=s([]);function $(){X.value=j.value,j.value?Y.value=0:Y.value=1}const ee=s("--ar 1:1");if(z.value.seed="",z.value.no="",z.value.v=" 6.0",z.value.sizeValue=ee.value,z.value.q="--q 1",z.value.s="--s 0",z.value.c="--c 0",localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));z.value.fast=e.value}else z.value.fast="--fast";z.value.tile="--tile 0",z.value.stop="",z.value.weird="",i.on("--seed",(e=>{z.value.seed=0==e?"":e})),i.on("--no",(e=>{z.value.no=e})),i.on("base64Array",(e=>{P.value=e})),i.on("--v",(e=>{z.value.v=e})),i.on("sizeValue",(e=>{ee.value="--ar "+e,z.value.sizeValue=ee.value})),i.on("--q",(e=>{z.value.q="--q "+e})),i.on("--s",(e=>{z.value.s="--s "+e})),i.on("--c",(e=>{z.value.c="--c "+e})),i.on("--tile",(e=>{e=e?1:0,z.value.tile="--tile "+e})),i.on("--stop",(e=>{z.value.stop="--stop "+e})),i.on("--weird",(e=>{z.value.weird="--weird "+e})),i.on("--iw",(e=>{J.value=e})),i.on("--cw",(e=>{q.value=e})),i.on("--sw",(e=>{Z.value=e})),i.on("pidImgList",(e=>{K.value=[],e.forEach((e=>{K.value=[...K.value,e.url]}))})),i.on("roleImgList",(e=>{W.value=[],e.forEach((e=>{W.value=[...W.value,e.url]}))})),i.on("styleImgList",(e=>{console.log(e),H.value=[],e.forEach((e=>{H.value=[...H.value,e.url]}))}));const le=s(1),te=s();i.on("imageForm",(e=>{te.value=e}));const ae=O((()=>D.value.includes("text-to-image")?F.TEXT_TO_IMAGE:D.value.includes("image-to-text")?F.IMAGE_TO_TEXT:D.value.includes("image-mix-image")?F.IMAGE_MIX_IMAGE:F.NONE));let se=new FormData;function ne(){0==Y.value&&(ae.value==F.TEXT_TO_IMAGE?(ue(),X.value="",Y.value=0):ae.value==F.IMAGE_TO_TEXT?te.value?(Y.value=1,i.emit("upLoadIsShow",0),se.append("type",ae.value+""),se.append("action",F.IMAGE_TO_TEXT+""),se.append("mode",h.value.mode+""),se.append("files",te.value.files[0]),ie(se).then((e=>{200==e.code&&(w("getjobId",e.data),w("resquestStatus",1),se=new FormData)})).catch((e=>{j.value="",Y.value=0}))):T.error("请上传一张图片"):ae.value==F.IMAGE_MIX_IMAGE&&de())}i.on("status",(e=>{Y.value=e,0==e&&(j.value="")}));const oe=s("SQUARE");i.on("imageMixImageSize",(e=>{oe.value=e}));const de=()=>{let e={type:ae.value+"",action:F.IMAGE_MIX_IMAGE+"",mode:h.value.mode+"",base64Array:P.value,size:oe.value};P.value.length<2?T.error("请上传2-5张图片"):(i.emit("upLoadIsShow",0),Y.value=1,ie(e).then((e=>{Y.value=1,200==e.code&&(w("getjobId",e.data),w("resquestStatus",1))})).catch((e=>{j.value="",Y.value=0})))},ue=()=>{L.value?(w("isSettingShow",!L.value),L.value=!L.value):(w("isSettingShow",L.value),L.value=!L.value);let{no:e,v:l,sizeValue:t,q:a,s:s,c:i,fast:n,tile:o,stop:r,weird:d,seed:u}=z.value,c=N.value;Y.value=1,I({type:F.TEXT_TO_IMAGE,params:{prompt:_.value?X.value+" "+_.value:X.value,action:C.TEXT_TO_IMAGE,extend:(""!=e?`--no ${e} `:"")+c+l+" "+t+" "+a+" "+s+" "+i+" "+n+" "+(""==r?"":r)+" "+(""==d?"":d)+(u?` --seed ${u}`:""),base64Array:P.value.length?P.value:[],mode:le.value,translate:M.value,iw:J.value,cw:q.value,sw:Z.value,mats:K.value,roles:W.value,styles:H.value}}).then((e=>{200==e.code&&(w("getjobId",e.data),w("resquestStatus",1),Y.value=0,j.value="")})).catch((e=>{j.value="",Y.value=0,j.value=""}))};s("/midjourney/text-to-image").value=m.currentRoute.value.fullPath;const ce=[{name:"快速模式",id:0,value:"--fast",icon:"/src/views/midjourney/img/right1.png",type:1},{name:"休闲模式",id:1,value:"--relax",icon:"/src/views/midjourney/img/importent.png",type:2},{name:"Turbo模式",id:2,value:"--turbo",icon:"/src/views/midjourney/img/importent.png",type:3}],pe=s(!1),ve=()=>{pe.value=!pe.value},ge=s("");if(localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));ge.value=e.name,le.value=e.type}else ge.value="快速模式";const xe=s(),ke=s(),Ae=()=>{console.log(ae),1==ae.value&&xe.value.open()},he=()=>{1==ae.value&&ke.value.open()};i.on("prompts",(e=>{j.value=e,X.value=e})),i.on("think",(e=>{j.value=e})),i.on("error",(e=>{Y.value=0}));const we=s(""),Te=s(""),Ce=s(""),Ie=s(""),Fe=s("");return Ee({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{we.value=e.data.copyrightTitle,Te.value=e.data.icpNumber,Ce.value=e.data.policeFilingNumber,Ie.value=e.data.icpUrl,Fe.value=e.data.policeFilingUrl})),(e,l)=>(d(),n(r,null,[v(ki,{ref_key:"thinkRef",ref:xe},null,512),v(Mi,{ref_key:"inspirationRef",ref:ke},null,512),0==g(B)?(d(),n("div",Vi,[u("div",Ri,[fe(u("textarea",{style:{resize:"none",width:"100%",height:"30px","line-height":"30px"},disabled:2==ae.value||3==ae.value,class:"inp dark:bg-[#010102] bg-[#F4F4F4]",placeholder:"在此处描述画图的关键字，注意不要在此填入萝莉、性感血腥等敏感词内容，100%不会出图","onUpdate:modelValue":l[0]||(l[0]=e=>j.value=e),onInput:$},null,40,Di),[[ye,j.value]])]),u("div",Li,[u("div",Gi,[u("div",Ni,[u("div",_i,[pe.value?(d(),n("div",zi,[u("div",Xi,[u("div",Pi,[Yi,v(g(A),{trigger:"hover",placement:"top"},{trigger:f((()=>[u("div",null,[v(g(x),{style:{"font-size":"16px"},class:"text-[#D2D2D2] dark:text-[#9898A1]",icon:"f7:exclamationmark-circle-fill"})])])),default:f((()=>[Ji])),_:1})]),(d(),n(r,null,o(ce,(e=>u("div",{key:e.id,class:"drawModeText",onClick:l=>(e=>{z.value.fast=e.value,le.value=e.type,ge.value=e.name,pe.value=!1,localStorage.setItem("drawMode",JSON.stringify(e))})(e)},[u("p",Zi,c(e.name),1),v(g(x),{style:{"font-size":"16px"},class:"text-[#B3B3B3] dark:text-[#9898A1]",icon:"mingcute:right-line"})],8,qi))),64)),Ki])])):p("",!0),u("div",{class:"selectBox1 dark:bg-[#15171A] bg-[#FFFFFF;]",onClick:ve},"# "+c(ge.value),1),u("div",Wi,[Qi,v(g(U),null,{default:f((()=>[v(g(re),{value:S.value,"onUpdate:value":[l[1]||(l[1]=e=>S.value=e),V],size:"small",disabled:2==ae.value||3==ae.value},null,8,["value","disabled"])])),_:1})]),u("div",{class:"otherItem",onClick:Ae},Hi),u("div",{class:"otherItem",onClick:he},$i)]),u("div",en,[ae.value==g(F).TEXT_TO_IMAGE?(d(),n("div",ln,[u("button",{class:R(1==Y.value?"notSend":"send"),onClick:ne,disabled:!X.value,style:Q(X.value?"":" cursor:not-allowed")},an,14,tn)])):(d(),n("div",sn,[u("button",{class:R(1==Y.value?"notSend":"send"),onClick:ne},nn,2)]))])])])]),u("div",on,[u("div",rn,[y("版权所有 © "+c(we.value)+" ",1),Te.value?(d(),n("div",dn,[un,u("a",{href:Ie.value||"#"},c(Te.value),9,cn)])):p("",!0),Ce.value?(d(),n("div",pn,[vn,u("a",{href:Fe.value||"#"},c(Ce.value),9,gn)])):p("",!0)])])])):p("",!0),1==g(B)?(d(),n("div",xn,[ae.value!=g(F).TEXT_TO_IMAGE?(d(),n("div",mn,[u("div",{class:"btnBox dark:bg-[#2960BE] bg-[#3378ED]",onClick:ne},bn)])):p("",!0)])):p("",!0)],64))}}),[["__scopeId","data-v-d5394839"]]),yn=e=>(T("data-v-cdfb4e87"),e=e(),E(),e),kn={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},An=yn((()=>u("div",{class:"drawAvatar"},[u("img",{class:"drawAvatarImg",src:Ie,alt:""})],-1))),hn={class:"drawContent"},wn={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Tn={class:"drawContentTitle"},En=yn((()=>u("p",{class:"Title1"},"Midjourney Bot",-1))),Cn=yn((()=>u("p",{class:"Title2"},"AI机器人",-1))),In={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Fn={key:0,class:"Title4"},jn={class:"twoBtnBox"},Bn={key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]"},Sn=yn((()=>u("div",{style:{"margin-left":"4px"}},"发布",-1))),Un={key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]"},Mn=yn((()=>u("div",{style:{"margin-left":"4px"}},"删除",-1))),On={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},Vn={class:"Title4"},Rn={class:"drawContentTitle2"},Dn={class:"Title5"},Ln=["src"],Gn=["src"],Nn={key:0,class:"flex justify-start btnBox"},_n=yn((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"编辑: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Fe,alt:""})],-1))),zn={key:0},Xn=["onClick"],Pn={key:0,class:"buttonText"},Yn={key:1,class:"buttonText"},Jn={class:"buttonText"},qn={key:1,class:"flex justify-start btnBox"},Zn=yn((()=>u("div",{style:{display:"flex"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"变化: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Fe,alt:""})],-1))),Kn={key:0},Wn=["onClick"],Qn={key:0,class:"buttonText"},Hn={key:1,class:"buttonText"},$n={class:"buttonText"},eo={key:2,class:"flex justify-start btnBox"},lo=yn((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"放大："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),to={key:0},ao=["onClick"],so={key:0,class:"buttonText"},io={key:1,class:"buttonText"},no={class:"buttonText"},oo={key:3,class:"flex justify-start btnBox"},ro=yn((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"变化："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),uo={key:0},co=["onClick"],po={key:0,class:"buttonText"},vo={key:1,class:"buttonText"},go={class:"buttonText"},xo={key:4,class:"flex justify-start btnBox"},mo=yn((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"缩小："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),bo={key:0},fo=["onClick"],yo={key:0,class:"buttonText"},ko={key:1,class:"buttonText"},Ao={class:"buttonText"},ho={key:5,class:"flex justify-start btnBox"},wo=yn((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"拉伸："),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Fe,alt:""})],-1))),To={key:0},Eo=["onClick"],Co={key:0,class:"buttonText"},Io={key:1,class:"buttonText"},Fo={class:"buttonText"},jo=j(e({__name:"drawView",props:{drawLogList:{type:Array},task:{type:Object,required:!0}},emits:["fresh","newJob"],setup(e,{emit:l}){he();const{updateDrawId:m}=t(),h=t(),w=a(),T=e;s(T.drawLogList);const E=l;const j=async(e,l)=>{if(console.log(e,l),!h.isLogin)return w.warning("请先登录"),void h.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("🔄"===e.emoji)return C.REGENERATE;if(["⬅️","➡️","⬆️","⬇️"].includes(e.emoji))return C.STRETCH;if(["1️⃣","2️⃣","3️⃣","4️⃣"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(e);await async function(e){const l=await I({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));m({id:l}),l&&w.success("提交任务成功！"),E("newJob",l)}({action:t,taskId:l.id,customId:e.customId,messageFlags:l.messageFlags||0})},B=s(["V1","V2","V3","V4"]),S=s();return i.on("seed",(e=>{S.value=e})),(l,t)=>(d(),n("div",kn,[An,u("div",hn,[u("div",wn,[u("div",Tn,[En,Cn,u("p",In,c(T.task.createdAt),1),S.value?(d(),n("p",Fn,"seed值: "+c(S.value),1)):p("",!0)]),u("div",jn,[3===e.task.status?(d(),n("div",Bn,[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),Sn])):p("",!0),3===e.task.status?(d(),n("div",Un,[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),Mn])):p("",!0)])]),u("div",On,[u("p",Vn,c(T.task.originPrompt),1)]),u("div",Rn,[u("p",Dn,c(T.task.prompt?T.task.prompt.split("--")[0]:""),1)]),u("div",{class:"drawImgBox",style:Q({height:T.task.imageUrl?"":"400px"})},[6===T.task.status?(d(),n("img",{key:0,src:g(Ae),alt:""},null,8,Ln)):p("",!0),6!=T.task.status&&T.task.imageUrl?(d(),n("img",{key:1,class:"img",src:T.task.imageUrl,alt:""},null,8,Gn)):p("",!0),T.task.imageUrl||6==T.task.status?p("",!0):(d(),b(D,{key:2}))],4),6===T.task.status?(d(),b(g(k),{key:0,type:"primary",style:{"margin-left":"12px"},onClick:t[0]||(t[0]=e=>(T.task,void ke.push({path:"midjourney/paint-task"})))},{default:f((()=>[y(" 补充描述词 ")])),_:1})):p("",!0),u("div",null,[1==T.task.action&&3==T.task.status?(d(),n("div",Nn,[_n,(d(!0),n(r,null,o(T.task.buttons,(e=>(d(),n(r,null,[-1==B.value.indexOf(e.label)?(d(),n("div",zn,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",Pn,c(e.label),1)):(d(),n("p",Yn,c(e.emoji),1))],8,Xn)])),default:f((()=>[u("p",Jn,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),1==T.task.action&&3==T.task.status?(d(),n("div",qn,[Zn,(d(!0),n(r,null,o(T.task.buttons,(e=>(d(),n(r,null,[-1!=B.value.indexOf(e.label)?(d(),n("div",Kn,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",Qn,c(e.label),1)):(d(),n("p",Hn,c(e.emoji),1))],8,Wn)])),default:f((()=>[u("p",$n,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==T.task.action&&3==T.task.status?(d(),n("div",eo,[lo,(d(!0),n(r,null,o(T.task.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("U")?(d(),n("div",to,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",so,c(e.label),1)):(d(),n("p",io,c(e.emoji),1))],8,ao)])),default:f((()=>[u("p",no,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==T.task.action&&3==T.task.status?(d(),n("div",oo,[ro,(d(!0),n(r,null,o(T.task.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("V")?(d(),n("div",uo,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",po,c(e.label),1)):(d(),n("p",vo,c(e.emoji),1))],8,co)])),default:f((()=>[u("p",go,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==T.task.action&&3==T.task.status?(d(),n("div",xo,[mo,(d(!0),n(r,null,o(T.task.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("Z")?(d(),n("div",bo,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",yo,c(e.label),1)):(d(),n("p",ko,c(e.emoji),1))],8,fo)])),default:f((()=>[u("p",Ao,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==T.task.action&&3==T.task.status?(d(),n("div",ho,[wo,(d(!0),n(r,null,o(T.task.buttons,(e=>(d(),n(r,null,[e.label?p("",!0):(d(),n("div",To,[v(g(A),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",Co,c(e.label),1)):(d(),n("p",Io,c(e.emoji),1))],8,Eo)])),default:f((()=>[u("p",Fo,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])])]))}}),[["__scopeId","data-v-cdfb4e87"]]),Bo=e=>(T("data-v-95706188"),e=e(),E(),e),So={class:"popBox"},Uo=Bo((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAn5JREFUSEvFlk9IVFEUh7+jjCaKTi7SLIM2FbQpaNMu0AqckaRMUGcW6SpXQdrGRRS4KW0RZSuTmmkKMSgag8HcRosWuUsoCoT+EaGkjDbpifdeIzM2ztybUG/33v397nfuveede4QCT+OYVpUu0SrFNKIcUKgXKFdYFJgFpnWVyeUtjD9rk/l808lGg01jWluUoh+lGygrFBSQRBhZ9THwtE0+5dLnhAWj2qEwLFBlAMmSKMwL9MRDElvv/QMWuKuDUsR5W8h6vcLQREh6M79nwYJRvQL0bRaU4b8aD8mF9PsazNk64F4+UGUJ7Kn2FO/n4WvSICwlFA+LO68La4hpTdkKrxH8+ewHa+Byo6e48QISb41gc8li9k11yGcXFojosAhnC1nrK2D4hKe6/hwm3xVyeOOq3JoIS48cGVV/hY8PJumdCbs0BS9zJnjOAJILKeokENUugRGzGOFJp6e0hKHQLYGIxkRot4X1PIbZBVMXDuy+BCPqJMZeU1vkJPjLwBaGMuOsbEGEclPYnRaoLofWB7C8YupysoTvEoyqWli42QS7tkJz3j8y54wr1isbOgZ1ldA+bhNiemWWZ9Z3GHZUwrmENWzGSf2YYJ6Nlog1uZuNtv/ZJmDdVhVkdxWc3u/hEm9g+osx2qsgNrXxUC1cbPAAxoU4szY6RtOq/1cwJbvqO8BgRDsRovk2prQYtv3uRr4tweJPg20UQvHOjPssbflnN3Ua2BzVQWXzPQjKtXhYsnqZ/9tdpVd4PKLbfUI/0GVysbp9I9xOKQOJsHzMdZobNqlpccuo+lMlnBLlKLgd8U5xmlZlEXFv+FcqTPp+8PDRGZnLlzK/ADXe7vdu9RfoAAAAAElFTkSuQmCC",alt:""}),u("p",{class:"popTitle"},"提示")],-1))),Mo=Bo((()=>u("div",{class:"introBox"},[u("p",{class:"intro"},"积分不足，请购买会员套餐获取积分，享受更多会员权益")],-1))),Oo=j(e({__name:"popup",emits:["closePop","buyVip"],setup(e,{emit:l}){const t=l,a=()=>{t("closePop")},s=()=>{t("buyVip")};return(e,l)=>(d(),n("div",So,[u("div",{class:"popTopBox"},[Uo,u("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAw1JREFUSEvFljtMU2EUx/+HV7ENoSxYjQZCApaNAIGw24ReBkLq4mOCSVYfCzOLrxEnnFQWG8LALUl3IMDQTlQICWCi7cIj2vYCLUfPZy9paW9vq0TPdu93vvP7zvP7CDYSDoebM5nMPQB3AfQAuA3ABSAJ4AszR4koXFdX98nn8x2XM0dWi4uLix4imiKiCQDX7A7FzOlfB5ll5umRkZF4Kf2SsKWlpQfMPAOg2Q5SYv2YiCaHh4c/Xl4rgum6/oqInvwBpGALM7/WNO1p/s8CWCgUevErF8/+FpS3/6Xf739ufl/AcqH7cIUgZYqZH2mapuwq2MLCwvX6+voYEblNWE1NDTo6OrCzsyMbbM/Q2dmJ/f19nJycXA7n0dnZmXd0dDShYLquzxDR43yt1tZW9Pb2Ih6PIxqNlgV6vV60t7dje3tbHe6yMPNbTdMmaX5+3u1wOL4SUVF5iwExJMBIJFLSO1Pn4OAA6+vrVodKG4Zxk3RdHyeiWas4dXV1qXDu7e1hc3OzQM0EHR4eYmNjA9ls1jLczDxBoVBI+uF+uaR0d3ejra2tAFgNKGd7TmAxAHfsKiAfmE6nVXiTySSWl5fLepRn97PAfuRmnR0PJlAUBbS2tlZUfVZGmPm7wOzrOmfB4/Ggp0dmMVTVSfVVIdmKPWtpacHAwABSqRROT08h37FYDLu7uxXxTM9scyaG+/r6VMgkdJlMBv39/QooFSqVWoGonJWtRhMkZb2ysgLDMJTd2tpaBXS73arppRdtZK5sn7lcLgwNDalqE4+kKPKlGqDqM6sJIiDJkczI1dXVIpAJbWhowODgIJxOp5oyiUSilIO/J4jVbGxqalJhEgMyIcqJw+FQB9va2ioJu5iNYqTU1Jf/4tX5+bldLtS6lS4zF079nHcPieh9RZarUCq6z8y9/+ymNoFX9QYB8Mbv9xe8Zf7v68r0MBgM3nA6nVMAxit5NwKQd+O7VCo1HQgEvpVKq+Uj1VSWPmxsbAwQkY+ZZQrfysGlw+WGjzBz2DCM4NjY2FG52vkJLyqWRgYfvF4AAAAASUVORK5CYII=",alt:"",onClick:a})]),Mo,u("div",{class:"btnBox"},[u("button",{class:"close",onClick:a},"关闭"),u("button",{class:"buy",onClick:s},"前往购买")])]))}}),[["__scopeId","data-v-95706188"]]);export{fn as N,ya as _,Nl as a,fi as b,$l as c,jo as d,Ce as e,Fe as f,Oo as p};
