import{d as e,U as l,b as t,u as a,y as s,an as i,i as n,r as o,F as r,o as d,j as u,m as c,l as p,n as v,h as g,_ as x,aA as m,k as b,w as f,$ as y,N as k,a0 as h,aE as A,aG as w,C as E,D as T,af as C,ae as I,am as F,E as j,G as M,K as S,L as B,aR as U,c as O,ay as V,M as R,az as L,g as D,T as G,f as _,V as N,aS as z,a9 as X,aT as J,aU as P,aV as q,aQ as Y,aL as Z,aW as K,ad as W,a3 as Q,aX as H,aY as $,aZ as ee,a_ as le,al as te,a$ as ae,aJ as se,b0 as ie,b1 as ne,t as oe,b2 as re,z as de,ap as ue,aq as ce,aa as pe,aO as ve,b3 as ge,b4 as xe,v as me,a1 as be,a2 as fe,a5 as ye}from"../main-b75778ed.js";import{d as ke}from"../draw-fail/draw-fail.50b43169.js";import{u as he}from"../index/index.3c337507.js";import{a as Ae}from"../music/music.512e1309.js";const we="/static/png/logo-48b8594b.png",Ee="data:image/png;base64,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",Te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE8SURBVHgBXZLRUcJAEIZ3Nwy+agd0gFYgVKB0ABUI45Ab5MFHJjgMdJASTAmxA+kgJeRJJ9HsunsxmZB7yd3tt//d/18QesM5N2Gmic2JOI2iKO3WsQsKBLGAZARyZsYcCO4RcFRBtTj8N1IHfrfCW7SbAkhi6javRFaB1p6VaRtMGUS8Sui2RwZ6FaA4dJvjYb9LVGgWGGMNtbpkey3Ul5PlT/E9K4urO73x0nZMyBg7hbxBho/GS1l83ZxOp3w4LJ+0+bNj90zKDuo05LrZNni9fpkDyhyBpy3PknuW1RwDjrvRMVWZGltppFm7qYkZS3Y/zXbUpOAPl8GtfkbNOgw3j8YY61OqgBcWnXPbB1sH+JuIYNpEDoixMRcPZycEGqUAZD4E7wvHpmxw83AIvVFHR5PaC6eH3q/xBz2NpXhj/RWfAAAAAElFTkSuQmCC",Ce=e=>(E("data-v-dc50de06"),e=e(),T(),e),Ie=Ce((()=>u("div",{class:"drawAvatar"},[u("img",{class:"drawAvatarImg",src:Ee,alt:""})],-1))),Fe={class:"drawContent"},je={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Me={class:"drawContentTitle"},Se=Ce((()=>u("p",{class:"Title1"},"Midjourney Bot",-1))),Be=Ce((()=>u("p",{class:"Title2"},"AIæœºå™¨äºº",-1))),Ue={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},Oe={key:0,class:"Title4"},Ve={class:"twoBtnBox"},Re=["onClick"],Le=Ce((()=>u("div",{style:{"margin-left":"4px"}},"å‘å¸ƒ",-1))),De=["onClick"],Ge=Ce((()=>u("div",{style:{"margin-left":"4px"}},"åˆ é™¤",-1))),_e={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},Ne={class:"Title4"},ze={class:"drawContentTitle2"},Xe={class:"Title5"},Je={class:"drawImgBox"},Pe={key:0,style:{display:"flex","align-items":"center"}},qe=Ce((()=>u("p",{style:{color:"#fff","margin-top":"10px"}},"ç»˜å›¾å¤±è´¥:",-1))),Ye={style:{color:"red","margin-top":"10px"}},Ze={key:0,class:"flex justify-start btnBox"},Ke=Ce((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"ç¼–è¾‘: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Te,alt:""})],-1))),We={key:0},Qe=["onClick"],He={key:0,class:"buttonText"},$e={key:1,class:"buttonText"},el={class:"buttonText"},ll={key:1,class:"flex justify-start btnBox"},tl=Ce((()=>u("div",{style:{display:"flex"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"å˜åŒ–: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Te,alt:""})],-1))),al={key:0},sl=["onClick"],il={key:0,class:"buttonText"},nl={key:1,class:"buttonText"},ol={class:"buttonText"},rl={key:2,class:"flex justify-start btnBox"},dl=Ce((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"æ”¾å¤§ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),ul={key:0},cl=["onClick"],pl={key:0,class:"buttonText"},vl={key:1,class:"buttonText"},gl={class:"buttonText"},xl={key:3,class:"flex justify-start btnBox"},ml=Ce((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"å˜åŒ–ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),bl={key:0},fl=["onClick"],yl={key:0,class:"buttonText"},kl={key:1,class:"buttonText"},hl={class:"buttonText"},Al={key:4,class:"flex justify-start btnBox"},wl=Ce((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"ç¼©å°ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),El={key:0},Tl=["onClick"],Cl={key:0,class:"buttonText"},Il={key:1,class:"buttonText"},Fl={class:"buttonText"},jl={key:5,class:"flex justify-start btnBox"},Ml=Ce((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"æ‹‰ä¼¸ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),Sl={key:0},Bl=["onClick"],Ul={key:0,class:"buttonText"},Ol={key:1,class:"buttonText"},Vl={class:"buttonText"},Rl=e({__name:"drawLogList",props:{drawLogList:{type:Array}},emits:["fresh1","newJobId"],setup(e,{emit:E}){const T=l(),j=he(),{updateSendSquire:M,updateDrawId:S,updatePreview:B}=t(),U=t(),O=a(),V=s(e.drawLogList),R=E;const L=async(e,l)=>{if(console.log(e,l),!U.isLogin)return O.warning("è¯·å…ˆç™»å½•"),void U.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("ğŸ”„"===e.emoji)return C.REGENERATE;if(["â¬…ï¸","â¡ï¸","â¬†ï¸","â¬‡ï¸"].includes(e.emoji))return C.STRETCH;if(["1ï¸âƒ£","2ï¸âƒ£","3ï¸âƒ£","4ï¸âƒ£"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(e);await async function(e){const l=await I({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));S({id:l}),R("newJobId",l),l&&O.success("æäº¤ä»»åŠ¡æˆåŠŸï¼")}({action:t,taskId:V.value[l].id,customId:e.customId,messageFlags:V.value[l].messageFlags||0}),R("fresh1")};i.on("newDrawLogList",(e=>{V.value=e,console.log("====",V.value)}));const D=s(["V1","V2","V3","V4"]);return(e,l)=>(d(!0),n(r,null,o(V.value,((e,l)=>(d(),n("div",{class:"drawListBox dark:bg-[#010102] bg-[#F4F4F4]",key:l},[Ie,u("div",Fe,[u("div",je,[u("div",Me,[Se,Be,u("p",Ue,c(e.createdAt),1),e.seed?(d(),n("p",Oe,"seedå€¼: "+c(e.seed),1)):p("",!0)]),u("div",Ve,[u("div",{class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:l=>(async e=>{M(!0,e.id)})(e)},[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),Le],8,Re),u("div",{class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:l=>(e=>{T.create({type:"info",title:"ç¡®è®¤åˆ é™¤",content:(1===e.favorite?"å½“å‰ä»»åŠ¡å·²è¢«æ”¶è—ï¼Œåˆ é™¤ç»˜ç”»ä»»åŠ¡ä¼šå¯¼è‡´æ”¶è—å¤±æ•ˆä¸”ä¸å¯æ‰¾å›ï¼Œç¡®å®šåˆ é™¤":"åˆ é™¤ç»˜ç”»ä»»åŠ¡ä¸å¯æ‰¾å›ï¼Œç¡®å®šåˆ é™¤")+"ï¼Ÿ",positiveText:"ç¡®å®š",negativeText:"å–æ¶ˆ",maskClosable:!1,onPositiveClick:()=>{A({id:e.id}).then((l=>{if(200==l.code){O.success("åˆ é™¤æˆåŠŸ");for(let l=0;l<V.value.length;l++)V.value[l].id==e.id&&(V.value.splice(l,1),w({page:1,size:20}).then((e=>{localStorage.setItem("drawLogList",JSON.stringify(e.data.rows))})))}}))},onNegativeClick:()=>{}})})(e)},[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),Ge],8,De)])]),u("div",_e,[u("p",Ne,c(e.originPrompt),1)]),u("div",ze,[u("p",Xe,c(e.originPrompt),1)]),u("div",Je,[v(g(m),{style:{width:"390px"},"preview-src":e.imageUrl,"object-fit":"contain",src:e.imageUrl?e.imageUrl:g(ke)},null,8,["preview-src","src"])]),4==e.status?(d(),n("div",Pe,[qe,u("p",Ye,c(e.failReason),1)])):p("",!0),6===e.status?(d(),b(g(k),{key:1,type:"primary",style:{"margin-left":"12px"},onClick:l=>{var t;9===(t=e).action?j.openRegionModal(!0,{customId:t.customId,taskId:t.id,mode:t.mode}):U.updateRemixModal(!0,{prompt:"",taskId:t.id,customId:t.customId})}},{default:f((()=>[y(" è¡¥å……æè¿°è¯ ")])),_:2},1032,["onClick"])):p("",!0),u("div",null,[1==e.action&&3==e.status?(d(),n("div",Ze,[Ke,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1==D.value.indexOf(e.label)?(d(),n("div",We,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>L(e,l)},[e.label?(d(),n("p",He,c(e.label),1)):(d(),n("p",$e,c(e.emoji),1))],8,Qe)])),default:f((()=>[u("p",el,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),1==e.action&&3==e.status?(d(),n("div",ll,[tl,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=D.value.indexOf(e.label)?(d(),n("div",al,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>L(e,l)},[e.label?(d(),n("p",il,c(e.label),1)):(d(),n("p",nl,c(e.emoji),1))],8,sl)])),default:f((()=>[u("p",ol,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",rl,[dl,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("U")?(d(),n("div",ul,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>L(e,l)},[e.label?(d(),n("p",pl,c(e.label),1)):(d(),n("p",vl,c(e.emoji),1))],8,cl)])),default:f((()=>[u("p",gl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",xl,[ml,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("V")?(d(),n("div",bl,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>L(e,l)},[e.label?(d(),n("p",yl,c(e.label),1)):(d(),n("p",kl,c(e.emoji),1))],8,fl)])),default:f((()=>[u("p",hl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",Al,[wl,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("Z")?(d(),n("div",El,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>L(e,l)},[e.label?(d(),n("p",Cl,c(e.label),1)):(d(),n("p",Il,c(e.emoji),1))],8,Tl)])),default:f((()=>[u("p",Fl,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==e.action&&3==e.status?(d(),n("div",jl,[Ml,(d(!0),n(r,null,o(e.buttons,(e=>(d(),n(r,null,[e.label?p("",!0):(d(),n("div",Sl,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>L(e,l)},[e.label?(d(),n("p",Ul,c(e.label),1)):(d(),n("p",Ol,c(e.emoji),1))],8,Bl)])),default:f((()=>[u("p",Vl,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])])])))),128))}}),Ll=j(Rl,[["__scopeId","data-v-dc50de06"]]),Dl={class:"start-mj w-full rounded-3xl p-6 py-8 dark:bg-[#010102] bg-[#F4F4F4] h-full",style:{width:"100%"}},Gl={class:"flex justify-between"},_l=u("div",null,[u("h1",{class:"text-[34px]"},"æ‚¨å¥½,è¯·åˆ›ä½œæ‚¨çš„ç¬¬ä¸€ä¸ªä½œå“å§ï¼"),u("p",{class:"text-[14px] text-[#aaa]"},"æˆ‘æ˜¯æ‚¨çš„ä¸“å±AIä¼™ä¼´ï¼Œæ‚¨å¯ä»¥å°è¯•ä½¿ç”¨å¿«æ·æç¤ºï¼Œä½“éªŒä¸€ä¸‹ï¼")],-1),Nl={class:"body mt-4 h-full"},zl={class:"flex justify-between h-full min-h-[400px]"},Xl={class:"bg-[#F7F7F7] relative dark:bg-[#1F1F38] w-[14rem] rounded-3xl overflow-hidden"},Jl={class:"bg-[#F7F7F7] relative dark:bg-[#1F1F38] w-[14rem] h-[400px] rounded-3xl overflow-hidden mr-2 ml-2"},Pl={class:"absolute left-2 bottom-28 z-30"},ql={class:"leading-0 text-white line-clamp-2"},Yl=["src"],Zl=["onClick"],Kl=u("p",{class:"select-none ml-2"},"ä¸€é”®åˆ¶ä½œ",-1),Wl=e({__name:"suggestion",setup(e){const l=a(),{updatePromptWords:m}=t(),b=M({size:5,page:1}),k=s([]);async function h(){const e=await U(b).then((e=>e.data||[]));if(!e.length)return b.page=1,void l.warning("å¤‡é€‰å›¾ç‰‡ä¸è¶³ï¼Œè¯·å‰å¾€åå°æ·»åŠ ");k.value=e}async function A(){b.page+=1,await h()}return h(),(e,l)=>(d(),n("div",Dl,[u("div",Gl,[_l,u("div",{class:"bg-[#3378ED] dark:bg-[#2960BE]",onClick:A,style:{color:"#fff",display:"flex",height:"36px",padding:"0 12px","align-items":"center","border-radius":"8px",cursor:"pointer"}},[v(g(x),{class:"text-lg",icon:"mynaui:refresh"}),y(" æ¢ä¸€æ¢ ")])]),u("div",Nl,[u("ul",zl,[k.value.length?p("",!0):(d(),n(r,{key:0},o(5,(e=>u("li",null,[u("div",Xl,[v(g(B),{vertical:""},{default:f((()=>[v(g(S),{height:"400px",width:"100%",sharp:!1})])),_:1})])]))),64)),(d(!0),n(r,null,o(k.value,(e=>(d(),n("li",Jl,[u("div",Pl,[u("p",ql,c(e.title),1)]),u("img",{loading:"lazy",src:e.imageUrl,class:"cursor-pointer bg-gray-500 duration-300 transition-all hover:scale-110",alt:""},null,8,Yl),u("div",{class:"absolute cursor-pointer text-white dark:text-[#fff] dark:bg-[rgba(0,0,0,.6)] px-2 py-1 bg-[rgba(0,0,0,.6)] right-4 bottom-6 z-10 rounded-full flex justify-start items-center",onClick:l=>(e=>{const{isCarryParams:l,aspect:t,prompt:a,status:s}=e,n=l&&s?`${a}  --ar ${t}`:`${a}`;m({prompt:n}),i.emit("prompts",n)})(e)},[v(g(x),{icon:"icon-park-outline:send"}),Kl],8,Zl)])))),256))])])]))}}),Ql=e=>(E("data-v-9b4ed6d4"),e=e(),T(),e),Hl={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},$l={class:"topBox"},et=Ql((()=>u("div",{class:"drawAvatar"},[u("img",{class:"drawAvatarImg",src:Ee,alt:""})],-1))),lt={style:{width:"100%"}},tt={style:{width:"100%","padding-bottom":"10px"},class:"border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},at={style:{display:"flex","align-items":"center","justify-content":"space-between"}},st={style:{display:"flex"}},it={class:"drawContentTitle"},nt=Ql((()=>u("p",{class:"Title1"},"Midjourney Bot",-1))),ot=Ql((()=>u("p",{class:"Title2",style:{"margin-right":"26px"}},"AIæœºå™¨äºº",-1))),rt={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},dt={key:0,class:"Title4"},ut={class:"twoBtnBox"},ct=Ql((()=>u("div",{style:{"margin-left":"4px"}},"å‘å¸ƒ",-1))),pt=Ql((()=>u("div",{style:{"margin-left":"4px"}},"åˆ é™¤",-1))),vt={style:{"margin-top":"10px"}},gt={key:0,class:""},xt=["src"],mt={style:{display:"flex","align-items":"center","margin-top":"10px"}},bt=Ql((()=>u("p",{style:{color:"#fff","margin-top":"10px"}},"ç»˜å›¾å¤±è´¥:",-1))),ft={style:{color:"red","margin-top":"10px"}},yt={key:1,class:""},kt=["src"],ht={key:2,class:""},At=["src"],wt={key:4,class:"flex items-center justify-center flex-col",style:{"margin-top":"20px"}},Et={key:0,class:"flex justify-start btnBox"},Tt=Ql((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"ç¼–è¾‘: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Te,alt:""})],-1))),Ct={key:0},It=["onClick"],Ft={key:0,class:"buttonText"},jt={key:1,class:"buttonText"},Mt={class:"buttonText"},St={key:1,class:"flex justify-start btnBox"},Bt=Ql((()=>u("div",{style:{display:"flex"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"å˜åŒ–: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Te,alt:""})],-1))),Ut={key:0},Ot=["onClick"],Vt={key:0,class:"buttonText"},Rt={key:1,class:"buttonText"},Lt={class:"buttonText"},Dt={key:2,class:"flex justify-start btnBox"},Gt=Ql((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"æ”¾å¤§ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),_t={key:0},Nt=["onClick"],zt={key:0,class:"buttonText"},Xt={key:1,class:"buttonText"},Jt={class:"buttonText"},Pt={key:3,class:"flex justify-start btnBox"},qt=Ql((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"å˜åŒ–ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),Yt={key:0},Zt=["onClick"],Kt={key:0,class:"buttonText"},Wt={key:1,class:"buttonText"},Qt={class:"buttonText"},Ht={key:4,class:"flex justify-start btnBox"},$t=Ql((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"ç¼©å°ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),ea={key:0},la=["onClick"],ta={key:0,class:"buttonText"},aa={key:1,class:"buttonText"},sa={class:"buttonText"},ia={key:5,class:"flex justify-start btnBox"},na=Ql((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"æ‹‰ä¼¸ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),oa={key:0},ra=["onClick"],da={key:0,class:"buttonText"},ua={key:1,class:"buttonText"},ca={class:"buttonText"},pa=e({__name:"taskItem",props:{task:{type:Object,default:()=>({prompt:"",image:"",time:"",updatedAt:""})},chat:{type:String,default:"task"}},emits:["fresh"],setup(e,{emit:y}){const{updateSendSquire:k,updateDrawId:w,updatePreview:E}=t(),T=l(),j=a();he();const M=t(),S=e,B=y;O((()=>e=>{const{progress:l,status:t}=e;return 1===t?"æ­£åœ¨æ’é˜Ÿä¸­...":3===t?"æˆåŠŸ":2===t&&100!==l?"æ­£åœ¨ç»˜åˆ¶ä¸­...":2===t&&100===l?"æ­£åœ¨å­˜å‚¨å›¾ç‰‡ä¸­...":4===t?"ç»˜å›¾å¤±è´¥":5===t?"ç»˜å›¾å–æ¶ˆ":6===t?"çª—å£ç­‰å¾…":"ç»˜å›¾å¤±è´¥"})),O((()=>e=>1===e?"æ’é˜Ÿä¸­":2===e?"ç»˜åˆ¶ä¸­":3===e?"æˆåŠŸ":4===e?"å¤±è´¥":5===e?"è¶…æ—¶":"-")),O((()=>e=>{if(!e)return"";return parseInt(e/60+"")+"åˆ†"+parseInt(String(e%60))+"ç§’"})),O((()=>e=>V[e])),O((()=>{var e;const l=(null==(e=S.task)?void 0:e.buttons)||[],t=[],a=[],s=[],i=[],n=[];return l.forEach((e=>{["U1","U2","U3","U4"].includes(e.label)?t.push(e):["V1","V2","V3","V4"].includes(e.label)?a.push(e):e.label.startsWith("Upscale")||e.label.startsWith("Vary")?s.push(e):e.label?i.push(e):n.push(e)})),[t,a,s,i,n].filter((e=>e.length))}));const U=async(e,l)=>{if(!M.isLogin)return j.warning("è¯·å…ˆç™»å½•"),void M.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("ğŸ”„"===e.emoji)return C.REGENERATE;if(["â¬…ï¸","â¡ï¸","â¬†ï¸","â¬‡ï¸"].includes(e.emoji))return C.STRETCH;if(["1ï¸âƒ£","2ï¸âƒ£","3ï¸âƒ£","4ï¸âƒ£"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(l);await async function(e){const l=await I({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));w({id:l}),l&&j.success("æäº¤ä»»åŠ¡æˆåŠŸï¼")}({action:t,taskId:e.id,customId:l.customId,messageFlags:e.messageFlags||0}),B("fresh")},D=s(["V1","V2","V3","V4"]),G=s();return i.on("seed",(e=>{G.value=e})),(l,t)=>(d(),n("div",Hl,[u("div",$l,[et,u("div",lt,[u("div",tt,[u("div",at,[u("div",st,[u("div",it,[nt,ot,u("p",rt,c(S.task.createdAt),1),G.value?(d(),n("p",dt,"seedå€¼: "+c(G.value),1)):p("",!0)])]),u("div",ut,[3===e.task.status?(d(),n("div",{key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]",onClick:t[0]||(t[0]=e=>(async e=>{k(!0,e.id)})(l.item))},[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),ct])):p("",!0),3===e.task.status?(d(),n("div",{key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]",onClick:t[1]||(t[1]=e=>(e=>{const{favorite:l}=e;T.create({type:"info",title:"ç¡®è®¤åˆ é™¤",content:(1===l?"å½“å‰ä»»åŠ¡å·²è¢«æ”¶è—ï¼Œåˆ é™¤ç»˜ç”»ä»»åŠ¡ä¼šå¯¼è‡´æ”¶è—å¤±æ•ˆä¸”ä¸å¯æ‰¾å›ï¼Œç¡®å®šåˆ é™¤":"åˆ é™¤ç»˜ç”»ä»»åŠ¡ä¸å¯æ‰¾å›ï¼Œç¡®å®šåˆ é™¤")+"ï¼Ÿ",positiveText:"ç¡®å®š",negativeText:"å–æ¶ˆ",maskClosable:!1,onPositiveClick:async()=>{await A({id:e.id}).then((e=>e.data))&&j.success("åˆ é™¤æˆåŠŸ"),B("fresh")},onNegativeClick:()=>{}})})(l.item))},[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),pt])):p("",!0)])]),u("p",null,c(e.task.originPrompt),1)]),u("p",vt,c(e.task.originPrompt),1),u("div",{class:R(["relative z-0 w-auto flex align-center overflow-hidden contain",["chat-history"===e.chat?"h-[390px]":"h-[390px] "]])},[4===e.task.status?(d(),n("div",gt,[u("img",{class:"w-auto object-contain",src:g(ke),alt:"",style:{"margin-top":"10px"}},null,8,xt),u("div",mt,[bt,u("p",ft,c(e.task.failReason),1)])])):5===e.task.status?(d(),n("div",yt,[u("img",{class:"w-auto object-contain",src:g(ke),alt:""},null,8,kt)])):6===e.task.status?(d(),n("div",ht,[u("img",{class:"w-auto object-contain",src:g(ke),alt:""},null,8,At)])):e.task.imageUrl||e.task.progress?(d(),n("div",wt,[v(g(m),{style:{width:"390px"},class:"w-full cursor-pointer bg-[#f9f9f9] dark:bg-[transparent] h-full flex justify-center","preview-src":e.task.imageUrl,"object-fit":"contain",src:e.task.imageUrl||""},null,8,["preview-src","src"])])):(d(),b(L,{key:3,progress:e.task.progress},null,8,["progress"]))],2)])]),u("div",null,[1==S.task.action&&3==S.task.status?(d(),n("div",Et,[Tt,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1==D.value.indexOf(e.label)?(d(),n("div",Ct,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>U(e)},[e.label?(d(),n("p",Ft,c(e.label),1)):(d(),n("p",jt,c(e.emoji),1))],8,It)])),default:f((()=>[u("p",Mt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),1==S.task.action&&3==S.task.status?(d(),n("div",St,[Bt,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=D.value.indexOf(e.label)?(d(),n("div",Ut,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>U(e)},[e.label?(d(),n("p",Vt,c(e.label),1)):(d(),n("p",Rt,c(e.emoji),1))],8,Ot)])),default:f((()=>[u("p",Lt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",Dt,[Gt,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=e.label.indexOf("U")?(d(),n("div",_t,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>U(e)},[e.label?(d(),n("p",zt,c(e.label),1)):(d(),n("p",Xt,c(e.emoji),1))],8,Nt)])),default:f((()=>[u("p",Jt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",Pt,[qt,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=e.label.indexOf("V")?(d(),n("div",Yt,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>U(e)},[e.label?(d(),n("p",Kt,c(e.label),1)):(d(),n("p",Wt,c(e.emoji),1))],8,Zt)])),default:f((()=>[u("p",Qt,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",Ht,[$t,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[-1!=e.label.indexOf("Z")?(d(),n("div",ea,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>U(e)},[e.label?(d(),n("p",ta,c(e.label),1)):(d(),n("p",aa,c(e.emoji),1))],8,la)])),default:f((()=>[u("p",sa,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==S.task.action&&3==S.task.status?(d(),n("div",ia,[na,(d(!0),n(r,null,o(S.task.buttons,((e,l)=>(d(),n(r,null,[e.label?p("",!0):(d(),n("div",oa,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:l=>U(e)},[e.label?(d(),n("p",da,c(e.label),1)):(d(),n("p",ua,c(e.emoji),1))],8,ra)])),default:f((()=>[u("p",ca,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])]))}}),va=j(pa,[["__scopeId","data-v-9b4ed6d4"]]),ga={class:"flex flex-col",style:{width:"100%"}},xa={class:"h-auto flex-1"},ma=e({__name:"chatHistory",props:{task:{type:Object,required:!0}},emits:["refresh"],setup(e,{emit:l}){const a=e,s=O((()=>a.task)),i=t();O((()=>i.userInfo.avatar));const o=l,r=()=>{o("refresh")};return(e,l)=>(d(),n("div",ga,[u("div",xa,[v(va,{task:s.value,chat:"chat-history",onFresh:r},null,8,["task"])])]))}}),ba=e=>(E("data-v-2c790e88"),e=e(),T(),e),fa={key:0},ya={class:"text-sm flex items-center"},ka=ba((()=>u("div",{class:"text-[18px] mr-1"},[u("h1",null,"æ¨¡å‹è®¾ç½®")],-1))),ha={"data-tool-target":"tooltip-default"},Aa=ba((()=>u("div",{style:{width:"240px"}},[u("p",null,"MJ: åçœŸå®é€šç”¨æ¨¡å‹"),u("p",null,"NIJI: ååŠ¨æ¼«é£æ ¼ã€é€‚ç”¨äºäºŒæ¬¡å…ƒæ¨¡å‹")],-1))),wa={class:"flex items-center mt-2"},Ea=ba((()=>u("p",{class:"w-1/2"},"ç»˜ç”»æ¨¡å‹",-1))),Ta={class:"flex items-center mt-2"},Ca=ba((()=>u("p",{class:"w-1/2"},"--q è´¨é‡",-1))),Ia={key:0,class:"flex items-center mt-2"},Fa=ba((()=>u("p",{class:"w-1/2"},"--styleé£æ ¼",-1))),ja={key:1,class:"flex items-center mt-2"},Ma={class:"w-1/2 flex items-center"},Sa=ba((()=>u("p",null,"--s é£æ ¼åŒ–",-1))),Ba=ba((()=>u("p",null,"æ•°å€¼è¶Šé«˜ï¼Œç”»é¢è¡¨ç°ä¹Ÿä¼šæ›´å…·ä¸°å¯Œæ€§å’Œè‰ºæœ¯æ€§",-1))),Ua={class:"flex items-center mt-2"},Oa={class:"w-1/2 flex items-center"},Va=ba((()=>u("p",null,"--c å¤šæ ·æ€§",-1))),Ra=ba((()=>u("p",null,"å€¼è¶Šå°ç”Ÿæˆçš„å››å¼ å›¾é£æ ¼è¶Šç›¸ä¼¼ï¼Œåä¹‹å·®å¼‚è¶Šå¤§",-1))),La=ba((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"å«å›¾å›¾ç‰‡ï¼ˆ0-3å¼ ï¼‰"),u("p",{class:"text-[14px] mt-2 text-[#999]"},"å¦‚éœ€å«å›¾è¯·è‡³å°‘ä¸Šä¼ ä¸€å¼ å›¾ç‰‡")])],-1))),Da={class:"flex items-center mt-2"},Ga={class:"flex items-center mt-2"},_a=ba((()=>u("p",{class:"w-1/3"},"å›¾ç‰‡ç›¸ä¼¼åº¦",-1))),Na={class:"w-2/3"},za=ba((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"ä¸æƒ³å‡ºç°çš„è¯")])],-1))),Xa={class:"flex items-center mt-2"},Ja=ba((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"å›¾ç‰‡å°ºå¯¸")])],-1))),Pa={class:"flex-col mt-2"},qa={class:"flex justify-between"},Ya=["onClick"],Za={class:"flex items-center justify-center w-6 h-6"},Ka={class:"mt-2 text-center text-xs leading-none text-current"},Wa={class:"text-[12px] scale-90"},Qa={key:0,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Ha={class:"flex justify-between"},$a={class:"text-base py-1"},es={class:"text-[#3076fd]"},ls={class:"flex items-center"},ts=se('<div class="mt-3 space-y-1 items-center text-[#3076fd]" data-v-2c790e88><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>ç»˜ç”»å•æ¬¡æ¶ˆè€—ï¼š</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4ç§¯åˆ† </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>å›¾ç”Ÿå›¾å•æ¬¡æ¶ˆè€—ï¼š</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 4ç§¯åˆ† </span></div><div class="flex justify-between" data-v-2c790e88><span class="w-[120px] block text-sm dark:text-[#ccc]" data-v-2c790e88>æ”¾å¤§å•æ¬¡æ¶ˆè€—ï¼š</span><span class="text-sm pr-2 dark:text-[#ccc]" data-v-2c790e88> 1ç§¯åˆ† </span></div></div>',1),as={key:0},ss=ba((()=>u("h1",{class:"text-[18px] my-2"},"å›¾ç‰‡è§£è¯»",-1))),is=ba((()=>u("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),ns=ba((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"ä¸Šä¼ å›¾ç‰‡ï¼ˆåªèƒ½1å¼ ï¼‰")])],-1))),os={class:"flex items-center mt-2"},rs=["src"],ds={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},us=[se('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>æç¤º</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>åŒå®˜æ–¹çš„ /describe å‘½ä»¤</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> ç³»ç»Ÿå°†æ ¹æ®æ‚¨ä¸Šä¼ çš„å›¾ç‰‡ï¼Œè§£è¯»å¤„å¤šä¸ªç›¸å…³çš„æç¤ºè¯ï¼Œ æ‚¨å¯ä»¥æ ¹æ®è§£è¯»å‡ºæç¤ºè¯é‡æ–°ç»˜åˆ¶å›¾åƒ </div>',2)],cs={key:1},ps=ba((()=>u("h1",{class:"text-[20px] my-2"},"å›¾æ··å›¾",-1))),vs=ba((()=>u("div",{class:"w-full h-[1px] bg-gray-200 dark:bg-[#313155]"},null,-1))),gs=ba((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"ä¸Šä¼ å›¾ç‰‡ï¼ˆ2-5å¼ ï¼‰")])],-1))),xs={class:"flex items-center mt-2"},ms={class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},bs=ba((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[18px]"},"å›¾ç‰‡å°ºå¯¸")])],-1))),fs={class:"flex-col mt-2"},ys={class:"flex justify-between"},ks=["onClick"],hs={class:"flex items-center justify-center w-6 h-6"},As={class:"mt-2 text-center text-xs leading-none text-current"},ws={class:"text-[12px] scale-90"},Es={key:1,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1 select-none"},Ts=[se('<div class="text-sm flex items-center" data-v-2c790e88><div class="mr-1" data-v-2c790e88><h1 class="text-[18px]" data-v-2c790e88>æç¤º</h1><p class="text-[14px] mt-2 text-[#999]" data-v-2c790e88>åŒå®˜æ–¹çš„ /describe å‘½ä»¤</p></div></div><div class="flex items-center mt-2" data-v-2c790e88> ç³»ç»Ÿå°†æ ¹æ®æ‚¨ä¸Šä¼ çš„å›¾ç‰‡ï¼Œè§£è¯»å¤„å¤šä¸ªç›¸å…³çš„æç¤ºè¯ï¼Œ æ‚¨å¯ä»¥æ ¹æ®è§£è¯»å‡ºæç¤ºè¯é‡æ–°ç»˜åˆ¶å›¾åƒ </div>',2)],Cs={key:2,class:"flex flex-col"},Is={class:"flex justify-between mb-2"},Fs=["onClick"],js={class:"ml-1 select-none"},Ms=["disabled"],Ss={class:"inline"},Bs={key:2,class:"mt-4 p-4 rounded-xl dark:bg-[#262643] bg-[#F7F7F7] flex-1"},Us=ba((()=>u("div",{class:"text-sm flex items-center"},[u("div",{class:"mr-1"},[u("h1",{class:"text-[16px]"},"ç”Ÿæˆæ¨¡å¼")])],-1))),Os={class:"mb-2"},Vs=["onClick"],Rs={class:"flex flex-row justify-between"},Ls={key:3,class:"flex flex-col mt-4"},Ds=["disabled"],Gs={class:"select-none text-white"},_s={class:"inline"},Ns=j(e({__name:"configure",emits:["fresh"],setup(e,{emit:l}){const{updateDrawId:i}=t(),m=a(),A=t(),w=O((()=>A.userBalance.sumDrawMjCount)),E=O((()=>A.mjDrawForm)),{isMobile:T}=D(),j=G(),S=_(),B=O((()=>j.path)),U=s(""),V=M({files:[],previewImages:[]}),L=l,se=s(!1),oe=O((()=>B.value.includes("text-to-image")?F.TEXT_TO_IMAGE:B.value.includes("image-to-text")?F.IMAGE_TO_TEXT:B.value.includes("image-mix-image")?F.IMAGE_MIX_IMAGE:F.NONE)),re=O((()=>oe.value===F.IMAGE_MIX_IMAGE?V.files.length<=1:oe.value===F.IMAGE_TO_TEXT&&V.files.length<=0)),{selectFile:de}=N(),ue=async()=>{const e=await de();U.value=URL.createObjectURL(e),V.files=[e]},ce=O((()=>E.value.baseImage.map((e=>{const l=e.slice(e.lastIndexOf("/")+1,e.length);return{url:e,id:l.split(".")[0],name:l,status:"finished"}})))),pe=s(!1),ve=O((()=>e=>E.value.size===e));async function ge(){pe.value=!0;try{await A.getUserInfo(),pe.value=!1}catch(e){pe.value=!1}}const xe=["jpg","jpeg","png"],me=e=>{if("finished"===e.file.status||"removed"===e.file.status)return;const l=e.file.type.split("/")[1];if("pending"===e.file.status&&xe.includes(l)){const l=new FileReader;l.readAsDataURL(e.file.file),l.onload=function(){E.value.baseImage.push(l.result),we()}}},be=e=>{"pending"===e.file.status&&V.files.push(e.file.file),"removed"===e.file.status&&(V.files=V.files.filter((l=>l!==e.file.file)))},fe=e=>{const l=e.file.type.split("/")[1];return e.fileList.length>4?(m.warning("æœ€å¤šåªèƒ½ä¸Šä¼ 5å¼ å›¾ç‰‡"),!1):xe.includes(l)&&e.fileList.length<=5},ye=e=>{const l=e.file.type.split("/")[1];return e.fileList.length>2?(m.warning("æœ€å¤šåªèƒ½ä¸Šä¼ 3å¼ å›¾ç‰‡"),!1):xe.includes(l)&&e.fileList.length<=2},ke=e=>{if("finished"===e.file.status)return E.value.baseImage=E.value.baseImage.filter((l=>-1===l.search(e.file.url))),void we();const l=e.file.id+"."+e.file.type.split("/")[1];E.value.baseImage=E.value.baseImage.filter((e=>-1===e.search(l))),we()},he=e=>{const l=e.file.name;E.value.extendParam=E.value.extendParam.filter((e=>!e.filename.includes(l))),we()},Ae=e=>{E.value.size=e.value,we()},we=async()=>{A.updateMjDrawForm(E.value)},Ee=e=>{E.value.mode=e.value,we()},Te=async()=>{if(!A.isLogin)return m.warning("è¯·å…ˆç™»å½•"),void A.setLoginDialog(!0);if(!E.value.prompt)return;const e=E.value.baseImage.length?E.value.baseImage.join(" "):void 0;let l=E.value.prompt,t="";/--\w+\s\S+/g.test(l)&&(t=l.slice(l.indexOf("--"),l.length));let a=t||(()=>{let e="";E.value.sensitiveWords&&(e+=` --no ${E.value.sensitiveWords}`);const l=E.value.model.split("-");return l[0].includes("MJ")&&(e+=` --v ${l[1]}`,e+=` --s ${E.value.stylize}`),l[0].includes("NIJI")&&(e+=` --niji ${l[1]}`,E.value.style&&"5"===l[1]&&(e+=` --style ${E.value.style}`)),e+=` --ar ${E.value.size}`,e+=` --c ${E.value.diversity}`,e+=` --q ${E.value.quality}`,e+=` --${ne[E.value.mode]}`,E.value.baseImage.length>0&&(e+=` --iw ${E.value.similarity}`),e})();const s=await I({type:F.TEXT_TO_IMAGE,params:{action:C.TEXT_TO_IMAGE,extend:a,prompt:l,imageUrl:e,mode:E.value.mode,translate:E.value.translate}}).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("ä½™é¢ä¸è¶³"))||(null==e?void 0:e.message.includes("å…è´¹é¢åº¦å·²ç»ä½¿ç”¨å®Œæ¯•")))&&S.updateVipDialog(!0)}));s&&m.success("åˆ›å»ºæ–‡ç”Ÿå›¾ä»»åŠ¡æˆåŠŸ"),E.value.prompt="",i({id:s}),L("fresh")},Ce=async()=>{if(!A.isLogin)return m.warning("è¯·å…ˆç™»å½•"),void A.setLoginDialog(!0);if(oe.value!==F.NONE){if(oe.value===F.TEXT_TO_IMAGE)await Te();else{const e=new FormData;oe.value===F.IMAGE_TO_TEXT&&(e.append("type",oe.value+""),e.append("action",F.IMAGE_TO_TEXT+""),e.append("mode",E.value.mode+""),e.append("files",V.files[0])),oe.value===F.IMAGE_MIX_IMAGE&&(e.append("type",oe.value+""),e.append("action",F.IMAGE_MIX_IMAGE+""),e.append("mode",E.value.mode+""),e.append("size",E.value.size+""),V.files.forEach(((l,t)=>{e.append("files",l)})));const l=await ie(e).then((e=>e.data)).catch((e=>{(402===e.code||(null==e?void 0:e.message.includes("ä½™é¢ä¸è¶³"))||(null==e?void 0:e.message.includes("å…è´¹é¢åº¦å·²ç»ä½¿ç”¨å®Œæ¯•")))&&S.updateVipDialog(!0)}));l&&m.success(oe.value===F.TEXT_TO_IMAGE?"åˆ›å»ºæ–‡ç”Ÿå›¾ä»»åŠ¡æˆåŠŸ":oe.value===F.IMAGE_TO_TEXT?"åˆ›å»ºå›¾ç”Ÿæ–‡ä»»åŠ¡æˆåŠŸ":oe.value===F.IMAGE_MIX_IMAGE?"åˆ›å»ºå›¾æ··å›¾ä»»åŠ¡æˆåŠŸ":"å¤±è´¥"),l&&i({id:l}),l&&L("fresh")}V.files=[]}else m.error("æ“ä½œç±»å‹é”™è¯¯")};return(e,l)=>(d(),n("div",{class:R([[g(T)?"p-2 h-auto":"overflow-y-auto w-full h-[90vh] p-4 "],"sm:pt-6 bg-[#fff] dark:bg-[#1F1F38] sm:w-[20rem] shrink-0"])},[B.value.includes("text-to-image")?(d(),n("div",fa,[u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(T)?"rounded":"rounded-xl"]])},[u("div",ya,[ka,u("div",ha,[v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-base"})])),default:f((()=>[Aa])),_:1})])]),u("div",wa,[Ea,v(g(X),{value:E.value.model,"onUpdate:value":[l[0]||(l[0]=e=>E.value.model=e),l[1]||(l[1]=e=>{return(l=E.value.model).includes("NIJI")&&(E.value.style=""),l.includes("MJ")&&(E.value.style="raw"),void we();var l})],size:"small",options:g(z)},null,8,["value","options"])]),u("div",Ta,[Ca,v(g(X),{value:E.value.quality,"onUpdate:value":[l[2]||(l[2]=e=>E.value.quality=e),we],size:"small",options:g(J)},null,8,["value","options"])]),E.value.model.includes("5")?(d(),n("div",Ia,[Fa,E.value.model.includes("NIJI-5")?(d(),b(g(X),{key:0,value:E.value.style,"onUpdate:value":[l[3]||(l[3]=e=>E.value.style=e),we],size:"small",options:g(P)},null,8,["value","options"])):p("",!0),E.value.model.includes("MJ-5")?(d(),b(g(X),{key:1,value:E.value.style,"onUpdate:value":[l[4]||(l[4]=e=>E.value.style=e),we],size:"small",options:g(q)},null,8,["value","options"])):p("",!0)])):p("",!0),E.value.model.includes("MJ")?(d(),n("div",ja,[u("div",Ma,[Sa,v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:f((()=>[Ba])),_:1})]),v(g(Y),{value:E.value.stylize,"onUpdate:value":[l[5]||(l[5]=e=>E.value.stylize=e),we],max:1e3,min:0,step:1},null,8,["value"])])):p("",!0),u("div",Ua,[u("div",Oa,[Va,v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-[14px]"})])),default:f((()=>[Ra])),_:1})]),v(g(Y),{value:E.value.diversity,"onUpdate:value":[l[6]||(l[6]=e=>E.value.diversity=e),we],max:100,min:1,step:1},null,8,["value"])])],2),u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(T)?"rounded":"rounded-xl"]])},[La,u("div",Da,[v(g(Z),{accept:".jpg,.jpeg,.png",action:"","default-file-list":ce.value,"default-upload":!1,"on-change":me,"on-before-upload":ye,"on-remove":ke,"list-type":"image-card"},null,8,["default-file-list"])]),u("div",Ga,[_a,u("div",Na,[v(g(X),{value:E.value.similarity,"onUpdate:value":[l[7]||(l[7]=e=>E.value.similarity=e),we],size:"small",options:g(K)},null,8,["value","options"])])])],2),u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(T)?"rounded":"rounded-xl"]])},[za,u("div",Xa,[v(g(W),{value:E.value.sensitiveWords,"onUpdate:value":l[8]||(l[8]=e=>E.value.sensitiveWords=e),onChange:we,placeholder:"å¤šä¸ªè¯ç”¨é€—å·éš”å¼€ å¦‚ æ¼‚äº®ï¼Œå¸…å“¥"},null,8,["value"])])],2),u("div",{class:R(["mt-4 p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(T)?"rounded":"rounded-xl"]])},[Ja,u("div",Pa,[(d(!0),n(r,null,o(g(H),(e=>(d(),n("div",qa,[(d(!0),n(r,null,o(e,(e=>(d(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:l=>Ae(e)},[u("div",{class:R(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[u("div",Za,[u("div",{class:R(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:Q({width:e.width,height:e.height})},null,6)]),u("div",Ka,[u("p",null,c(e.aspect),1),u("p",Wa,c(e.label),1)])],2)],8,Ya)))),128))])))),256))])],2),g(T)?p("",!0):(d(),n("div",Qa,[u("div",Ha,[u("span",$a,[y("é’±åŒ…ä½™é¢( "),u("b",es,c(w.value||0),1),y(" ç§¯åˆ†)")]),u("span",ls,[v(g(k),{text:"",size:"tiny",type:"primary",loading:pe.value,onClick:ge},{default:f((()=>[y("åˆ·æ–°")])),_:1},8,["loading"]),v(g(h),{placement:"right-end",trigger:"hover"},{trigger:f((()=>[v(g(x),{icon:"ri:error-warning-line",class:"text-base ml-2"})])),default:f((()=>[y(" ç»˜ç”»è´¦æˆ·ä¿¡æ¯ ")])),_:1})])]),ts]))])):p("",!0),B.value.includes("image-to-text")||B.value.includes("image-mix-image")?(d(),n("div",{key:1,class:R(["flex justify-between flex-col",[g(T)?"":"h-full"]])},[B.value.includes("image-to-text")?(d(),n("div",as,[g(T)?p("",!0):(d(),n(r,{key:0},[ss,is],64)),u("div",{class:R(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(T)?"rounded":"rounded-xl mt-4"]])},[ns,u("div",os,[u("div",{class:"w-[96px] overflow-hidden object-contain h-[96px] flex justify-center items-center rounded hover:dark:border-gray-500 hover:border-gray-400 border-dashed border border-gray-300 cursor-pointer dark:border-gray-600",onClick:ue},[U.value?(d(),n("img",{key:0,src:U.value,class:"object-contain w-full h-full",alt:""},null,8,rs)):(d(),b(g(x),{key:1,icon:"octicon:plus-16",class:"text-[20px]"}))])])],2),g(T)?p("",!0):(d(),n("div",ds,us))])):p("",!0),B.value.includes("image-mix-image")?(d(),n("div",cs,[g(T)?p("",!0):(d(),n(r,{key:0},[ps,vs],64)),u("div",{class:R(["p-4 dark:bg-[#262643] bg-[#F7F7F7] flex-1",[g(T)?"rounded":"rounded-xl mt-4"]])},[gs,u("div",xs,[v(g(Z),{accept:".jpg,.jpeg,.png",action:"",disabled:V.files.length>=5,"default-file-list":V.files,"default-upload":!1,"on-change":be,"on-before-upload":fe,"on-remove":he,"list-type":"image-card"},null,8,["disabled","default-file-list"])])],2),u("div",ms,[bs,u("div",fs,[(d(!0),n(r,null,o(g($),(e=>(d(),n("div",ys,[(d(!0),n(r,null,o(e,(e=>(d(),n("button",{key:e.aspect,class:"flex-1 p-[2px] mx-0.5 rounded-md",onClick:l=>Ae(e)},[u("div",{class:R(["border-2 border-gray-500 box-border rounded-md dark:bg-transparent flex flex-col items-center",[ve.value(e.value)?"dark:bg-[#52546D] bg-[#DDDDDD] border-[#3342C8] dark:border-[#3342C8]":"","py-2"]])},[u("div",hs,[u("div",{class:R(["border-gray-400 border-dashed border-2",[ve.value(e.value)?"border-dashed dark:bg-[#4756E1] bg-[#3342C8]":""]]),style:Q({width:e.width,height:e.height})},null,6)]),u("div",As,[u("p",null,c(e.aspect),1),u("p",ws,c(e.label),1)])],2)],8,ks)))),128))])))),256))])]),g(T)?p("",!0):(d(),n("div",Es,Ts))])):p("",!0),g(T)?p("",!0):(d(),n("div",Cs,[u("ul",Is,[(d(!0),n(r,null,o(g(le),(e=>(d(),n("li",{class:"flex justify-start cursor-pointer",onClick:l=>Ee(e)},[v(g(ee),{size:"small",checked:E.value.mode===e.value,value:e.value,onChange:l=>Ee(e)},null,8,["checked","value","onChange"]),u("p",js,c(e.label),1)],8,Fs)))),256))]),u("button",{class:R(["w-full flex justify-center items-center h-10 rounded-full text-center",[re.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed ":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:re.value,onClick:Ce},[se.value?(d(),b(g(x),{key:0,icon:"eos-icons:bubble-loading",class:"mr-1"})):p("",!0),se.value?p("",!0):(d(),n("p",{key:1,class:R(["select-none",[re.value?" text-[#333] dark:text-[#ccc]":" text-[#fff] dark:text-[#fff]"]])},[y("æäº¤ä»»åŠ¡("),u("span",Ss,[v(g(te),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")],2))],10,Ms)]))],2)):p("",!0),g(T)?(d(),n("div",Bs,[Us,u("ul",Os,[(d(!0),n(r,null,o(g(ae),(e=>(d(),n("li",{class:R(["w-full my-2 p-2 dark:bg-[#42425F] bg-[#F7F7F7] cursor-pointer",[g(T)?"rounded":""]]),onClick:l=>Ee(e)},[u("div",Rs,[u("p",{class:R(["select-none",[E.value.mode===e.value?"text-[#3076ED]":""]])},c(e.label),3),v(g(ee),{size:"small",checked:E.value.mode===e.value,value:e.value,onChange:l=>Ee(e)},null,8,["checked","value","onChange"])])],10,Vs)))),256))])])):p("",!0),g(T)?(d(),n("div",Ls,[u("button",{class:R(["w-full flex justify-center items-center h-10 rounded-full text-center",[re.value?"dark:bg-[#313155] bg-[#dedede] cursor-not-allowed":"bg-gradient-to-l  cursor-pointer from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-l"]]),disabled:re.value,onClick:Ce},[u("p",Gs,[y("æäº¤ä»»åŠ¡("),u("span",_s,[v(g(te),{style:{"margin-right":"0","margin-left":"0"},class:"inline",name:"lightling"})]),y("4) ")])],10,Ds)])):p("",!0)],2))}}),[["__scopeId","data-v-2c790e88"]]),zs={class:"input-message"},Xs={class:"flex items-stretch space-x-2"},Js={class:"relative flex-1 mj-input"},Ps={class:"flex justify-between items-center mb-2"},qs={class:"flex flex-start items-center text-[16px]"},Ys=[u("p",{class:"select-none text-[12px]"},"å’’è¯­ç”Ÿæˆå™¨",-1)],Zs={class:"absolute bottom-2 left-2"},Ks={class:"flex items-center justify-between"},Ws={class:"flex justify-between items-center"},Qs=u("label",{class:"text-sm"},"è‡ªåŠ¨ç¿»è¯‘",-1),Hs=e({__name:"chatMessage",setup(e){const{isMobile:l}=D(),{updatePromptWords:a,updateInspireDialog:i}=t(),o=s(""),r=O((()=>l.value?oe("chat.placeholderMobile"):oe("chat.placeholder"))),c=()=>{a({prompt:o.value})},p=()=>{i(!0)};return(e,t)=>(d(),n("footer",zs,[u("div",{class:R(["m-auto",g(l)?"px-2 py-1":"mt-4"])},[u("div",Xs,[u("div",Js,[u("div",Ps,[u("p",qs,[v(g(x),{icon:"ri:input-field"}),y(" è¾“å…¥æè¿°è¯ ")]),u("div",{class:"bg-[#F7F7F7] bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r rounded-3xl flex justify-start py-1 px-2 cursor-pointer hover:bg-[#3144F1] hover:dark:bg-[#3144F1]",onClick:p},Ys)]),v(g(W),{ref:"inputRef",value:o.value,"onUpdate:value":[t[0]||(t[0]=e=>o.value=e),c],type:"textarea",round:"",class:"pb-10",clearable:"",maxlength:"500","show-count":"",placeholder:r.value,rows:3},null,8,["value","placeholder"]),u("div",Zs,[u("div",Ks,[u("div",Ws,[Qs,v(g(re),{text:"",size:"small",round:""})])])])])])],2)]))}}),$s={class:"flex justify-between"},ei={class:"mr-2 w-full"},li={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},ti={class:"p-2"},ai={class:"mb-2"},si={class:"level-classify text-[15px] py-2 pt-2"},ii={key:0,class:"my-1"},ni=["onClick"],oi={class:"select-none text-white"},ri={class:"w-full h-full flex flex-col"},di={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},ui=[u("p",{class:"dark:text-white text-white"},"å‰å¾€åˆ¶ä½œ",-1)],ci=e({__name:"createInspiration",setup(e){const l=s(""),a=t(),i=O((()=>a.inspirationDialog)),x=M({level1:[],level2:[]}),m=s(0),y=async e=>{m.value=e,x.level2=await ve({id:e}).then((e=>e.data.rows))},k=()=>{a.updatePromptWords({prompt:l.value}),a.updateInspireDialog(!1)},h=()=>{a.updateInspireDialog(!1)};return de((()=>{(async()=>{const e=await ge({level:0}).then((e=>e.data)),{level1:l}=e;await y(l[0].id),Object.assign(x,{level1:l})})()})),(e,t)=>(d(),b(g(pe),{show:i.value,"onUpdate:show":t[1]||(t[1]=e=>i.value=e),style:{width:"100vw","max-width":"100vw",height:"100vh"},preset:"dialog",title:"å’’è¯­ç”Ÿæˆå™¨","close-on-esc":!1,"mask-closable":!1,"show-icon":!1,onClose:h},{default:f((()=>[u("div",$s,[u("div",ei,[v(g(ce),{value:m.value,"onUpdate:value":[t[0]||(t[0]=e=>m.value=e),y],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:f((()=>[(d(!0),n(r,null,o(x.level1,(e=>(d(),b(g(ue),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),u("div",li,[u("ul",ti,[(d(!0),n(r,null,o(x.level2,(e=>(d(),n("li",null,[u("div",ai,[u("span",si,c(e.classifyName),1)]),e.children.length>0?(d(),n("div",ii,[(d(!0),n(r,null,o(e.children,(e=>(d(),n("div",{key:e.id,class:R(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[l.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:t=>(e=>{l.value.includes(e.incantationEn)?l.value=l.value.replace(e.incantationEn+",",""):l.value+=e.incantationEn+","})(e)},[u("button",oi,c(e.incantationCn)+" "+c(e.incantationEn),1)],10,ni)))),128))])):p("",!0)])))),256))])])]),u("div",ri,[u("div",di,[u("p",null,c(l.value),1)]),u("div",{onClick:k,class:"rounded-full flex items-center justify-center mt-2 w-full h-[28px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},ui)])])])),_:1},8,["show"]))}}),pi={class:"text-image-container flex flex-row"},vi={class:"w-full pt-2 flex flex-col justify-between"},gi=e({__name:"text2image",setup(e){const l=t(),a=G();O((()=>l.drawId));const i=O((()=>a.path));return s({}),s(),(e,l)=>(d(),n(r,null,[v(ci,{ref:"inspirationRef"},null,512),u("div",pi,[u("div",vi,[i.value.includes("text-to-image")?(d(),b(Hs,{key:0})):p("",!0),v(Ns,{ref:"configRef"},null,512)])])],64))}}),xi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAcpJREFUSEvVlL1L11EUxj9PNDaUg0ovtARGSdSUvagYki0RpEtDEC3R0hBobwaBZboYDYoIoUiDEATNgqB/gUO1NTVUtNVQ29PvyFV+L36/3n60dOBO9zyfe8+5z7niH4TtFuAkcAm4CnxVs1zbncB54DLQA+ypYn3OBts+DJwDzgIDwJGSS40Wgm3vBrqBLqAf6ANyL9Jdk2i7AziTSrsIHGiiVd+Bdtm+AFwBTqfVBKtGsiTpWoD9l6QfwG+gtUB3W9JsgG8CrzLgAXyQgKE5VKBpl/Rto8e243GWCxI/AVOSZmyHTxeAtoLcj5KOx97W49kOT64Cu5IoDpqW9C4dfg+Y2KGyF5Lu1oCTOOAxOYuS1jchtt8AQxnt6pW01gCuF9reW7HeCnAqAxoP2iLpVynY9tHU94MZ0EhZlhTe34iyyRtPLsjk8ljS0xzwQ+BZLhXolPQhB3wfeJ4J/iJpf3VuWStGgMmUHLffBwwXHPRa0vVc8CgwBsxJupXsOA/c2AY+KOltLngJOFYRnKgW2H4J3KmDt0qKX20ryloR3+d7ST+38XdUEhVFrFems8HnuR93Q/W2Y8QfVTaeSJqqT2gavJNb/j/wH+wWjGlt1nwMAAAAAElFTkSuQmCC",mi=e({__name:"baiduThink",setup(e,{expose:l}){const n=s(!1),o=s(!1),r=s(!1),u=s(""),c=s(""),x=a(),m=t(),h=O((()=>o.value||!u.value)),A=()=>{u.value=c.value,w()},w=async()=>{if(r.value=!1,c.value=u.value,!u.value)return x.info("è¯·è¾“å…¥ç®€å•çš„æè¿°!"),o.value=!1,void(r.value=!1);o.value=!0;const e=await xe({prompt:u.value}).then((e=>e.data||"")).catch((()=>{o.value=!1,r.value=!1}));o.value=!1,u.value=e,r.value=!0},E=()=>{m.updatePromptWords({prompt:u.value}),n.value=!1,i.emit("think",u.value)};return l({open:()=>{n.value=!0}}),(e,l)=>(d(),b(g(pe),{show:n.value,"onUpdate:show":l[1]||(l[1]=e=>n.value=e),preset:"dialog",title:"AIå¸®æˆ‘æƒ³","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{action:f((()=>[r.value?(d(),b(g(k),{key:0,round:"",onClick:A},{default:f((()=>[y("é‡æ–°è”æƒ³")])),_:1})):p("",!0),r.value?(d(),b(g(k),{key:1,round:"",onClick:E},{default:f((()=>[y("ä½¿ç”¨æ­¤æè¿°")])),_:1})):p("",!0),r.value?p("",!0):(d(),b(g(k),{key:2,round:"",onClick:w,disabled:h.value},{default:f((()=>[y("ç”Ÿæˆæ­¤æè¿°")])),_:1},8,["disabled"]))])),default:f((()=>[v(g(W),{value:u.value,"onUpdate:value":l[0]||(l[0]=e=>u.value=e),clearable:"",type:"textarea",loading:o.value,bordered:"",disabled:o.value,placeholder:"è¯·è¾“å…¥ç®€å•çš„æè¿°ï¼ŒAIå°†æ™ºèƒ½å®Œå–„åˆ›æ„æè¿°","show-count":"",rows:7,maxlength:"3000"},null,8,["value","loading","disabled"])])),_:1},8,["show"]))}}),bi={class:"flex justify-between"},fi={class:"mr-2 w-10/12"},yi={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},ki={class:"p-2"},hi={class:"mb-2"},Ai={class:"level-classify text-[15px] py-2 pt-2"},wi={key:0,class:"my-1"},Ei=["onClick"],Ti={class:"select-none text-white"},Ci={class:"w-2/12 h-full flex flex-col"},Ii={class:"dark:bg-[#1C1C34] dark:border-gray-600 border bg-[#F7F7F7] h-[470px] rounded p-2"},Fi=[u("p",{class:"dark:text-white text-white"},"å‰å¾€åˆ¶ä½œ",-1)],ji=e({__name:"createInspiration",setup(e,{expose:l}){const a=s(!1),x=s(""),m=t(),y=M({level1:[],level2:[]}),k=s(0),h=async e=>{k.value=e,y.level2=await ve({id:e}).then((e=>e.data.rows))},A=()=>{m.updatePromptWords({prompt:x.value}),i.emit("selectIncantation",x.value),a.value=!1},w=async()=>{const e=await ge({level:0}).then((e=>e.data)),{level1:l}=e;await h(l[0].id),Object.assign(y,{level1:l})};return l({open:()=>{a.value=!0,w()}}),(e,l)=>(d(),b(g(pe),{show:a.value,"onUpdate:show":l[1]||(l[1]=e=>a.value=e),style:{width:"1200px",height:"600px"},preset:"dialog",title:"å’’è¯­ç”Ÿæˆå™¨","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{default:f((()=>[u("div",bi,[u("div",fi,[v(g(ce),{value:k.value,"onUpdate:value":[l[0]||(l[0]=e=>k.value=e),h],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:f((()=>[(d(!0),n(r,null,o(y.level1,(e=>(d(),b(g(ue),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),u("div",yi,[u("ul",ki,[(d(!0),n(r,null,o(y.level2,(e=>(d(),n("li",null,[u("div",hi,[u("span",Ai,c(e.classifyName),1)]),e.children.length>0?(d(),n("div",wi,[(d(!0),n(r,null,o(e.children,(e=>(d(),n("div",{key:e.id,class:R(["inline-block rounded mr-2 mb-2 text-[12px] dark:bg-[#313155] bg-[#A0A0A0] py-[2px] px-[6px]",[x.value.includes(e.incantationEn)?"dark:bg-gradient-to-r from-indigo-500 from-10% via-sky-500 via-50% to-emerald-500 to-90% bg-[#3C4EBF]":""]]),onClick:l=>(e=>{x.value.includes(e.incantationEn)?x.value=x.value.replace(e.incantationEn+",",""):x.value+=e.incantationEn+","})(e)},[u("button",Ti,c(e.incantationCn)+" "+c(e.incantationEn),1)],10,Ei)))),128))])):p("",!0)])))),256))])])]),u("div",Ci,[u("div",Ii,[u("p",null,c(x.value),1)]),u("div",{onClick:A,class:"rounded-full flex items-center justify-center mt-2 w-full h-[42px] cursor-pointer dark:bg-gradient-to-r dark:from-[#3144F1] dark:to-[#01C0F9] bg-gradient-to-r from-[#3144F1] to-[#01C0F9]"},Fi)])])])),_:1},8,["show"]))}}),Mi=e=>(E("data-v-75873e1f"),e=e(),T(),e),Si={class:"contentCenterBottom bg-[#F4F4F4] dark:bg-[#010102]"},Bi={class:"inputBox"},Ui=["disabled"],Oi={class:"inpBoxLeft"},Vi={class:""},Ri={class:"selectBox"},Li={class:"other"},Di={key:0},Gi={class:"drawModeBox bg-[#FFFFFF] dark:bg-[#15171A]"},_i={style:{display:"flex","align-items":"center","justify-content":"center","font-size":"13px"}},Ni=Mi((()=>u("div",{style:{width:"70px",height:"30px","line-height":"30px"}},"ç»˜å›¾æ¨¡å¼",-1))),zi=Mi((()=>u("p",null,"æ™®é€šæ¨¡å¼ï¼šé«˜å³°æœŸé¢„è®¡éœ€è¦10åˆ†é’Ÿå‡ºå›¾ï¼ˆä¼šå‘˜å…è´¹ä½¿ç”¨ï¼‰ å¿«é€Ÿæ¨¡å¼ï¼šå¹³å‡1-2åˆ†é’Ÿå‡ºå›¾ï¼ˆæ¯å¼ æ¶ˆè€—4ç»˜ç”»ç§¯åˆ†ï¼‰",-1))),Xi=["onClick"],Ji={class:"text-[#696969] dark:text-[#fff] modeName"},Pi=Mi((()=>u("div",{class:"smallBox bg-[#FFFFFF] dark:bg-[#15171A]",style:{position:"absolute"}},null,-1))),qi={class:"otherItem"},Yi=Mi((()=>u("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"è‡ªåŠ¨ç¿»è¯‘",-1))),Zi=[Mi((()=>u("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"è”æƒ³",-1))),Mi((()=>u("img",{class:"setImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAAAXNSR0IArs4c6QAAAyxJREFUOE+VlG9olWUYxn/Xe85Et2bSRMusvkiC/YFMjEpoO2eYmlKki/rgoj8UpBBt50iU1CyR2DlbZC7UFEKSoEQhmNA675mFZEXL8FMfpEFlhGjM2hxz23u196zNuZrm++l57+e6f/f93M9z32LSV93qBcEQT0qsMCyUKLP4HXPMER/+eZLPu3ZrcLKfxgy1b/laJ2kGnrP5dQT0tc13hv4AFgJLEYttugmoLzbqq4mwEii11TcynYLgOpvNxT720qTootCqbmYuAbMC2CFIR7ChM6P3xjRa9Lqn3VDJUcxcJakpvKSfLknbVrqFL4FlmGfDrPamc25BNESwtjOjg7Fe6bxfAFoxS8OsTizPuaIjq74SrMlBTQWPB2J/6V8cChv1aLxM5/0B8DAXWBC+orMx6CRwdNBsSYpDwCKJfTbhyDFmD0d8rwTzMCujgG1HGhTrqX7bsxLD/ILIhI3aFYOMWENEHaJ+/MxifxSxBNFWzOjdybf0T1admLNhVutGQXCbYbPgiTGHyKyOQyQjThRe1s9TgHYZ7i5mtESpnB2Zu8qgLwpKRb0e6BR8EwXsKDbo1H9BYltt3scNiTCjO0sZOeLB4iZ1xIUG5nRk1X3Pds+ceYGnIljf08uKriadqfvYid+6KZ8mFktskXgA6Al7qYpB5zDvhFm99q/ItlItbDxXyc6KXm5Pmi8EM4DkRO0QrFIq74+AeVU3k/rkMQ1PFNzb6hnl5mnMMpt10qWAMW0gvtXK7V4zMMCnQcDhQqMemghKNXu5Aj6bqkZjdsOZUovU5nzc4g7Ei8MB7X+Vc6rreQ2mcn51JIutVwCd7qlkfglU0+J0YAoTHOrCjA7U5r3PsP5yIMPBYkZrx7s/lXO7xKrYybBnpGUOBwG7bWZfBhQZNhQz2jkOSufdCOSvVI/J+zKbClnlLmaUd/yy37xq0BC3xC+/BEpvc5Wn8YNg/lWBzPnzCW461qA/RkE5P4PY8z8gbZF432YgmUDu53Q8QkYnTDwS2nxN0M8bwEZB2RTA9jCj1VMFG69RLLgv5znTA+qJeAS4VVCJSsH6huH+Ixn9OBXob7wuQNwmduTfAAAAAElFTkSuQmCC",alt:""},null,-1)))],Ki=[Mi((()=>u("p",{class:"otherText text-[#808080] dark:text-[#fff]"},"æç¤ºè¯ç”Ÿæˆå™¨",-1)))],Wi={class:"inpBoxRight"},Qi={key:0},Hi=["disabled"],$i=[Mi((()=>u("p",{class:"sendText"},"å‘é€",-1))),Mi((()=>u("img",{class:"sendImg",src:xi,alt:""},null,-1)))],en={key:1},ln=[Mi((()=>u("p",{class:"sendText"},"å‘é€",-1))),Mi((()=>u("img",{class:"sendImg",src:xi,alt:""},null,-1)))],tn={class:"end text-[#A3A5A6] dark:text-[#76777A]"},an=["href"],sn=["href"],nn=j(e({__name:"newSend",props:{imageList:{type:Array}},emits:["isSettingShow","getjobId","resquestStatus"],setup(e,{emit:l}){const m=me(),b=G(),k=t(),A=O((()=>k.mjDrawForm)),w=l,E=a(),T=s(),j=s(!1),M=s(0);function S(){j.value?M.value=1:M.value=0}i.on("selectIncantation",(e=>{T.value=e}));const U=O((()=>b.path)),V=s(!1),L=s("--v");i.on("MjOrNj",(e=>{L.value=e}));const D=s("");i.on("styleWord",(e=>{D.value=e}));const _=s({}),N=s(),z=s([]),X=s(0),J=s(.25),P=s(0),q=s(0),Y=s([]),Z=s([]),K=s([]);function W(){N.value=T.value}const H=s("--ar 1:1");if(_.value.seed="",_.value.no="",_.value.v=" 6.0",_.value.sizeValue=H.value,_.value.q="--q 1",_.value.s="--s 0",_.value.c="--c 0",localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));_.value.fast=e.value}else _.value.fast="--fast";_.value.tile="--tile 0",_.value.stop="",_.value.weird="",i.on("--seed",(e=>{_.value.seed=0==e?"":e})),i.on("--no",(e=>{_.value.no=e})),i.on("base64Array",(e=>{z.value=e})),i.on("--v",(e=>{_.value.v=e})),i.on("sizeValue",(e=>{H.value="--ar "+e,_.value.sizeValue=H.value})),i.on("--q",(e=>{_.value.q="--q "+e})),i.on("--s",(e=>{_.value.s="--s "+e})),i.on("--c",(e=>{_.value.c="--c "+e})),i.on("--tile",(e=>{e=e?1:0,_.value.tile="--tile "+e})),i.on("--stop",(e=>{_.value.stop="--stop "+e})),i.on("--weird",(e=>{_.value.weird="--weird "+e})),i.on("--iw",(e=>{J.value=e})),i.on("--cw",(e=>{P.value=e})),i.on("--sw",(e=>{q.value=e})),i.on("pidImgList",(e=>{Y.value=[],e.forEach((e=>{Y.value=[...Y.value,e.url]}))})),i.on("roleImgList",(e=>{Z.value=[],e.forEach((e=>{Z.value=[...Z.value,e.url]}))})),i.on("styleImgList",(e=>{console.log(e),K.value=[],e.forEach((e=>{K.value=[...K.value,e.url]}))}));const $=s(1),ee=s();i.on("imageForm",(e=>{ee.value=e}));const le=O((()=>U.value.includes("text-to-image")?F.TEXT_TO_IMAGE:U.value.includes("image-to-text")?F.IMAGE_TO_TEXT:U.value.includes("image-mix-image")?F.IMAGE_MIX_IMAGE:F.NONE));let te=new FormData;function ae(){0==X.value&&(le.value==F.TEXT_TO_IMAGE?(oe(),N.value="",X.value=0):le.value==F.IMAGE_TO_TEXT?ee.value?(X.value=1,i.emit("upLoadIsShow",0),te.append("type",le.value+""),te.append("action",F.IMAGE_TO_TEXT+""),te.append("mode",A.value.mode+""),te.append("files",ee.value.files[0]),ie(te).then((e=>{200==e.code&&(w("getjobId",e.data),w("resquestStatus",1),te=new FormData)})).catch((e=>{T.value="",X.value=0}))):E.error("è¯·ä¸Šä¼ ä¸€å¼ å›¾ç‰‡"):le.value==F.IMAGE_MIX_IMAGE&&ne())}i.on("status",(e=>{X.value=e,0==e&&(T.value="")}));const se=s("SQUARE");i.on("imageMixImageSize",(e=>{se.value=e}));const ne=()=>{let e={type:le.value+"",action:F.IMAGE_MIX_IMAGE+"",mode:A.value.mode+"",base64Array:z.value,size:se.value};z.value.length<2?E.error("è¯·ä¸Šä¼ 2-5å¼ å›¾ç‰‡"):(i.emit("upLoadIsShow",0),X.value=1,ie(e).then((e=>{X.value=1,200==e.code&&(w("getjobId",e.data),w("resquestStatus",1))})).catch((e=>{T.value="",X.value=0})))},oe=()=>{V.value?(w("isSettingShow",!V.value),V.value=!V.value):(w("isSettingShow",V.value),V.value=!V.value);let{no:e,v:l,sizeValue:t,q:a,s:s,c:i,fast:n,tile:o,stop:r,weird:d,seed:u}=_.value,c=L.value;X.value=1,I({type:F.TEXT_TO_IMAGE,params:{prompt:D.value?N.value+" "+D.value:N.value,action:C.TEXT_TO_IMAGE,extend:(""!=e?`--no ${e} `:"")+c+l+" "+t+" "+a+" "+s+" "+i+" "+n+" "+(""==r?"":r)+" "+(""==d?"":d)+(u?` --seed ${u}`:""),base64Array:z.value.length?z.value:[],mode:$.value,translate:M.value,iw:J.value,cw:P.value,sw:q.value,mats:Y.value,roles:Z.value,styles:K.value}}).then((e=>{200==e.code&&(w("getjobId",e.data),w("resquestStatus",1),X.value=0,T.value="")})).catch((e=>{T.value="",X.value=0,T.value=""}))};s("/midjourney/text-to-image").value=m.currentRoute.value.fullPath;const de=[{name:"å¿«é€Ÿæ¨¡å¼",id:0,value:"--fast",icon:"/src/views/midjourney/img/right1.png",type:1},{name:"ä¼‘é—²æ¨¡å¼",id:1,value:"--relax",icon:"/src/views/midjourney/img/importent.png",type:2},{name:"Turboæ¨¡å¼",id:2,value:"--turbo",icon:"/src/views/midjourney/img/importent.png",type:3}],ue=s(!1),ce=()=>{ue.value=!ue.value},pe=s("");if(localStorage.getItem("drawMode")){let e=JSON.parse(localStorage.getItem("drawMode"));pe.value=e.name,$.value=e.type}else pe.value="å¿«é€Ÿæ¨¡å¼";const ve=s(),ge=s(),xe=()=>{console.log(le),1==le.value&&ve.value.open()},ye=()=>{1==le.value&&ge.value.open()};i.on("prompts",(e=>{T.value=e,N.value=e})),i.on("think",(e=>{T.value=e})),i.on("error",(e=>{X.value=0}));const ke=s(""),he=s(""),we=s(""),Ee=s(""),Te=s("");return Ae({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{ke.value=e.data.copyrightTitle,he.value=e.data.icpNumber,we.value=e.data.policeFilingNumber,Ee.value=e.data.icpUrl,Te.value=e.data.policeFilingUrl})),(e,l)=>(d(),n(r,null,[v(mi,{ref_key:"thinkRef",ref:ve},null,512),v(ji,{ref_key:"inspirationRef",ref:ge},null,512),u("div",Si,[u("div",Bi,[be(u("textarea",{style:{resize:"none",width:"100%",height:"30px","line-height":"30px"},disabled:2==le.value||3==le.value,class:"inp dark:bg-[#010102] bg-[#F4F4F4]",placeholder:"åœ¨æ­¤å¤„æè¿°ç”»å›¾çš„å…³é”®å­—ï¼Œæ³¨æ„ä¸è¦åœ¨æ­¤å¡«å…¥èè‰ã€æ€§æ„Ÿè¡€è…¥ç­‰æ•æ„Ÿè¯å†…å®¹ï¼Œ100%ä¸ä¼šå‡ºå›¾","onUpdate:modelValue":l[0]||(l[0]=e=>T.value=e),onInput:W},null,40,Ui),[[fe,T.value]])]),u("div",Oi,[u("div",Vi,[u("div",Ri,[u("div",Li,[ue.value?(d(),n("div",Di,[u("div",Gi,[u("div",_i,[Ni,v(g(h),{trigger:"hover",placement:"top"},{trigger:f((()=>[u("div",null,[v(g(x),{style:{"font-size":"16px"},class:"text-[#D2D2D2] dark:text-[#9898A1]",icon:"f7:exclamationmark-circle-fill"})])])),default:f((()=>[zi])),_:1})]),(d(),n(r,null,o(de,(e=>u("div",{key:e.id,class:"drawModeText",onClick:l=>(e=>{_.value.fast=e.value,$.value=e.type,pe.value=e.name,ue.value=!1,localStorage.setItem("drawMode",JSON.stringify(e))})(e)},[u("p",Ji,c(e.name),1),v(g(x),{style:{"font-size":"16px"},class:"text-[#B3B3B3] dark:text-[#9898A1]",icon:"mingcute:right-line"})],8,Xi))),64)),Pi])])):p("",!0),u("div",{class:"selectBox1 dark:bg-[#15171A] bg-[#FFFFFF;]",onClick:ce},"# "+c(pe.value),1),u("div",qi,[Yi,v(g(B),null,{default:f((()=>[v(g(re),{value:j.value,"onUpdate:value":[l[1]||(l[1]=e=>j.value=e),S],size:"small",disabled:2==le.value||3==le.value},null,8,["value","disabled"])])),_:1})]),u("div",{class:"otherItem",onClick:xe},Zi),u("div",{class:"otherItem",onClick:ye},Ki)]),u("div",Wi,[le.value==g(F).TEXT_TO_IMAGE?(d(),n("div",Qi,[u("button",{class:R(1==X.value?"notSend":"send"),onClick:ae,disabled:!N.value,style:Q(N.value?"":" cursor:not-allowed")},$i,14,Hi)])):(d(),n("div",en,[u("button",{class:R(1==X.value?"notSend":"send"),onClick:ae},ln,2)]))])])])]),u("div",tn,[y("ç‰ˆæƒæ‰€æœ‰ Â© "+c(ke.value)+" ",1),u("a",{href:Ee.value||"#"},[u("a",{href:Te.value||"#"},c(we.value),9,sn),y(c(he.value),1)],8,an)])])],64))}}),[["__scopeId","data-v-75873e1f"]]),on=e=>(E("data-v-add7c694"),e=e(),T(),e),rn={class:"drawListBox dark:bg-[#010102] bg-[#f4f4f4]"},dn=on((()=>u("div",{class:"drawAvatar"},[u("img",{class:"drawAvatarImg",src:Ee,alt:""})],-1))),un={class:"drawContent"},cn={style:{display:"flex","align-items":"center","justify-content":"space-between"}},pn={class:"drawContentTitle"},vn=on((()=>u("p",{class:"Title1"},"Midjourney Bot",-1))),gn=on((()=>u("p",{class:"Title2"},"AIæœºå™¨äºº",-1))),xn={class:"Title3 text-[#808080] dark:text-[#d6d6d6]"},mn={key:0,class:"Title4"},bn={class:"twoBtnBox"},fn={key:0,class:"publishBox bg-[#3378ED] dark:bg-[#2960BE]"},yn=on((()=>u("div",{style:{"margin-left":"4px"}},"å‘å¸ƒ",-1))),kn={key:1,class:"twoBtnBoxDel bg-[#FF1D00] dark:bg-[#FF5E55]"},hn=on((()=>u("div",{style:{"margin-left":"4px"}},"åˆ é™¤",-1))),An={class:"drawContentTitle1 border-b-[2px] dark:border-[#58586E] borde-[#E2E2E2]"},wn={class:"Title4"},En={class:"drawContentTitle2"},Tn={class:"Title5"},Cn=["src"],In=["src"],Fn={key:0,class:"flex justify-start btnBox"},jn=on((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"ç¼–è¾‘: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Te,alt:""})],-1))),Mn={key:0},Sn=["onClick"],Bn={key:0,class:"buttonText"},Un={key:1,class:"buttonText"},On={class:"buttonText"},Vn={key:1,class:"flex justify-start btnBox"},Rn=on((()=>u("div",{style:{display:"flex"}},[u("p",{style:{"margin-top":"13px","margin-right":"10px"}},"å˜åŒ–: "),u("img",{style:{width:"14px",height:"14px","margin-top":"13px","margin-right":"10px"},src:Te,alt:""})],-1))),Ln={key:0},Dn=["onClick"],Gn={key:0,class:"buttonText"},_n={key:1,class:"buttonText"},Nn={class:"buttonText"},zn={key:2,class:"flex justify-start btnBox"},Xn=on((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"æ”¾å¤§ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),Jn={key:0},Pn=["onClick"],qn={key:0,class:"buttonText"},Yn={key:1,class:"buttonText"},Zn={class:"buttonText"},Kn={key:3,class:"flex justify-start btnBox"},Wn=on((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"å˜åŒ–ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),Qn={key:0},Hn=["onClick"],$n={key:0,class:"buttonText"},eo={key:1,class:"buttonText"},lo={class:"buttonText"},to={key:4,class:"flex justify-start btnBox"},ao=on((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"ç¼©å°ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),so={key:0},io=["onClick"],no={key:0,class:"buttonText"},oo={key:1,class:"buttonText"},ro={class:"buttonText"},uo={key:5,class:"flex justify-start btnBox"},co=on((()=>u("div",{style:{"margin-top":"13px",display:"flex","align-items":"center"}},[u("p",null,"æ‹‰ä¼¸ï¼š"),u("img",{style:{width:"14px",height:"14px","margin-right":"10px"},src:Te,alt:""})],-1))),po={key:0},vo=["onClick"],go={key:0,class:"buttonText"},xo={key:1,class:"buttonText"},mo={class:"buttonText"},bo=j(e({__name:"drawView",props:{drawLogList:{type:Array},task:{type:Object,required:!0}},emits:["fresh","newJob"],setup(e,{emit:l}){he();const{updateDrawId:m}=t(),A=t(),w=a(),E=e;s(E.drawLogList);const T=l;const j=async(e,l)=>{if(console.log(e,l),!A.isLogin)return w.warning("è¯·å…ˆç™»å½•"),void A.setLoginDialog(!0);const t=(e=>{if(["U1","U2","U3","U4"].includes(e.label))return C.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return C.V_EXPAND;if(!e.label&&e.emoji){if("ğŸ”„"===e.emoji)return C.REGENERATE;if(["â¬…ï¸","â¡ï¸","â¬†ï¸","â¬‡ï¸"].includes(e.emoji))return C.STRETCH;if(["1ï¸âƒ£","2ï¸âƒ£","3ï¸âƒ£","4ï¸âƒ£"].includes(e.emoji))return C.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?C.UPSCALE_4X:e.label.includes("Upscale (2x)")?C.UPSCALE_2X:e.label.includes("Vary (Subtle)")?C.VARY_SUBTLE:e.label.includes("Vary (Strong)")?C.VARY_STRONG:e.label.includes("Vary (Region)")?C.VARY_REGION:e.label.includes("Make Square")?C.SQUARE:e.label.includes("Zoom Out 2x")?C.ZOOM2X:e.label.includes("Zoom Out 1.5x")?C.ZOOM1_5X:e.label.includes("Custom Zoom")?C.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?C.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?C.REDO_UPSCALE_CREATIVE:C.NONE})(e);await async function(e){const l=await I({type:F.IMAGE_ACTION,params:e}).then((e=>e.data));m({id:l}),l&&w.success("æäº¤ä»»åŠ¡æˆåŠŸï¼"),T("newJob",l)}({action:t,taskId:l.id,customId:e.customId,messageFlags:l.messageFlags||0})},M=s(["V1","V2","V3","V4"]),S=s();return i.on("seed",(e=>{S.value=e})),(l,t)=>(d(),n("div",rn,[dn,u("div",un,[u("div",cn,[u("div",pn,[vn,gn,u("p",xn,c(E.task.createdAt),1),S.value?(d(),n("p",mn,"seedå€¼: "+c(S.value),1)):p("",!0)]),u("div",bn,[3===e.task.status?(d(),n("div",fn,[v(g(x),{icon:"mdi:forward-outline",style:{"font-size":"17px"}}),yn])):p("",!0),3===e.task.status?(d(),n("div",kn,[v(g(x),{icon:"fluent:delete-12-regular",style:{"font-size":"17px"}}),hn])):p("",!0)])]),u("div",An,[u("p",wn,c(E.task.originPrompt),1)]),u("div",En,[u("p",Tn,c(E.task.prompt?E.task.prompt.split("--")[0]:""),1)]),u("div",{class:"drawImgBox",style:Q({height:E.task.imageUrl?"":"400px"})},[6===E.task.status?(d(),n("img",{key:0,src:g(ke),alt:""},null,8,Cn)):p("",!0),6!=E.task.status&&E.task.imageUrl?(d(),n("img",{key:1,class:"img",src:E.task.imageUrl,alt:""},null,8,In)):p("",!0),E.task.imageUrl||6==E.task.status?p("",!0):(d(),b(L,{key:2}))],4),6===E.task.status?(d(),b(g(k),{key:0,type:"primary",style:{"margin-left":"12px"},onClick:t[0]||(t[0]=e=>(E.task,void ye.push({path:"midjourney/paint-task"})))},{default:f((()=>[y(" è¡¥å……æè¿°è¯ ")])),_:1})):p("",!0),u("div",null,[1==E.task.action&&3==E.task.status?(d(),n("div",Fn,[jn,(d(!0),n(r,null,o(E.task.buttons,(e=>(d(),n(r,null,[-1==M.value.indexOf(e.label)?(d(),n("div",Mn,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",Bn,c(e.label),1)):(d(),n("p",Un,c(e.emoji),1))],8,Sn)])),default:f((()=>[u("p",On,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),1==E.task.action&&3==E.task.status?(d(),n("div",Vn,[Rn,(d(!0),n(r,null,o(E.task.buttons,(e=>(d(),n(r,null,[-1!=M.value.indexOf(e.label)?(d(),n("div",Ln,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",Gn,c(e.label),1)):(d(),n("p",_n,c(e.emoji),1))],8,Dn)])),default:f((()=>[u("p",Nn,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==E.task.action&&3==E.task.status?(d(),n("div",zn,[Xn,(d(!0),n(r,null,o(E.task.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("U")?(d(),n("div",Jn,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",qn,c(e.label),1)):(d(),n("p",Yn,c(e.emoji),1))],8,Pn)])),default:f((()=>[u("p",Zn,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==E.task.action&&3==E.task.status?(d(),n("div",Kn,[Wn,(d(!0),n(r,null,o(E.task.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("V")?(d(),n("div",Qn,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",$n,c(e.label),1)):(d(),n("p",eo,c(e.emoji),1))],8,Hn)])),default:f((()=>[u("p",lo,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==E.task.action&&3==E.task.status?(d(),n("div",to,[ao,(d(!0),n(r,null,o(E.task.buttons,(e=>(d(),n(r,null,[-1!=e.label.indexOf("Z")?(d(),n("div",so,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",no,c(e.label),1)):(d(),n("p",oo,c(e.emoji),1))],8,io)])),default:f((()=>[u("p",ro,c(e.label||e.emoji),1)])),_:2},1024)])):p("",!0)],64)))),256))])):p("",!0),4==E.task.action&&3==E.task.status?(d(),n("div",uo,[co,(d(!0),n(r,null,o(E.task.buttons,(e=>(d(),n(r,null,[e.label?p("",!0):(d(),n("div",po,[v(g(h),{trigger:"hover"},{trigger:f((()=>[u("button",{class:"buttonBox",style:{margin:"13px 4px 0 4px"},onClick:t=>j(e,l.index)},[e.label?(d(),n("p",go,c(e.label),1)):(d(),n("p",xo,c(e.emoji),1))],8,vo)])),default:f((()=>[u("p",mo,c(e.label||e.emoji),1)])),_:2},1024)]))],64)))),256))])):p("",!0)])])]))}}),[["__scopeId","data-v-add7c694"]]),fo=e=>(E("data-v-95706188"),e=e(),T(),e),yo={class:"popBox"},ko=fo((()=>u("div",{style:{display:"flex","align-items":"center"}},[u("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAn5JREFUSEvFlk9IVFEUh7+jjCaKTi7SLIM2FbQpaNMu0AqckaRMUGcW6SpXQdrGRRS4KW0RZSuTmmkKMSgag8HcRosWuUsoCoT+EaGkjDbpifdeIzM2ztybUG/33v397nfuveede4QCT+OYVpUu0SrFNKIcUKgXKFdYFJgFpnWVyeUtjD9rk/l808lGg01jWluUoh+lGygrFBSQRBhZ9THwtE0+5dLnhAWj2qEwLFBlAMmSKMwL9MRDElvv/QMWuKuDUsR5W8h6vcLQREh6M79nwYJRvQL0bRaU4b8aD8mF9PsazNk64F4+UGUJ7Kn2FO/n4WvSICwlFA+LO68La4hpTdkKrxH8+ewHa+Byo6e48QISb41gc8li9k11yGcXFojosAhnC1nrK2D4hKe6/hwm3xVyeOOq3JoIS48cGVV/hY8PJumdCbs0BS9zJnjOAJILKeokENUugRGzGOFJp6e0hKHQLYGIxkRot4X1PIbZBVMXDuy+BCPqJMZeU1vkJPjLwBaGMuOsbEGEclPYnRaoLofWB7C8YupysoTvEoyqWli42QS7tkJz3j8y54wr1isbOgZ1ldA+bhNiemWWZ9Z3GHZUwrmENWzGSf2YYJ6Nlog1uZuNtv/ZJmDdVhVkdxWc3u/hEm9g+osx2qsgNrXxUC1cbPAAxoU4szY6RtOq/1cwJbvqO8BgRDsRovk2prQYtv3uRr4tweJPg20UQvHOjPssbflnN3Ua2BzVQWXzPQjKtXhYsnqZ/9tdpVd4PKLbfUI/0GVysbp9I9xOKQOJsHzMdZobNqlpccuo+lMlnBLlKLgd8U5xmlZlEXFv+FcqTPp+8PDRGZnLlzK/ADXe7vdu9RfoAAAAAElFTkSuQmCC",alt:""}),u("p",{class:"popTitle"},"æç¤º")],-1))),ho=fo((()=>u("div",{class:"introBox"},[u("p",{class:"intro"},"ç§¯åˆ†ä¸è¶³ï¼Œè¯·è´­ä¹°ä¼šå‘˜å¥—é¤è·å–ç§¯åˆ†ï¼Œäº«å—æ›´å¤šä¼šå‘˜æƒç›Š")],-1))),Ao=j(e({__name:"popup",emits:["closePop","buyVip"],setup(e,{emit:l}){const t=l,a=()=>{t("closePop")},s=()=>{t("buyVip")};return(e,l)=>(d(),n("div",yo,[u("div",{class:"popTopBox"},[ko,u("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAAXNSR0IArs4c6QAAAw1JREFUSEvFljtMU2EUx/+HV7ENoSxYjQZCApaNAIGw24ReBkLq4mOCSVYfCzOLrxEnnFQWG8LALUl3IMDQTlQICWCi7cIj2vYCLUfPZy9paW9vq0TPdu93vvP7zvP7CDYSDoebM5nMPQB3AfQAuA3ABSAJ4AszR4koXFdX98nn8x2XM0dWi4uLix4imiKiCQDX7A7FzOlfB5ll5umRkZF4Kf2SsKWlpQfMPAOg2Q5SYv2YiCaHh4c/Xl4rgum6/oqInvwBpGALM7/WNO1p/s8CWCgUevErF8/+FpS3/6Xf739ufl/AcqH7cIUgZYqZH2mapuwq2MLCwvX6+voYEblNWE1NDTo6OrCzsyMbbM/Q2dmJ/f19nJycXA7n0dnZmXd0dDShYLquzxDR43yt1tZW9Pb2Ih6PIxqNlgV6vV60t7dje3tbHe6yMPNbTdMmaX5+3u1wOL4SUVF5iwExJMBIJFLSO1Pn4OAA6+vrVodKG4Zxk3RdHyeiWas4dXV1qXDu7e1hc3OzQM0EHR4eYmNjA9ls1jLczDxBoVBI+uF+uaR0d3ejra2tAFgNKGd7TmAxAHfsKiAfmE6nVXiTySSWl5fLepRn97PAfuRmnR0PJlAUBbS2tlZUfVZGmPm7wOzrOmfB4/Ggp0dmMVTVSfVVIdmKPWtpacHAwABSqRROT08h37FYDLu7uxXxTM9scyaG+/r6VMgkdJlMBv39/QooFSqVWoGonJWtRhMkZb2ysgLDMJTd2tpaBXS73arppRdtZK5sn7lcLgwNDalqE4+kKPKlGqDqM6sJIiDJkczI1dXVIpAJbWhowODgIJxOp5oyiUSilIO/J4jVbGxqalJhEgMyIcqJw+FQB9va2ioJu5iNYqTU1Jf/4tX5+bldLtS6lS4zF079nHcPieh9RZarUCq6z8y9/+ymNoFX9QYB8Mbv9xe8Zf7v68r0MBgM3nA6nVMAxit5NwKQd+O7VCo1HQgEvpVKq+Uj1VSWPmxsbAwQkY+ZZQrfysGlw+WGjzBz2DCM4NjY2FG52vkJLyqWRgYfvF4AAAAASUVORK5CYII=",alt:"",onClick:a})]),ho,u("div",{class:"btnBox"},[u("button",{class:"close",onClick:a},"å…³é—­"),u("button",{class:"buy",onClick:s},"å‰å¾€è´­ä¹°")])]))}}),[["__scopeId","data-v-95706188"]]);export{nn as N,ma as _,Ll as a,gi as b,Wl as c,bo as d,we as e,Ee as f,Te as g,Ao as p};
