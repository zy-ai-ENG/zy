
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{a as e}from"../config/config.b5d22985.js";import{d as l,Q as a,r as t,x as o,h as u,o as d,c as r,e as m,f as n,a as i,l as s,S as c,E as f,q as j}from"../main-0579ff80.js";const p={class:"flex justify-between"},_=i("b",null,"MJ参数设置",-1),b=i("h4",null,"绘图设置",-1),x=i("h4",null,"图片存储设置",-1),y=i("div",{style:{width:"250px"}}," 默认会存储图片到配置的存储中、如果开启此选择则表示不保存原图到我们配置的存储上、那么则必须配置一个图片反代地址、直接反代访问原始图片、这样可以进一步节省空间、需要您部署mj-proxy项目并填写基础地址即可！ ",-1),V=i("h4",null,"绘图用户设置",-1),D=i("br",null,null,-1),g=i("br",null,null,-1),h=i("br",null,null,-1),U=l({__name:"proxy",setup(l){const j=a({mjTimeoutMs:"",mjProxy:"0",mjSocketProxyUrl:"",mjProxyUrl:"",mjLimitCount:null,mjProxyImgUrl:"",mjNotSaveImg:"0",mjModel:"",mjProxyHost:"",mjProxySecert:"",mjTransferHost:"",mjTransferSecert:"",mjTransferOrganization:"",fast_mjDeduction1:"",fast_mjDeduction2:"",fast_mjDeduction3:"",relax_mjDeduction1:"",relax_mjDeduction2:"",relax_mjDeduction3:"",trubo_mjDeduction1:"",trubo_mjDeduction2:"",trubo_mjDeduction3:""}),U=t({mjProxyHost:[{required:!0}],mjProxySecert:[{required:!0}],mjTransferHost:[{required:!0}],mjTransferSecert:[{required:!0}],fast_mjDeduction1:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],fast_mjDeduction2:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],fast_mjDeduction3:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],relax_mjDeduction1:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],relax_mjDeduction2:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],relax_mjDeduction3:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],trubo_mjDeduction1:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],trubo_mjDeduction2:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}],trubo_mjDeduction3:[{required:!0,message:"扣减积分不能为空"},{validator:(e,l,a)=>{l<0?a("扣减积分不能小于0"):a()}}]}),v=t();async function w(){const l=await e.queryConfig({keys:["mjTimeoutMs","mjProxy","mjProxyUrl","mjSocketProxyUrl","mjLimitCount","mjNotSaveImg","mjProxyImgUrl","mjModel","mjProxyHost","mjProxySecert","mjTransferHost","mjTransferSecert","mjTransferOrganization","fast_mjDeduction1","fast_mjDeduction2","fast_mjDeduction3","relax_mjDeduction1","relax_mjDeduction2","relax_mjDeduction3","trubo_mjDeduction1","trubo_mjDeduction2","trubo_mjDeduction3"]});Object.assign(j,l.data)}function P(){var l;null==(l=v.value)||l.validate((async l=>{if(l){try{await e.setConfig({settings:(a=j,Object.keys(a).map((e=>({configKey:e,configVal:a[e]}))))}),f.success("变更配置信息成功")}catch(t){}w()}else f.error("请填写完整信息");var a}))}return o((()=>{w()})),(e,l)=>{const a=u("el-button"),t=u("el-option"),o=u("el-select"),f=u("el-form-item"),w=u("el-col"),S=u("el-row"),T=u("el-input"),I=u("el-divider"),q=u("el-switch"),H=u("QuestionFilled"),M=u("el-icon"),k=u("el-tooltip"),C=u("el-alert"),O=u("el-form"),L=u("el-card");return d(),r("div",null,[m(L,{style:{margin:"20px"}},{header:n((()=>[i("div",p,[_,m(a,{class:"button",onClick:P},{default:n((()=>[s(" 保存设置 ")])),_:1})])])),default:n((()=>[m(O,{ref_key:"formRef",ref:v,rules:U.value,model:j,"label-width":"150px"},{default:n((()=>[b,m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"绘图模式",prop:"mjModel","label-width":"150"},{default:n((()=>[m(o,{modelValue:j.mjModel,"onUpdate:modelValue":l[0]||(l[0]=e=>j.mjModel=e),placeholder:"请选择",clearable:""},{default:n((()=>[m(t,{value:"mjProxy",label:"代理模式（通过代理服务器进行多个MJ账号管理）"}),m(t,{value:"mjTransfer",label:"中转模式（通过中转服务商提供的单个账号服务）"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),"mjProxy"==j.mjModel?(d(),r(c,{key:0},[m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"代理地址",prop:"mjProxyHost","label-width":"150"},{default:n((()=>[m(T,{modelValue:j.mjProxyHost,"onUpdate:modelValue":l[1]||(l[1]=e=>j.mjProxyHost=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"代理密钥",prop:"mjProxySecert","label-width":"150"},{default:n((()=>[m(T,{modelValue:j.mjProxySecert,"onUpdate:modelValue":l[2]||(l[2]=e=>j.mjProxySecert=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})],64)):(d(),r(c,{key:1},[m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"中转地址",prop:"mjTransferHost","label-width":"150"},{default:n((()=>[m(T,{modelValue:j.mjTransferHost,"onUpdate:modelValue":l[3]||(l[3]=e=>j.mjTransferHost=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"中转密钥",prop:"mjTransferSecert","label-width":"150"},{default:n((()=>[m(T,{modelValue:j.mjTransferSecert,"onUpdate:modelValue":l[4]||(l[4]=e=>j.mjTransferSecert=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"中转组织",prop:"mjTransferOrganization","label-width":"150"},{default:n((()=>[m(T,{modelValue:j.mjTransferOrganization,"onUpdate:modelValue":l[5]||(l[5]=e=>j.mjTransferOrganization=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})],64)),m(I),x,m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"不存储图片",prop:"mjNotSaveImg"},{default:n((()=>[m(q,{modelValue:j.mjNotSaveImg,"onUpdate:modelValue":l[6]||(l[6]=e=>j.mjNotSaveImg=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),m(k,{class:"box-item",effect:"dark",placement:"right"},{content:n((()=>[y])),default:n((()=>[m(M,{class:"ml-3 cursor-pointer"},{default:n((()=>[m(H)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"图片反代地址",prop:"mjProxyImgUrl","label-width":"150"},{default:n((()=>[m(T,{modelValue:j.mjProxyImgUrl,"onUpdate:modelValue":l[7]||(l[7]=e=>j.mjProxyImgUrl=e),placeholder:"图片反代地址、用于代理访问图片、此项目请自行部署mj-proxy项目配置其中的地址即可！",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(I),V,m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(f,{label:"单人绘图并发限制",prop:"mjLimitCount","label-width":"150"},{default:n((()=>[m(T,{modelValue:j.mjLimitCount,"onUpdate:modelValue":l[8]||(l[8]=e=>j.mjLimitCount=e),placeholder:"单人同时绘制限制数量、同一时间最多可以绘制几张！",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(C,{closable:!1,"show-icon":"",title:"I类操作说明",type:"success"},{default:n((()=>[s(" Imagine/Variation/Outpaint/Pan/Blend/Inpaint/Upscale 2x/Upscale 4x/PicReader/Reroll "),D,s(" 中文释义: 想象/变体/扩展/平移/融合/补漆/放大2倍/放大4倍/图片阅读器/重掷骰子 ")])),_:1}),m(S,{style:{margin:"20px 0"}},{default:n((()=>[m(w,{span:8},{default:n((()=>[m(f,{label:"fast模式",prop:"fast_mjDeduction1","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.fast_mjDeduction1,"onUpdate:modelValue":l[9]||(l[9]=e=>j.fast_mjDeduction1=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(w,{span:8},{default:n((()=>[m(f,{label:"relax模式",prop:"relax_mjDeduction1","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.relax_mjDeduction1,"onUpdate:modelValue":l[10]||(l[10]=e=>j.relax_mjDeduction1=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(w,{span:8},{default:n((()=>[m(f,{label:"trubo模式",prop:"trubo_mjDeduction1","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.trubo_mjDeduction1,"onUpdate:modelValue":l[11]||(l[11]=e=>j.trubo_mjDeduction1=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(C,{closable:!1,"show-icon":"",title:"II类操作说明",type:"success"},{default:n((()=>[s(" Upscale/Describe/PicReaderRetry/FaceSwap/Shorten "),g,s(" 中文释义: 放大/图表文字/图表重试/换脸/prompt缩短 ")])),_:1}),m(S,{style:{margin:"20px 0"}},{default:n((()=>[m(w,{span:8},{default:n((()=>[m(f,{label:"fast模式",prop:"fast_mjDeduction2","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.fast_mjDeduction2,"onUpdate:modelValue":l[12]||(l[12]=e=>j.fast_mjDeduction2=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(w,{span:8},{default:n((()=>[m(f,{label:"relax模式",prop:"relax_mjDeduction2","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.relax_mjDeduction2,"onUpdate:modelValue":l[13]||(l[13]=e=>j.relax_mjDeduction2=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(w,{span:8},{default:n((()=>[m(f,{label:"trubo模式",prop:"trubo_mjDeduction2","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.trubo_mjDeduction2,"onUpdate:modelValue":l[14]||(l[14]=e=>j.trubo_mjDeduction2=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(S,null,{default:n((()=>[m(w,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[m(C,{closable:!1,"show-icon":"",title:"III类操作说明",type:"success"},{default:n((()=>[s(" Fetch/ListByIds/Modal/Seed "),h,s(" 中文释义: 获取单个任务/批量获取任务/弹出模态框/种子Seed ")])),_:1}),m(S,{style:{margin:"20px 0"}},{default:n((()=>[m(w,{span:8},{default:n((()=>[m(f,{label:"fast模式",prop:"fast_mjDeduction3","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.fast_mjDeduction3,"onUpdate:modelValue":l[15]||(l[15]=e=>j.fast_mjDeduction3=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(w,{span:8},{default:n((()=>[m(f,{label:"relax模式",prop:"relax_mjDeduction3","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.relax_mjDeduction3,"onUpdate:modelValue":l[16]||(l[16]=e=>j.relax_mjDeduction3=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(w,{span:8},{default:n((()=>[m(f,{label:"trubo模式",prop:"trubo_mjDeduction3","label-width":"100"},{default:n((()=>[m(T,{modelValue:j.trubo_mjDeduction3,"onUpdate:modelValue":l[17]||(l[17]=e=>j.trubo_mjDeduction3=e),type:"number",placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"])])),_:1})])}}});"function"==typeof j&&j(U);export{U as default};
