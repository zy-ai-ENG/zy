
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{A as e}from"../mj/mj.322c6af7.js";import{d as a,r as n,Q as l,h as t,R as s,o as i,I as d,f as o,a as u,e as r,l as c,t as p,w as m,b as g,c as v,S as f,U as h,J as y,W as I,p as b,i as w,n as _}from"../main-01383ffb.js";const x=e=>(b("data-v-30e4b1f9"),e=e(),w(),e),j={style:{height:"auto","overflow-y":"auto","overflow-x":"hidden"}},T=x((()=>u("div",{class:"card-header"},[u("span",null,"账号信息")],-1))),k=x((()=>u("div",{class:"card-header"},[u("span",null,"设置")],-1))),D={class:"setting-content"},A={class:"setting-content-line1"},O={class:"setting-content-line2"},R={style:{"margin-right":"2px"}},S=_(a({__name:"mjDetail",emits:["fresh"],setup(a,{expose:b,emit:w}){const _=n(!1),x=n(!1),S=n(""),z=n(0),J=l({id:0,setting:{},account:"",channelId:"",guildId:"",authorization:"",applicationId:"",version:"",sessionId:"",usedTime:"",totalTime:"",fastRemainTime:"",relaxRemainTime:"",renewDate:"",orderPlan:0,createdAt:"",updatedAt:"",type:1,enable:1,concurrency:3,timeout:5,awaitQueue:10,remark:""});const P=async a=>await e.getMjParamById(a).then((e=>e.data));return b({open:function(e){x.value=!0,z.value=e||0,S.value="查看详情",J.id=e,e&&e>0&&P({id:e}).then((e=>{const a=JSON.parse(e.setting);Object.assign(J,{...e,setting:e.setting?a:{}})}))}}),(a,n)=>{const l=t("el-col"),b=t("el-row"),w=t("el-card"),z=t("el-button"),V=t("el-dialog"),C=s("loading");return i(),d(V,{modelValue:g(x),"onUpdate:modelValue":n[0]||(n[0]=e=>I(x)?x.value=e:null),"append-to-body":!0,"close-on-click-modal":!1,title:g(S),top:"80px",fullscreen:!1,width:"1200px","z-index":2e3},{default:o((()=>[u("div",j,[u("div",null,[r(w,{class:"box-card",shadow:"never"},{header:o((()=>[T])),default:o((()=>[r(b,{gutter:20},{default:o((()=>[r(l,{span:12},{default:o((()=>[u("p",null,[c("账户名: "),u("span",null,p(J.account),1)]),u("p",null,[c("频道ID: "),u("span",null,p(J.channelId),1)]),u("p",null,[c("服务器ID: "),u("span",null,p(J.guildId),1)]),u("p",null,[c("授权令牌: "),u("span",null,p(J.authorization),1)])])),_:1}),r(l,{span:12},{default:o((()=>[u("p",null,[c("状态: "),u("span",null,p(1===J.enable?"启用":"停用"),1)]),u("p",null,[c("出图模式: "),u("span",null,p(1===J.type?"快速":2===J.type?"休闲":3===J.type?"Turbo":""),1)]),u("p",null,[c("快速时间剩余: "),u("span",null,p(J.fastRemainTime),1)]),u("p",null,[c("订阅计划: "),u("span",null,p(1===J.orderPlan?"标准":"其他"),1)]),u("p",null,[c("续订时间: "),u("span",null,p(J.renewDate),1)])])),_:1})])),_:1})])),_:1}),"{}"!==J.setting?(i(),d(w,{key:0,class:"box-card",shadow:"never"},{header:o((()=>[k])),default:o((()=>{var a;return[m((i(),v("div",D,[(i(!0),v(f,null,h(null==(a=J.setting)?void 0:a.components,(a=>(i(),v("div",A,[(i(!0),v(f,null,h(a.components,(a=>{return i(),v("div",O,[r(z,{style:{margin:"4px"},type:(n=a.style,1===n?"primary":3===n?"success":4===n?"danger":"info"),onClick:n=>{var l,t;return(async a=>{_.value=!0;const n=J.id;await e.updateMjSetting({...a,mode:J.type,accountId:n}).then((e=>{P({id:n}).then((e=>{const a=JSON.parse(e.setting);Object.assign(J,{...e,setting:e.setting?a:{}})}))})),_.value=!1})({messageId:null==(l=null==J?void 0:J.setting)?void 0:l.id,customId:null==a?void 0:a.custom_id,flags:null==(t=null==J?void 0:J.setting)?void 0:t.flags})}},{default:o((()=>{var e;return[u("span",R,p(null==(e=a.emoji)?void 0:e.name),1),c(p(a.label),1)]})),_:2},1032,["type","onClick"])]);var n})),256))])))),256))])),[[C,g(_)]])]})),_:1})):y("",!0)])])])),_:1},8,["modelValue","title"])}}}),[["__scopeId","data-v-30e4b1f9"]]);export{S as default};
