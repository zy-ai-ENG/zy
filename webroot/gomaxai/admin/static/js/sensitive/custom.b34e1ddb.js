
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.0db9df33.js";import{d as a,y as l,r as s,Q as t,B as o,x as u,h as d,R as n,o as r,c as i,e as c,f,b as m,az as p,k as y,m as w,S as v,U as b,l as _,w as x,I as h,W as k,Y as V,E as g,t as W,q as z}from"../main-0579ff80.js";import{A as B}from"../badWords/badWords.70a0065b.js";import{E as C}from"../index/index.f6e2b57f.js";const j=a({__name:"custom",setup(a){const z=l(),j=s(),U=s(0),E=s(!1),K=t({word:"",status:"",page:1,size:500}),R=o((()=>z.settings.app.colorScheme)),q=s([]);async function I(){try{E.value=!0;const e=await B.queryBadWords(K),{rows:a,count:l}=e.data;E.value=!1,U.value=l,q.value=a}catch(e){E.value=!1}}u((()=>{I()}));const P=s(""),S=s(!1),A=s();function F(){S.value=!0,V((()=>{A.value.input.focus()}))}async function G(){P.value&&(await B.addBadWords({word:P.value}),g.success("添加敏感词成功"),K.status="",await I()),S.value=!1,P.value=""}return(a,l)=>{const s=d("el-alert"),t=e,o=d("el-form-item"),u=d("el-option"),V=d("el-select"),z=d("el-button"),U=d("el-form"),M=d("el-tag"),N=n("loading");return r(),i("div",null,[c(t,{bottomPadding:"20px"},{default:f((()=>[c(s,{closable:!1,"show-icon":"",title:"敏感词说明",description:"当前为自定义敏感词、触发敏感词将自动拦截、如配置过三方平台、自定义检测将在三方平台通过后最后进行检测！",type:"success"})])),_:1}),c(t,null,{default:f((()=>[c(U,{ref_key:"formRef",ref:j,inline:!0,model:K},{default:f((()=>[c(o,{label:"敏感词",prop:"word"},{default:f((()=>[c(m(p),{modelValue:K.word,"onUpdate:modelValue":l[0]||(l[0]=e=>K.word=e),placeholder:"敏感词[模糊搜索]",onKeydown:y(w(I,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])])),_:1}),c(o,{label:"敏感词状态",prop:"status"},{default:f((()=>[c(V,{modelValue:K.status,"onUpdate:modelValue":l[1]||(l[1]=e=>K.status=e),placeholder:"请选择敏感词状态",clearable:"",style:{width:"192px"}},{default:f((()=>[(r(!0),i(v,null,b(m(C),(e=>(r(),h(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(o,null,{default:f((()=>[c(z,{type:"primary",onClick:I},{default:f((()=>[_(" 查询 ")])),_:1}),c(z,{onClick:l[2]||(l[2]=e=>{return null==(a=m(j))||a.resetFields(),void I();var a})},{default:f((()=>[_(" 重置 ")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),x((r(),h(t,{style:{width:"100%"},bottomPadding:"20px",bottomMargin:"0px"},{default:f((()=>[(r(!0),i(v,null,b(m(q),(e=>(r(),h(M,{key:e.id,type:"warning",class:"mr-3 mb-3",closable:"",hit:"",effect:m(R),"disable-transitions":!0,onClose:a=>async function(e){await B.delBadWords({id:e}),g.success("删除敏感词成功"),await I()}(e.id)},{default:f((()=>[_(W(e.word),1)])),_:2},1032,["effect","onClose"])))),128)),m(S)?(r(),h(m(p),{key:0,ref_key:"InputRef",ref:A,modelValue:m(P),"onUpdate:modelValue":l[3]||(l[3]=e=>k(P)?P.value=e:null),class:"ml-1",style:{width:"80px"},size:"small",onKeyup:y(G,["enter"]),onBlur:G},null,8,["modelValue"])):(r(),h(z,{key:1,class:"ml-1",size:"small",onClick:F},{default:f((()=>[_(" + New Word ")])),_:1}))])),_:1})),[[N,m(E)]])])}}});"function"==typeof z&&z(j);export{j as default};
