
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,G as a,y as t,j as r,o as s,c as o,b as d,f as u,g as i,V as n,W as p,h as m,t as g,J as c,e as v,S as f,_ as b,p as y,k as h,q as x,s as w}from"../main-646ffc07.js";import{u as _}from"../utcformatTime/utcformatTime.f6db2c52.js";const z=e=>(y("data-v-dad6ccef"),e=e(),h(),e),V={class:"user_list_box"},k={class:"search_add_card"},F={style:{display:"flex","align-items":"center"}},C=z((()=>d("div",{class:"condition_name"},"搜索关键字",-1))),U={style:{"margin-left":"10px"}},S=z((()=>d("div",{class:"condition_name"},"是否开通会员",-1))),q={style:{"margin-left":"10px"}},j=z((()=>d("div",{class:"condition_name"},"用户状态",-1))),A={style:{"margin-left":"10px"}},B={class:"table_card"},M={style:{display:"flex","align-items":"center"}},Y=["src"],J={style:{color:"#20295A","font-weight":"400","font-size":"13px","margin-left":"5px"}},D={style:{"font-size":"13px"}},E={style:{display:"flex"}},I={style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},T=z((()=>d("div",null," 创建账号 ",-1))),G={style:{padding:"0 20px","border-bottom":"1px solid var(--el-border-color-lighter)"}},P={style:{padding:"20px",display:"flex","align-items":"center","justify-content":"space-between"}},R=e({__name:"index",setup(e){l();const y=l(0);l(!1);const h=l(!1);l(!1),l(0),l();const x=l(!1);a({status:0,id:0}),a({model3Count:0,model4Count:0,drawMjCount:0});const w=a({keyword:"",status:"",page:1,size:15});a({model3Count:[{required:!0,message:"请填写赠送基础模型额度",trigger:"blur"}],model4Count:[{required:!0,message:"请填写赠送高级模型额度",trigger:"blur"}],drawMjCount:[{required:!0,message:"请填写赠送MJ绘画额度",trigger:"blur"}]});const z=l([]),R=l({keyword:"",vipStatus:"",userStatus:""});l();const W=l({username:"",nickname:"",phone:"",email:"",password:""}),$=a({username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:6,message:"用户名不能少于6位",trigger:"blur"}],nickname:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,message:"密码不能少于6位",trigger:"blur"}]}),H=l([{value:"未开通",label:"未开通"},{value:"已开通",label:"已开通"}]),K=l([{value:"正常",label:"正常"},{value:"封禁",label:"封禁"}]);async function L(){try{h.value=!0;const e=await f.queryAllUser(w),{rows:l,count:a}=e.data;h.value=!1,y.value=a,z.value=l}catch(e){h.value=!1}}return t((()=>L())),(e,l)=>{const a=r("el-input"),t=r("el-option"),f=r("el-select"),h=r("el-button"),N=r("el-table-column"),O=r("el-tag"),Q=b,X=r("el-icon"),Z=r("el-table"),ee=r("el-pagination"),le=r("el-row"),ae=r("el-form-item"),te=r("el-form"),re=r("el-dialog");return s(),o(n,null,[d("div",V,[d("div",k,[d("div",F,[d("div",null,[C,u(a,{modelValue:R.value.keyword,"onUpdate:modelValue":l[0]||(l[0]=e=>R.value.keyword=e),placeholder:"用户名/呢称/手机号/邮箱",style:{width:"200px"}},null,8,["modelValue"])]),d("div",U,[S,u(f,{clearable:"",modelValue:R.value.vipStatus,"onUpdate:modelValue":l[1]||(l[1]=e=>R.value.vipStatus=e),placeholder:"Select",style:{width:"150px"}},{default:i((()=>[(s(!0),o(n,null,p(H.value,(e=>(s(),c(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),d("div",q,[j,u(f,{clearable:"",modelValue:R.value.userStatus,"onUpdate:modelValue":l[2]||(l[2]=e=>R.value.userStatus=e),placeholder:"Select",style:{width:"150px"}},{default:i((()=>[(s(!0),o(n,null,p(K.value,(e=>(s(),c(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),d("div",A,[u(h,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",height:"32px",background:"#EFF6FF",color:"#60A5FA","border-radius":"8px","margin-top":"25px"}},{default:i((()=>[m(" 查询 ")])),_:1})])]),d("div",null,[u(h,{style:{"border-radius":"8px",border:"1px solid #3B82F6",color:"#3B82F6","font-size":"15px",height:"32px","margin-top":"25px"},onClick:l[3]||(l[3]=e=>x.value=!0)},{default:i((()=>[m(" 创建账号 ")])),_:1})])]),d("div",B,[u(Z,{border:"","highlight-current-row":"",data:z.value,style:{width:"100%"},"max-height":"70vh"},{default:i((()=>[u(N,{label:"用户昵称",width:"180"},{default:i((e=>[d("div",M,[d("div",null,[d("img",{style:{width:"24px",height:"24px","border-radius":"50%","margin-top":"5px"},src:e.row.avatar},null,8,Y)]),d("div",J,g(e.row.nickname),1)])])),_:1}),u(N,{prop:"phone",label:"手机号",width:"160",style:{"font-size":"13px"}}),u(N,{prop:"email",label:"邮箱",width:"200",style:{"font-size":"13px"}}),u(N,{prop:"address",label:"当前积分",width:"120",style:{"font-size":"13px"}}),u(N,{prop:"address",label:"会员到期时间",style:{"font-size":"13px"}}),u(N,{prop:"status",label:"账号状态",width:"90"},{default:i((e=>[1==e.row.status?(s(),c(O,{key:0,type:"success"},{default:i((()=>[m("正常")])),_:1})):(s(),c(O,{key:1,type:"danger"},{default:i((()=>[m("封禁")])),_:1}))])),_:1}),u(N,{prop:"createdAt",label:"注册时间"},{default:i((e=>[d("div",D,g(v(_)(e.row.createdAt,"YYYY-MM-DD hh:mm:ss")),1)])),_:1}),u(N,{fixed:"right",label:"操作",width:"200"},{default:i((e=>[d("div",E,[d("div",null,[u(h,{size:"small",link:"",style:{color:"#3B82F6","font-size":"13px","font-weight":"400"}},{default:i((()=>[m("修改状态")])),_:1}),u(h,{size:"small",link:"",style:{color:"#3B82F6","font-size":"13px","font-weight":"400"}},{default:i((()=>[m("重置密码")])),_:1})]),d("div",null,[u(X,{size:24,style:{"margin-left":"10px"}},{default:i((()=>[u(Q,{name:"more"})])),_:1})])])])),_:1})])),_:1},8,["data"]),u(le,{class:"flex justify-end mt-3"},{default:i((()=>[u(ee,{"current-page":w.page,"onUpdate:currentPage":l[4]||(l[4]=e=>w.page=e),"page-size":w.size,"onUpdate:pageSize":l[5]||(l[5]=e=>w.size=e),class:"mr-5","page-sizes":[15,30,50,100],layout:"total, sizes, prev, pager, next, jumper",total:y.value,onSizeChange:L,onCurrentChange:L},null,8,["current-page","page-size","total"])])),_:1})])]),u(re,{modelValue:x.value,"onUpdate:modelValue":l[14]||(l[14]=e=>x.value=e),width:"400","show-close":!1,"destroy-on-close":""},{header:i((({close:e,titleId:a,titleClass:t})=>[d("div",I,[T,d("div",{onClick:l[6]||(l[6]=e=>x.value=!1),style:{cursor:"pointer"}},[u(X,null,{default:i((()=>[u(Q,{name:"close"})])),_:1})])])])),default:i((()=>[d("div",G,[u(te,{ref:"addUserFormRef",rules:$,model:W.value,"label-width":"auto",style:{"max-width":"400px"}},{default:i((()=>[u(ae,{label:"用户名",prop:"username",size:"large"},{default:i((()=>[u(a,{size:"large",placeholder:"请输入用户名",modelValue:W.value.username,"onUpdate:modelValue":l[7]||(l[7]=e=>W.value.username=e)},null,8,["modelValue"])])),_:1}),u(ae,{label:"用户昵称",prop:"nickname",size:"large"},{default:i((()=>[u(a,{size:"large",placeholder:"请输入用户昵称",modelValue:W.value.nickname,"onUpdate:modelValue":l[8]||(l[8]=e=>W.value.nickname=e)},null,8,["modelValue"])])),_:1}),u(ae,{label:"手机号",prop:"phone",size:"large"},{default:i((()=>[u(a,{size:"large",placeholder:"请输入手机号",modelValue:W.value.phone,"onUpdate:modelValue":l[9]||(l[9]=e=>W.value.phone=e)},null,8,["modelValue"])])),_:1}),u(ae,{label:"邮箱",prop:"email",size:"large"},{default:i((()=>[u(a,{size:"large",placeholder:"请输入邮箱",modelValue:W.value.email,"onUpdate:modelValue":l[10]||(l[10]=e=>W.value.email=e)},null,8,["modelValue"])])),_:1}),u(ae,{label:"密码",prop:"password",size:"large"},{default:i((()=>[u(a,{size:"large",placeholder:"请输入密码",modelValue:W.value.password,"onUpdate:modelValue":l[11]||(l[11]=e=>W.value.password=e),type:"password","show-password":""},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])]),d("div",P,[u(h,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#F4F4F5",color:"#20295A","border-radius":"8px"},onClick:l[12]||(l[12]=e=>x.value=!1)},{default:i((()=>[m("取消 ")])),_:1}),u(h,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#3B82F6",color:"#FFF","border-radius":"8px"},type:"primary",onClick:l[13]||(l[13]=e=>x.value=!1)},{default:i((()=>[m(" 确定 ")])),_:1})])])),_:1},8,["modelValue"])],64)}}});"function"==typeof w&&w(R);const W=x(R,[["__scopeId","data-v-dad6ccef"]]);export{W as default};
