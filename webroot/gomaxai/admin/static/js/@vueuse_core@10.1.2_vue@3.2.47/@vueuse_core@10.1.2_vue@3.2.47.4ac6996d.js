
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{u as e,t as l,i as n,n as u,a as t}from"../@vueuse_shared@10.1.2_vue@3.2.47/@vueuse_shared@10.1.2_vue@3.2.47.a4edebfd.js";import{l as a,w as i,g as r,m as o}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.f65ce9b3.js";import{k as c}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.e3514ec5.js";function s(e){var n;const u=l(e);return null!=(n=null==u?void 0:u.$el)?n:u}const v=n?window:void 0,d=n?window.document:void 0,f=n?window.navigator:void 0;function m(...e){let n,a,r,o;if("string"==typeof e[0]||Array.isArray(e[0])?([a,r,o]=e,n=v):[n,a,r,o]=e,!n)return u;Array.isArray(a)||(a=[a]),Array.isArray(r)||(r=[r]);const c=[],d=()=>{c.forEach((e=>e())),c.length=0},f=i((()=>[s(n),l(o)]),(([e,l])=>{d(),e&&c.push(...a.flatMap((n=>r.map((u=>((e,l,n,u)=>(e.addEventListener(l,n,u),()=>e.removeEventListener(l,n,u)))(e,n,u,l))))))}),{immediate:!0,flush:"post"}),m=()=>{f(),d()};return t(m),m}function p(e){const l=function(){const e=c(!1);return r()&&o((()=>{e.value=!0})),e}();return a((()=>(l.value,Boolean(e()))))}function w(n={}){const{navigator:u=f,read:t=!1,source:i,copiedDuring:r=1500,legacy:o=!1}=n,s=["copy","cut"],v=p((()=>u&&"clipboard"in u)),d=a((()=>v.value||o)),w=c(""),y=c(!1),F=e((()=>y.value=!1),r);function b(){var e,l,n;v.value?u.clipboard.readText().then((e=>{w.value=e})):w.value=null!=(n=null==(l=null==(e=null==document?void 0:document.getSelection)?void 0:e.call(document))?void 0:l.toString())?n:""}if(d.value&&t)for(const e of s)m(e,b);return{isSupported:d,text:w,copied:y,copy:async function(e=l(i)){d.value&&null!=e&&(v.value?await u.clipboard.writeText(e):function(e){const l=document.createElement("textarea");l.value=null!=e?e:"",l.style.position="absolute",l.style.opacity="0",document.body.appendChild(l),l.select(),document.execCommand("copy"),l.remove()}(e),w.value=e,y.value=!0,F.start())}}}const y=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function F(e,l={}){const{document:n=d,autoExit:u=!1}=l,i=a((()=>{var l;return null!=(l=s(e))?l:null==n?void 0:n.querySelector("html")})),r=c(!1),o=a((()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find((e=>n&&e in n||i.value&&e in i.value)))),v=a((()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find((e=>n&&e in n||i.value&&e in i.value)))),f=a((()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find((e=>n&&e in n||i.value&&e in i.value)))),w=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find((e=>n&&e in n)),F=p((()=>i.value&&n&&void 0!==o.value&&void 0!==v.value&&void 0!==f.value)),b=()=>{if(f.value){if(n&&null!=n[f.value])return n[f.value];{const e=i.value;if(null!=(null==e?void 0:e[f.value]))return Boolean(e[f.value])}}return!1};async function g(){if(F.value){if(v.value)if(null!=(null==n?void 0:n[v.value]))await n[v.value]();else{const e=i.value;null!=(null==e?void 0:e[v.value])&&await e[v.value]()}r.value=!1}}async function S(){if(!F.value)return;b()&&await g();const e=i.value;o.value&&null!=(null==e?void 0:e[o.value])&&(await e[o.value](),r.value=!0)}const E=()=>{const e=b();(!e||e&&w&&(null==n?void 0:n[w])===i.value)&&(r.value=e)};return m(n,y,E,!1),m((()=>s(i)),y,E,!1),u&&t(g),{isSupported:F,isFullscreen:r,enter:S,exit:g,toggle:async function(){await(r.value?g():S())}}}export{F as a,w as u};
