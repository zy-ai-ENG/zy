
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{m as e}from"../codemirror@6.0.1_@lezer_common@1.0.2/codemirror@6.0.1_@lezer_common@1.0.2.7f81987e.js";import{g as t,E as l,S as o,n}from"../@codemirror_state@6.2.0/@codemirror_state@6.2.0.50a19798.js";import{E as i,k as a,p as r}from"../@codemirror_view@6.10.1/@codemirror_view@6.10.1.3e2a74d9.js";import{l as s}from"../@codemirror_language-data@6.3.1_@codemirror_state@6.2.0_@codemirror_view@6.10.1_@lezer_common@1.0.2/@codemirror_language-data@6.3.1_@codemirror_state@6.2.0_@codemirror_view@6.10.1_@lezer_common@1.0.2.c8753240.js";import{markdown as c}from"../dist/@codemirror_lang-markdown@6.1.1.8f00ec22.js";import{i as d,u,r as m,b as p}from"../@codemirror_commands@6.2.3/@codemirror_commands@6.2.3.6d72013c.js";import{H as v,u as g,i as h}from"../@codemirror_language@6.6.0/@codemirror_language@6.6.0.b1412095.js";import{t as f}from"../@lezer_highlight@1.1.4/@lezer_highlight@1.1.4.ab75f228.js";import{O as b}from"../medium-zoom@1.0.8/medium-zoom@1.0.8.c6199342.js";import{_ as k}from"../copy-to-clipboard@3.3.3/copy-to-clipboard@3.3.3.e0d05bd3.js";import{N as y}from"../markdown-it@13.0.1/markdown-it@13.0.1.c9cf454f.js";import{r as C}from"../markdown-it-image-figures@2.1.1_markdown-it@13.0.1/markdown-it-image-figures@2.1.1_markdown-it@13.0.1.7783cbd4.js";import{U as $}from"../markdown-it-task-lists@2.1.1/markdown-it-task-lists@2.1.1.e51195ef.js";import{q as w}from"../markdown-it-codetabs@1.2.0/markdown-it-codetabs@1.2.0.dc261c2e.js";import{W as x}from"../lru-cache@8.0.5/lru-cache@8.0.5.63f94af1.js";import{d as T,v as E,j as S,x as F,m as A,l as L,F as M,p as j,w as I,z as H,O as B,t as O}from"../@vue_runtime-core@3.2.47/@vue_runtime-core@3.2.47.f65ce9b3.js";import{h as _,k as P,q as D,n as R}from"../@vue_reactivity@3.2.47/@vue_reactivity@3.2.47.e3514ec5.js";var N=Object.defineProperty,V=(e,t,l)=>(((e,t,l)=>{t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l})(e,"symbol"!=typeof t?t+"":t,l),l);const q="md-editor",z="https://cdnjs.cloudflare.com/ajax/libs",U=`${z}/highlight.js/11.7.0/highlight.min.js`,K={main:`${z}/prettier/2.8.0/standalone.js`,markdown:`${z}/prettier/2.8.0/parser-markdown.js`},W={css:`${z}/cropperjs/1.5.13/cropper.min.css`,js:`${z}/cropperjs/1.5.13/cropper.min.js`},G=`${z}/screenfull.js/5.2.0/screenfull.min.js`,X=["bold","underline","italic","strikeThrough","-","title","sub","sup","quote","unorderedList","orderedList","task","-","codeRow","code","link","image","table","mermaid","katex","-","revoke","next","save","=","prettier","pageFullscreen","fullscreen","preview","htmlPreview","catalog","github"],Y=["markdownTotal","=","scrollSwitch"],J={"zh-CN":{toolbarTips:{bold:"加粗",underline:"下划线",italic:"斜体",strikeThrough:"删除线",title:"标题",sub:"下标",sup:"上标",quote:"引用",unorderedList:"无序列表",orderedList:"有序列表",task:"任务列表",codeRow:"行内代码",code:"块级代码",link:"链接",image:"图片",table:"表格",mermaid:"mermaid图",katex:"katex公式",revoke:"后退",next:"前进",save:"保存",prettier:"美化",pageFullscreen:"浏览器全屏",fullscreen:"屏幕全屏",preview:"预览",htmlPreview:"html代码预览",catalog:"目录",github:"源码地址"},titleItem:{h1:"一级标题",h2:"二级标题",h3:"三级标题",h4:"四级标题",h5:"五级标题",h6:"六级标题"},imgTitleItem:{link:"添加链接",upload:"上传图片",clip2upload:"裁剪上传"},linkModalTips:{linkTitle:"添加链接",imageTitle:"添加图片",descLabel:"链接描述：",descLabelPlaceHolder:"请输入描述...",urlLabel:"链接地址：",urlLabelPlaceHolder:"请输入链接...",buttonOK:"确定"},clipModalTips:{title:"裁剪图片上传",buttonUpload:"上传"},copyCode:{text:"复制代码",successTips:"已复制！",failTips:"复制失败！"},mermaid:{flow:"流程图",sequence:"时序图",gantt:"甘特图",class:"类图",state:"状态图",pie:"饼图",relationship:"关系图",journey:"旅程图"},katex:{inline:"行内公式",block:"块级公式"},footer:{markdownTotal:"字数",scrollAuto:"同步滚动"}},"en-US":{toolbarTips:{bold:"bold",underline:"underline",italic:"italic",strikeThrough:"strikeThrough",title:"title",sub:"subscript",sup:"superscript",quote:"quote",unorderedList:"unordered list",orderedList:"ordered list",task:"task list",codeRow:"inline code",code:"block-level code",link:"link",image:"image",table:"table",mermaid:"mermaid",katex:"formula",revoke:"revoke",next:"undo revoke",save:"save",prettier:"prettier",pageFullscreen:"fullscreen in page",fullscreen:"fullscreen",preview:"preview",htmlPreview:"html preview",catalog:"catalog",github:"source code"},titleItem:{h1:"Lv1 Heading",h2:"Lv2 Heading",h3:"Lv3 Heading",h4:"Lv4 Heading",h5:"Lv5 Heading",h6:"Lv6 Heading"},imgTitleItem:{link:"Add Img Link",upload:"Upload Img",clip2upload:"Clip Upload"},linkModalTips:{linkTitle:"Add Link",imageTitle:"Add Image",descLabel:"Desc:",descLabelPlaceHolder:"Enter a description...",urlLabel:"Link:",urlLabelPlaceHolder:"Enter a link...",buttonOK:"OK"},clipModalTips:{title:"Crop Image",buttonUpload:"Upload"},copyCode:{text:"Copy",successTips:"Copied!",failTips:"Copy failed!"},mermaid:{flow:"flow",sequence:"sequence",gantt:"gantt",class:"class",state:"state",pie:"pie",relationship:"relationship",journey:"journey"},katex:{inline:"inline",block:"block"},footer:{markdownTotal:"Word Count",scrollAuto:"Scroll Auto"}}},Z=`${z}/mermaid/9.4.0/mermaid.min.js`,Q={js:`${z}/KaTeX/0.16.3/katex.min.js`,css:`${z}/KaTeX/0.16.3/katex.min.css`},ee={a11y:{light:`${z}/highlight.js/11.7.0/styles/a11y-light.min.css`,dark:`${z}/highlight.js/11.7.0/styles/a11y-dark.min.css`},atom:{light:`${z}/highlight.js/11.7.0/styles/atom-one-light.min.css`,dark:`${z}/highlight.js/11.7.0/styles/atom-one-dark.min.css`},github:{light:`${z}/highlight.js/11.7.0/styles/github.min.css`,dark:`${z}/highlight.js/11.7.0/styles/github-dark.min.css`},gradient:{light:`${z}/highlight.js/11.7.0/styles/gradient-light.min.css`,dark:`${z}/highlight.js/11.7.0/styles/gradient-dark.min.css`},kimbie:{light:`${z}/highlight.js/11.7.0/styles/kimbie-light.min.css`,dark:`${z}/highlight.js/11.7.0/styles/kimbie-dark.min.css`},paraiso:{light:`${z}/highlight.js/11.7.0/styles/paraiso-light.min.css`,dark:`${z}/highlight.js/11.7.0/styles/paraiso-dark.min.css`},qtcreator:{light:`${z}/highlight.js/11.7.0/styles/qtcreator-light.min.css`,dark:`${z}/highlight.js/11.7.0/styles/qtcreator-dark.min.css`},stackoverflow:{light:`${z}/highlight.js/11.7.0/styles/stackoverflow-light.min.css`,dark:`${z}/highlight.js/11.7.0/styles/stackoverflow-dark.min.css`}},te={editorExtensions:{},editorConfig:{},codeMirrorExtensions:(e,t)=>t,markdownItConfig:()=>{}},le=T({setup:()=>()=>S("div",{class:`${q}-divider`},null)}),oe=({instance:e,ctx:t,props:l={}},o="default")=>{const n=(null==e?void 0:e.$slots[o])||(null==t?void 0:t.slots[o]);return(n?n(e):"")||l[o]},ne=T({props:{trigger:{type:String,default:"hover"},overlay:{type:[String,Object],default:""},visible:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}},relative:{type:String,default:"html"}},setup(e,t){const l=`${q}-dropdown-hidden`,o=_({overlayClass:[l],overlayStyle:{},triggerHover:!1,overlayHover:!1}),n=P(),i=P(),a=()=>{var t;"hover"===e.trigger&&(o.triggerHover=!0);const l=n.value,a=i.value,r=l.getBoundingClientRect(),s=l.offsetTop,c=l.offsetLeft,d=r.height,u=r.width,m=(null==(t=document.querySelector(e.relative))?void 0:t.scrollLeft)||0;o.overlayStyle={...o.overlayStyle,top:s+d+"px",left:c-a.offsetWidth/2+u/2-m+"px"},e.onChange(!0)},r=()=>{o.overlayHover=!0};I((()=>e.visible),(e=>{e?o.overlayClass=o.overlayClass.filter((e=>e!==l)):o.overlayClass.push(l)}));const s=t=>{const l=n.value,o=i.value;!l.contains(t.target)&&!o.contains(t.target)&&e.onChange(!1)};let c=-1;const d=t=>{n.value===t.target?o.triggerHover=!1:o.overlayHover=!1,clearTimeout(c),c=window.setTimeout((()=>{!o.overlayHover&&!o.triggerHover&&e.onChange(!1)}),10)};return A((()=>{"click"===e.trigger?(n.value.addEventListener("click",a),document.addEventListener("click",s)):(n.value.addEventListener("mouseenter",a),n.value.addEventListener("mouseleave",d),i.value.addEventListener("mouseenter",r),i.value.addEventListener("mouseleave",d))})),E((()=>{"click"===e.trigger?(n.value.removeEventListener("click",a),document.removeEventListener("click",s)):(n.value.removeEventListener("mouseenter",a),n.value.removeEventListener("mouseleave",d),i.value.removeEventListener("mouseenter",r),i.value.removeEventListener("mouseleave",d))})),()=>{const l=oe({ctx:t}),a=oe({props:e,ctx:t},"overlay");return[B(l instanceof Array?l[0]:l,{ref:n}),S("div",{class:[`${q}-dropdown`,o.overlayClass],style:o.overlayStyle,ref:i},[S("div",{class:`${q}-dropdown-overlay`},[a instanceof Array?a[0]:a])])]}}});const ie=new class{constructor(){V(this,"pools",{})}remove(e,t,l){const o=this.pools[e]&&this.pools[e][t];o&&(this.pools[e][t]=o.filter((e=>e!==l)))}clear(e){this.pools[e]={}}on(e,t){return this.pools[e]||(this.pools[e]={}),this.pools[e][t.name]||(this.pools[e][t.name]=[]),this.pools[e][t.name].push(t.callback),this.pools[e][t.name].includes(t.callback)}emit(e,t,...l){this.pools[e]||(this.pools[e]={});const o=this.pools[e][t];o&&o.forEach((e=>{try{e(...l)}catch(t){}}))}},ae=(e,t="image.png")=>{const l=e.split(","),o=l[0].match(/:(.*?);/);if(o){const e=o[1],n=atob(l[1]);let i=n.length;const a=new Uint8Array(i);for(;i--;)a[i]=n.charCodeAt(i);return new File([a],t,{type:e})}return null},re=(e,t=200)=>{let l=0;return(...o)=>new Promise((n=>{l&&(clearTimeout(l),n("cancel")),l=window.setTimeout((()=>{e.apply(void 0,o),l=0,n("done")}),t)}))},se={noPrettier:{type:Boolean},toolbars:{type:Array,default:()=>[]},toolbarsExclude:{type:Array,default:()=>[]},setting:{type:Object,default:()=>({})},screenfull:{type:Object,default:null},screenfullJs:{type:String,default:""},updateSetting:{type:Function,default:()=>{}},tableShape:{type:Array,default:()=>[6,4]},defToolbars:{type:Object},noUploadImg:{type:Boolean}},ce="onSave",de="changeCatalogVisible",ue="changeFullscreen",me="pageFullscreenChanged",pe="fullscreenChanged",ve="previewChanged",ge="htmlPreviewChanged",he="catalogVisibleChanged",fe="textareaFocus",be=(e,t)=>{const l=l=>{const o=e.parentElement||document.body,n=o.offsetWidth,i=o.offsetHeight,{clientWidth:a}=document.documentElement,{clientHeight:r}=document.documentElement,s=l.offsetX,c=l.offsetY,d=e=>{let l=e.x+document.body.scrollLeft-document.body.clientLeft-s,d=e.y+document.body.scrollTop-document.body.clientTop-c;l=l<1?1:l<a-n-1?l:a-n-1,d=d<1?1:d<r-i-1?d:r-i-1,t?t(l,d):(o.style.left=`${l}px`,o.style.top=`${d}px`)};document.addEventListener("mousemove",d);const u=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u)};document.addEventListener("mouseup",u)};return e.addEventListener("mousedown",l),()=>{e.removeEventListener("mousedown",l)}},ke=(e,t="")=>{const l=document.getElementById(e.id),o=e.onload;e.onload=null;const n=function(t){"function"==typeof o&&o.bind(this)(t),e.removeEventListener("load",n)};l?""!==t&&(l.addEventListener("load",n),Reflect.get(window,t)&&l.dispatchEvent(new Event("load"))):(e.addEventListener("load",n),document.head.appendChild(e))},ye=re(((e,t,l)=>{const o=document.getElementById(e);o&&o.setAttribute(t,l)}),10),Ce=T({name:"TableShape",props:{tableShape:{type:Array,default:()=>[6,4]},onSelected:{type:Function,default:()=>{}}},setup(e){const t=_({x:-1,y:-1});return()=>S("div",{class:`${q}-table-shape`,onMouseleave:()=>{t.x=-1,t.y=-1}},[new Array(e.tableShape[1]).fill("").map(((l,o)=>S("div",{class:`${q}-table-shape-row`,key:`table-shape-row-${o}`},[new Array(e.tableShape[0]).fill("").map(((l,n)=>S("div",{class:`${q}-table-shape-col`,key:`table-shape-col-${n}`,onMouseenter:()=>{t.x=o,t.y=n},onClick:()=>{e.onSelected(t)}},[S("div",{class:[`${q}-table-shape-col-default`,o<=t.x&&n<=t.y&&`${q}-table-shape-col-include`]},null)])))])))])}}),$e=T({props:{title:{type:String,default:""},visible:{type:Boolean,default:!1},width:{type:String,default:"auto"},height:{type:String,default:"auto"},onClose:{type:Function,default:()=>{}},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function,default:()=>{}},class:{type:String}},setup(e,t){const l=P(e.visible),o=P([`${q}-modal`]),n=P(),i=P();let a=()=>{};const r=_({initPos:{left:"0px",top:"0px"},historyPos:{left:"0px",top:"0px"}}),s=L((()=>e.isFullscreen?{width:"100%",height:"100%"}:{width:e.width,height:e.height}));return A((()=>{a=be(i.value,((e,t)=>{r.initPos.left=e+"px",r.initPos.top=t+"px"}))})),E((()=>{a()})),I((()=>e.isFullscreen),(e=>{e?a():a=be(i.value,((e,t)=>{r.initPos.left=e+"px",r.initPos.top=t+"px"}))})),I((()=>e.visible),(e=>{e?(o.value.push("zoom-in"),l.value=e,j((()=>{const e=n.value.offsetWidth/2,t=n.value.offsetHeight/2,l=document.documentElement.clientWidth/2,o=document.documentElement.clientHeight/2;r.initPos.left=l-e+"px",r.initPos.top=o-t+"px"})),setTimeout((()=>{o.value=o.value.filter((e=>"zoom-in"!==e))}),140)):(o.value.push("zoom-out"),setTimeout((()=>{o.value=o.value.filter((e=>"zoom-out"!==e)),l.value=e}),130))})),()=>{const a=oe({ctx:t}),c=oe({props:e,ctx:t},"title");return S("div",{class:[e.class],style:{display:l.value?"block":"none"}},[S("div",{class:`${q}-modal-mask`,onClick:e.onClose},null),S("div",{class:o.value,style:{...r.initPos,...s.value},ref:n},[S("div",{class:`${q}-modal-header`,ref:i},[c||""]),S("div",{class:`${q}-modal-body`},[a]),S("div",{class:`${q}-modal-func`},[e.showAdjust&&S("div",{class:`${q}-modal-adjust`,onClick:t=>{t.stopPropagation(),e.isFullscreen?r.initPos=r.historyPos:(r.historyPos=r.initPos,r.initPos={left:"0",top:"0"}),e.onAdjust(!e.isFullscreen)}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-"+(e.isFullscreen?"suoxiao":"fangda")},null)])]),S("div",{class:`${q}-modal-close`,onClick:t=>{t.stopPropagation(),e.onClose&&e.onClose()}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-close"},null)])])])])])}}}),we=T({props:{type:{type:String,default:"link"},visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup(e){const t=F("usedLanguageText"),l=F("editorId"),o=L((()=>{var l,o;switch(e.type){case"link":return null==(l=t.value.linkModalTips)?void 0:l.linkTitle;case"image":return null==(o=t.value.linkModalTips)?void 0:o.imageTitle;default:return""}})),n=_({desc:"",url:""});return I((()=>e.visible),(e=>{e||setTimeout((()=>{n.desc="",n.url=""}),200)})),()=>S($e,{title:o.value,visible:e.visible,onClose:e.onCancel},{default:()=>{var o,i,a,r,s;return[S("div",{class:`${q}-form-item`},[S("label",{class:`${q}-label`,for:`link-desc-${l}`},[null==(o=t.value.linkModalTips)?void 0:o.descLabel]),S("input",{placeholder:null==(i=t.value.linkModalTips)?void 0:i.descLabelPlaceHolder,class:`${q}-input`,id:`link-desc-${l}`,type:"text",value:n.desc,onChange:e=>{n.desc=e.target.value},autocomplete:"off"},null)]),S("div",{class:`${q}-form-item`},[S("label",{class:`${q}-label`,for:`link-url-${l}`},[null==(a=t.value.linkModalTips)?void 0:a.urlLabel]),S("input",{placeholder:null==(r=t.value.linkModalTips)?void 0:r.urlLabelPlaceHolder,class:`${q}-input`,id:`link-url-${l}`,type:"text",value:n.url,onChange:e=>{n.url=e.target.value},autocomplete:"off"},null)]),S("div",{class:`${q}-form-item`},[S("button",{class:[`${q}-btn`,`${q}-btn-row`],type:"button",onClick:()=>{e.onOk(n),n.desc="",n.url=""}},[null==(s=t.value.linkModalTips)?void 0:s.buttonOK])])]}})}}),xe=T({props:{visible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup(e){var t,l;const o=F("usedLanguageText"),n=F("editorId");let i=null==(l=null==(t=null==te?void 0:te.editorExtensions)?void 0:t.cropper)?void 0:l.instance;const a=P(),r=P(),s=P(),c=_({cropperInited:!1,imgSelected:!1,imgSrc:"",isFullscreen:!1});let d=null;I((()=>e.visible),(()=>{e.visible&&!c.cropperInited&&(i=i||window.Cropper,a.value.onchange=()=>{if(!i)return void ie.emit(n,"errorCatcher",{name:"Cropper",message:"Cropper is undefined"});const e=a.value.files||[];if(c.imgSelected=!0,(null==e?void 0:e.length)>0){const t=new FileReader;t.onload=e=>{c.imgSrc=e.target.result,j((()=>{d=new i(r.value,{viewMode:2,preview:`.${q}-clip-preview-target`})}))},t.readAsDataURL(e[0])}})})),I((()=>[c.imgSelected]),(()=>{s.value.style=""})),I((()=>c.isFullscreen),(()=>{j((()=>{null==d||d.destroy(),s.value.style="",r.value&&(d=new i(r.value,{viewMode:2,preview:`.${q}-clip-preview-target`}))}))}));const u=()=>{d.clear(),d.destroy(),d=null,a.value.value="",c.imgSelected=!1};return()=>{var t;return S($e,{class:`${q}-modal-clip`,title:null==(t=o.value.clipModalTips)?void 0:t.title,visible:e.visible,onClose:e.onCancel,showAdjust:!0,isFullscreen:c.isFullscreen,onAdjust:e=>{c.isFullscreen=e},width:"668px",height:"421px"},{default:()=>{var t,l;return[S("div",{class:`${q}-form-item ${q}-clip`},[S("div",{class:`${q}-clip-main`},[c.imgSelected?S("div",{class:`${q}-clip-cropper`},[S("img",{src:c.imgSrc,ref:r,style:{display:"none"},alt:""},null),S("div",{class:`${q}-clip-delete`,onClick:u},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-delete"},null)])])]):S("div",{class:`${q}-clip-upload`,onClick:()=>{a.value.click()}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-upload"},null)])])]),S("div",{class:`${q}-clip-preview`},[S("div",{class:`${q}-clip-preview-target`,ref:s},null)])]),S("div",{class:`${q}-form-item`},[S("button",{class:`${q}-btn`,type:"button",onClick:()=>{if(d){const t=d.getCroppedCanvas();ie.emit(n,"uploadImage",[ae(t.toDataURL("image/png"))],e.onOk),u()}}},[(null==(t=o.value.clipModalTips)?void 0:t.buttonUpload)||(null==(l=o.value.linkModalTips)?void 0:l.buttonOK)])]),S("input",{ref:a,accept:"image/*",type:"file",multiple:!1,style:{display:"none"}},null)]}})}}}),Te=T({props:{type:{type:String,default:"link"},linkVisible:{type:Boolean,default:!1},clipVisible:{type:Boolean,default:!1},onCancel:{type:Function,default:()=>{}},onOk:{type:Function,default:()=>{}}},setup:e=>()=>S(M,null,[S(we,{type:e.type,visible:e.linkVisible,onOk:e.onOk,onCancel:e.onCancel},null),S(xe,{visible:e.clipVisible,onOk:e.onOk,onCancel:e.onCancel},null)])}),Ee=T({name:"MDEditorToolbar",props:se,setup(e){const t=F("editorId"),l=F("usedLanguageText"),{fullscreenHandler:o}=(e=>{var t,l,o,n;const i=F("editorId");let a=null==(l=null==(t=te.editorExtensions)?void 0:t.screenfull)?void 0:l.instance;const r=null==(n=null==(o=te.editorExtensions)?void 0:o.screenfull)?void 0:n.js,s=P(!1),c=e=>{a?a.isEnabled&&(s.value=!0,(void 0===e?!a.isFullscreen:e)?a.request():a.exit()):ie.emit(i,"errorCatcher",{name:"fullscreen",message:"fullscreen is undefined"})},d=()=>{a&&a.isEnabled&&a.on("change",(()=>{(s.value||e.setting.fullscreen)&&(s.value=!1,e.updateSetting("fullscreen"))}))},u=()=>{a=window.screenfull,d()};return A((()=>{if(d(),!a){const e=document.createElement("script");e.src=r||G,e.onload=u,e.id=`${q}-screenfull`,ke(e,"screenfull")}})),A((()=>{ie.on(i,{name:ue,callback:c})})),{fullscreenHandler:c}})(e),n=`${t}-toolbar-wrapper`,i=_({title:!1,catalog:!1,image:!1,table:!1,mermaid:!1,katex:!1}),a=(e,l)=>{ie.emit(t,"replace",e,l)},r=_({type:"link",linkVisible:!1,clipVisible:!1}),s=P();A((()=>{ie.on(t,{name:"openModals",callback(e){r.type=e,r.linkVisible=!0}})}));const c=L((()=>{const t=e.toolbars.filter((t=>!e.toolbarsExclude.includes(t))),l=t.indexOf("=");return[-1===l?t:t.slice(0,l+1),-1===l?[]:t.slice(l,Number.MAX_SAFE_INTEGER)]})),d=P(),u=()=>{ie.emit(t,"uploadImage",Array.from(d.value.files||[])),d.value.value=""};A((()=>{d.value.addEventListener("change",u)}));const m=s=>{var c,u,m,p,v,g,h,f,b,k,y,C,$,w,x,T,E,F,A,L,M,j,I,H,B,O,_,P,D,R,N,V,z,U,K,W,G,Y,J,Z,Q,ee,te;if(!X.includes(s))return e.defToolbars instanceof Array?e.defToolbars[s]||"":e.defToolbars&&e.defToolbars.children instanceof Array&&e.defToolbars.children[s]||"";switch(s){case"-":return S(le,null,null);case"bold":return S("div",{class:`${q}-toolbar-item`,title:null==(c=l.value.toolbarTips)?void 0:c.bold,onClick:()=>{a("bold")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-bold"},null)])]);case"underline":return S("div",{class:`${q}-toolbar-item`,title:null==(u=l.value.toolbarTips)?void 0:u.underline,onClick:()=>{a("underline")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-underline"},null)])]);case"italic":return S("div",{class:`${q}-toolbar-item`,title:null==(m=l.value.toolbarTips)?void 0:m.italic,onClick:()=>{a("italic")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-italic"},null)])]);case"strikeThrough":return S("div",{class:`${q}-toolbar-item`,title:null==(p=l.value.toolbarTips)?void 0:p.strikeThrough,onClick:()=>{a("strikeThrough")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-strike-through"},null)])]);case"title":return S(ne,{relative:`#${n}`,visible:i.title,onChange:e=>{i.title=e},overlay:S("ul",{class:`${q}-menu`,onClick:()=>{i.title=!1}},[S("li",{class:`${q}-menu-item`,onClick:()=>{a("h1")}},[null==(v=l.value.titleItem)?void 0:v.h1]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("h2")}},[null==(g=l.value.titleItem)?void 0:g.h2]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("h3")}},[null==(h=l.value.titleItem)?void 0:h.h3]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("h4")}},[null==(f=l.value.titleItem)?void 0:f.h4]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("h5")}},[null==(b=l.value.titleItem)?void 0:b.h5]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("h6")}},[null==(k=l.value.titleItem)?void 0:k.h6])])},{default:()=>{var e;return[S("div",{class:`${q}-toolbar-item`,title:null==(e=l.value.toolbarTips)?void 0:e.title},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-title"},null)])])]}});case"sub":return S("div",{class:`${q}-toolbar-item`,title:null==(y=l.value.toolbarTips)?void 0:y.sub,onClick:()=>{a("sub")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-sub"},null)])]);case"sup":return S("div",{class:`${q}-toolbar-item`,title:null==(C=l.value.toolbarTips)?void 0:C.sup,onClick:()=>{a("sup")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-sup"},null)])]);case"quote":return S("div",{class:`${q}-toolbar-item`,title:null==($=l.value.toolbarTips)?void 0:$.quote,onClick:()=>{a("quote")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-quote"},null)])]);case"unorderedList":return S("div",{class:`${q}-toolbar-item`,title:null==(w=l.value.toolbarTips)?void 0:w.unorderedList,onClick:()=>{a("unorderedList")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-unordered-list"},null)])]);case"orderedList":return S("div",{class:`${q}-toolbar-item`,title:null==(x=l.value.toolbarTips)?void 0:x.orderedList,onClick:()=>{a("orderedList")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-ordered-list"},null)])]);case"task":return S("div",{class:`${q}-toolbar-item`,title:null==(T=l.value.toolbarTips)?void 0:T.task,onClick:()=>{a("task")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-task"},null)])]);case"codeRow":return S("div",{class:`${q}-toolbar-item`,title:null==(E=l.value.toolbarTips)?void 0:E.codeRow,onClick:()=>{a("codeRow")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-code-row"},null)])]);case"code":return S("div",{class:`${q}-toolbar-item`,title:null==(F=l.value.toolbarTips)?void 0:F.code,onClick:()=>{a("code")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-code"},null)])]);case"link":return S("div",{class:`${q}-toolbar-item`,title:null==(A=l.value.toolbarTips)?void 0:A.link,onClick:()=>{r.type="link",r.linkVisible=!0}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-link"},null)])]);case"image":return e.noUploadImg?S("div",{class:`${q}-toolbar-item`,title:null==(L=l.value.toolbarTips)?void 0:L.image,onClick:()=>{r.type="image",r.linkVisible=!0}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-image"},null)])]):S(ne,{relative:`#${n}`,visible:i.image,onChange:e=>{i.image=e},overlay:S("ul",{class:`${q}-menu`,onClick:()=>{i.title=!1}},[S("li",{class:`${q}-menu-item`,onClick:()=>{r.type="image",r.linkVisible=!0}},[null==(M=l.value.imgTitleItem)?void 0:M.link]),S("li",{class:`${q}-menu-item`,onClick:()=>{d.value.click()}},[null==(j=l.value.imgTitleItem)?void 0:j.upload]),S("li",{class:`${q}-menu-item`,onClick:()=>{r.clipVisible=!0}},[null==(I=l.value.imgTitleItem)?void 0:I.clip2upload])])},{default:()=>{var e;return[S("div",{class:`${q}-toolbar-item`,title:null==(e=l.value.toolbarTips)?void 0:e.image},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-image"},null)])])]}});case"table":return S(ne,{relative:`#${n}`,visible:i.table,onChange:e=>{i.table=e},key:"bar-table",overlay:S(Ce,{tableShape:e.tableShape,onSelected:e=>{a("table",{selectedShape:e})}},null)},{default:()=>{var e;return[S("div",{class:`${q}-toolbar-item`,title:null==(e=l.value.toolbarTips)?void 0:e.table},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-table"},null)])])]}});case"revoke":return S("div",{class:`${q}-toolbar-item`,title:null==(H=l.value.toolbarTips)?void 0:H.revoke,onClick:()=>{ie.emit(t,"ctrlZ")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-revoke"},null)])]);case"next":return S("div",{class:`${q}-toolbar-item`,title:null==(B=l.value.toolbarTips)?void 0:B.next,onClick:()=>{ie.emit(t,"ctrlShiftZ")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-next"},null)])]);case"save":return S("div",{class:`${q}-toolbar-item`,title:null==(O=l.value.toolbarTips)?void 0:O.save,onClick:()=>{ie.emit(t,ce)}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-baocun"},null)])]);case"prettier":return e.noPrettier?"":S("div",{class:`${q}-toolbar-item`,title:null==(_=l.value.toolbarTips)?void 0:_.prettier,onClick:()=>{a("prettier")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-prettier"},null)])]);case"pageFullscreen":return!e.setting.fullscreen&&S("div",{class:`${q}-toolbar-item`,title:null==(P=l.value.toolbarTips)?void 0:P.pageFullscreen,onClick:()=>{e.updateSetting("pageFullscreen")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-"+(e.setting.pageFullscreen?"suoxiao":"fangda")},null)])]);case"fullscreen":return S("div",{class:`${q}-toolbar-item`,title:null==(D=l.value.toolbarTips)?void 0:D.fullscreen,onClick:()=>{o()}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-"+(e.setting.fullscreen?"fullscreen-exit":"fullscreen")},null)])]);case"preview":return S("div",{class:`${q}-toolbar-item`,title:null==(R=l.value.toolbarTips)?void 0:R.preview,onClick:()=>{e.updateSetting("preview")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-preview"},null)])]);case"htmlPreview":return S("div",{class:`${q}-toolbar-item`,title:null==(N=l.value.toolbarTips)?void 0:N.htmlPreview,onClick:()=>{e.updateSetting("htmlPreview")}},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-coding"},null)])]);case"catalog":return S("div",{class:`${q}-toolbar-item`,title:null==(V=l.value.toolbarTips)?void 0:V.catalog,onClick:()=>{ie.emit(t,de)},key:"bar-catalog"},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-catalog"},null)])]);case"github":return S("div",{class:`${q}-toolbar-item`,title:null==(z=l.value.toolbarTips)?void 0:z.github,onClick:()=>((e,t={newWindow:!0,nofollow:!0})=>{const l=document.createElement("a");l.href=e,l.style.display="none",t.newWindow&&(l.target="_blank"),t.nofollow&&(l.rel="noopener noreferrer"),document.body.appendChild(l),l.click(),document.body.removeChild(l)})("https://github.com/imzbf/md-editor-v3")},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-github"},null)])]);case"mermaid":return S(ne,{relative:`#${n}`,visible:i.mermaid,onChange:e=>{i.mermaid=e},overlay:S("ul",{class:`${q}-menu`,onClick:()=>{i.mermaid=!1}},[S("li",{class:`${q}-menu-item`,onClick:()=>{a("flow")}},[null==(U=l.value.mermaid)?void 0:U.flow]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("sequence")}},[null==(K=l.value.mermaid)?void 0:K.sequence]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("gantt")}},[null==(W=l.value.mermaid)?void 0:W.gantt]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("class")}},[null==(G=l.value.mermaid)?void 0:G.class]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("state")}},[null==(Y=l.value.mermaid)?void 0:Y.state]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("pie")}},[null==(J=l.value.mermaid)?void 0:J.pie]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("relationship")}},[null==(Z=l.value.mermaid)?void 0:Z.relationship]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("journey")}},[null==(Q=l.value.mermaid)?void 0:Q.journey])]),key:"bar-mermaid"},{default:()=>{var e;return[S("div",{class:`${q}-toolbar-item`,title:null==(e=l.value.toolbarTips)?void 0:e.mermaid},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-mermaid"},null)])])]}});case"katex":return S(ne,{relative:`#${n}`,visible:i.katex,onChange:e=>{i.katex=e},overlay:S("ul",{class:`${q}-menu`,onClick:()=>{i.katex=!1}},[S("li",{class:`${q}-menu-item`,onClick:()=>{a("katexInline")}},[null==(ee=l.value.katex)?void 0:ee.inline]),S("li",{class:`${q}-menu-item`,onClick:()=>{a("katexBlock")}},[null==(te=l.value.katex)?void 0:te.block])]),key:"bar-katex"},{default:()=>{var e;return[S("div",{class:`${q}-toolbar-item`,title:null==(e=l.value.toolbarTips)?void 0:e.katex},[S("svg",{class:`${q}-icon`,"aria-hidden":"true"},[S("use",{"xlink:href":"#md-editor-icon-formula"},null)])])]}})}};return()=>{const t=c.value[0].map((e=>m(e))),l=c.value[1].map((e=>m(e)));return S(M,null,[e.toolbars.length>0&&S("div",{class:`${q}-toolbar-wrapper`,id:n},[S("div",{class:`${q}-toolbar`},[S("div",{class:`${q}-toolbar-left`,ref:s},[t]),S("div",{class:`${q}-toolbar-right`},[l])])]),S("input",{ref:d,accept:"image/*",type:"file",multiple:!0,style:{display:"none"}},null),S(Te,{linkVisible:r.linkVisible,clipVisible:r.clipVisible,type:r.type,onCancel:()=>{r.linkVisible=!1,r.clipVisible=!1},onOk:e=>{e&&a(r.type,{desc:e.desc,url:e.url}),r.linkVisible=!1,r.clipVisible=!1}},null)])}}}),Se=(e,t,l)=>{let o=e.scrollTop;const n=()=>{const i=t-o;o+=i/5,Math.abs(i)<1?(e.scrollTo(0,t),l&&setTimeout(l,100)):(e.scrollTo(0,o),requestAnimationFrame(n))};n()},Fe=(e,t)=>{const l=re((()=>{e.removeEventListener("scroll",o),e.addEventListener("scroll",o),t.removeEventListener("scroll",o),t.addEventListener("scroll",o)}),50),o=n=>{const i=e.clientHeight,a=t.clientHeight,r=(e.scrollHeight-i)/(t.scrollHeight-a);n.target===e?(t.removeEventListener("scroll",o),t.scrollTo({top:e.scrollTop/r}),l()):(e.removeEventListener("scroll",o),e.scrollTo({top:t.scrollTop*r}),l())};return[()=>{l().finally((()=>{e.dispatchEvent(new Event("scroll"))}))},()=>{e.removeEventListener("scroll",o),t.removeEventListener("scroll",o)}]},Ae=(e,t,l)=>{const{view:o}=l,n=e=>o.lineBlockAt(o.state.doc.line(e).from).top,i=e=>o.lineBlockAt(o.state.doc.line(e).from).height;let a=[];let r=0,s=0;const c=l=>{var c,d,u,m,p,v,g;if(null==(c=t.firstElementChild)||!c.firstElementChild)return;const h=o.lineBlockAtHeight(o.scrollDOM.scrollTop),{number:f}=o.state.doc.lineAt(h.from);if(!(f>a.length||o.state.doc.lines<a[a.length-1].end))if(l.target===e){if(0!==s)return;r++;const e=a[f-1],l=n(e.end)+i(e.end);let c=0;const m=n(e.start),p=t.querySelector(`[data-line="${e.start-1}"]`)||(null==(d=t.firstElementChild)?void 0:d.firstElementChild),v=t.querySelector(`[data-line="${e.end}"]`)||(null==(u=t.lastElementChild)?void 0:u.lastElementChild);let g=0,h=0;0===m?(c=(o.scrollDOM.scrollTop-m)/(l-m),g=v.offsetTop):l>o.scrollDOM.scrollHeight-o.scrollDOM.clientHeight?(c=(o.scrollDOM.scrollTop-m)/(o.scrollDOM.scrollHeight-o.scrollDOM.clientHeight-m),h=p.offsetTop,g=t.scrollHeight-t.clientHeight-h+10):(c=(o.scrollDOM.scrollTop-m)/(l-m),h=p.offsetTop,g=v.offsetTop-h);Se(t,h-10+g*c,(()=>{r--}))}else{if(0!==r)return;s++;const l=Array.from(t.querySelectorAll("[data-line]")),c=t.scrollTop,d=t.scrollHeight;let u=0===l.length?1:Math.ceil(Number(l[l.length-1].dataset.line)*(c/d)),h=null==(m=t.firstElementChild)?void 0:m.firstElementChild;for(let e=u;e>=0;e--){const l=t.querySelector(`[data-line="${e}"]`);if(l){h=l,u=e;break}}let f=null==(p=t.firstElementChild)?void 0:p.firstElementChild,b=null==(v=t.firstElementChild)?void 0:v.lastElementChild;for(;l.length>0;){const e=l.indexOf(h);if(e+1>=l.length)break;const t=l[e+1],o=h.offsetTop;if(o>c){if(0===e){f=h,b=t;break}h=l[e-1];continue}const n=t.offsetTop;if(o<=c&&n>c){f=h,b=t;break}h=t}const k=f.offsetTop,y=b.offsetTop;let C=0;const{start:$,end:w}=a[Number(f.dataset.line||0)],x=n($);let T=n(w);const E=i(w);let S=0;f===(null==(g=t.firstElementChild)?void 0:g.firstElementChild)?(C=Math.max(c/y,0),S=T+E-x):T>o.scrollDOM.scrollHeight-o.scrollDOM.clientHeight?(C=Math.max((c-k)/(t.scrollHeight-k-t.clientHeight),0),T=n(o.state.doc.lines)+i(o.state.doc.lines),S=8+T-x-e.clientHeight):(C=Math.max((c-k)/(y-k),0),S=T+E-x),Se(e,x+S*C,(()=>{s--}))}};return[()=>{(()=>{a=[];const e=Array.from(t.querySelectorAll("[data-line]")).map((e=>Number(e.dataset.line)+1)),{lines:l}=o.state.doc;let n=1,i=e.shift()??l;for(let t=1;t<=l;t++)t===i&&(n=t,i=e.shift()||l+1),a.push({start:n,end:i-1})})(),e.addEventListener("scroll",c),t.addEventListener("scroll",c),e.dispatchEvent(new Event("scroll"))},()=>{a=[],e.removeEventListener("scroll",c),t.removeEventListener("scroll",c)}]},Le=(e,t,l,o,n)=>{const i=F("previewOnly");let a=()=>{},r=()=>{};const s=()=>{a();const t=document.querySelector(".cm-scroller");!i&&(l.value||o.value)&&([r,a]=(l.value?Ae:Fe)(t,l.value||o.value,n.value)),e.scrollAuto&&r()};I([t,D(e.setting,"preview"),D(e.setting,"htmlPreview"),D(e.setting,"fullscreen"),D(e.setting,"pageFullscreen")],(()=>{j(s)})),I((()=>e.scrollAuto),(e=>{e?r():a()})),A(s)},Me="var(--md-color)",je="var(--md-color)",Ie="#e5c07b",He="#d19a66",Be="#2c313a",Oe="#000",_e="#353a42",Pe="#528bff",De=[i.theme({"&":{color:je,backgroundColor:Oe},".cm-content":{caretColor:Pe},".cm-cursor, .cm-dropCursor":{borderLeftColor:Pe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#ceedfa33"},".cm-panels":{backgroundColor:"#21252b",color:je},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Oe,color:je,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:Be},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:_e},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:_e,borderBottomColor:_e},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Be,color:je}}},{dark:!0}),g(v.define([{tag:f.keyword,color:"#c678dd"},{tag:[f.name,f.deleted,f.character,f.propertyName,f.macroName],color:Me},{tag:[f.function(f.variableName),f.labelName],color:"#e5c07b"},{tag:[f.color,f.constant(f.name),f.standard(f.name)],color:He},{tag:[f.definition(f.name),f.separator],color:je},{tag:[f.typeName,f.className,f.number,f.changed,f.annotation,f.modifier,f.self,f.namespace],color:"#e5c07b"},{tag:[f.operator,f.operatorKeyword,f.url,f.escape,f.regexp,f.link,f.special(f.string)],color:"#56b6c2"},{tag:[f.meta,f.comment],color:Ie},{tag:f.strong,fontWeight:"bold"},{tag:f.emphasis,fontStyle:"italic"},{tag:f.strikethrough,textDecoration:"line-through"},{tag:f.link,color:Ie,textDecoration:"underline"},{tag:f.heading,fontWeight:"bold",color:Me},{tag:[f.atom,f.bool,f.special(f.variableName)],color:He},{tag:[f.processingInstruction,f.string,f.inserted],color:"var(--md-color)"},{tag:f.invalid,color:"#ffffff"}]))],Re="#3f4a54",Ne="#3f4a54",Ve="#2d8cf0",qe="#d19a66",ze="#ceedfa33",Ue="#fff",Ke="#353a42",We="#3f4a54",Ge=[i.theme({"&":{color:Ne,backgroundColor:Ue},".cm-content":{caretColor:We},".cm-cursor, .cm-dropCursor":{borderLeftColor:We},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"#bad5fa"},".cm-panels":{backgroundColor:"#21252b",color:Ne},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#ceedfa33"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ue,color:Ne,borderRight:"1px solid",borderColor:"var(--md-border-color)"},".cm-activeLineGutter":{backgroundColor:ze},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Ke},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Ke,borderBottomColor:Ke},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ze,color:Ne}}},{dark:!0}),g(v.define([{tag:f.keyword,color:"#c678dd"},{tag:[f.name,f.deleted,f.character,f.propertyName,f.macroName],color:Re},{tag:[f.function(f.variableName),f.labelName],color:"#2d8cf0"},{tag:[f.color,f.constant(f.name),f.standard(f.name)],color:qe},{tag:[f.definition(f.name),f.separator],color:Ne},{tag:[f.typeName,f.className,f.number,f.changed,f.annotation,f.modifier,f.self,f.namespace],color:"#e5c07b"},{tag:[f.operator,f.operatorKeyword,f.url,f.escape,f.regexp,f.link,f.special(f.string)],color:"#56b6c2"},{tag:[f.meta,f.comment],color:Ve},{tag:f.strong,fontWeight:"bold"},{tag:f.emphasis,fontStyle:"italic"},{tag:f.strikethrough,textDecoration:"line-through"},{tag:f.link,color:Ve,textDecoration:"underline"},{tag:f.heading,fontWeight:"bold",color:Re},{tag:[f.atom,f.bool,f.special(f.variableName)],color:qe},{tag:[f.processingInstruction,f.string,f.inserted],color:"#3f4a54"},{tag:f.invalid,color:"#fff"}]))],Xe=e=>{const t=new n;return l=>(t.get(e.state)?e.dispatch({effects:t.reconfigure(l)}):e.dispatch({effects:o.appendConfig.of(t.of(l))}),!0)};class Ye{constructor(e){V(this,"view"),V(this,"toggleTabSize"),V(this,"togglePlaceholder"),V(this,"setExtensions"),V(this,"toggleDisabled"),V(this,"toggleReadOnly"),V(this,"toggleMaxlength"),this.view=e,this.toggleTabSize=Xe(this.view),this.togglePlaceholder=Xe(this.view),this.setExtensions=Xe(this.view),this.toggleDisabled=Xe(this.view),this.toggleReadOnly=Xe(this.view),this.toggleMaxlength=Xe(this.view)}getValue(){return this.view.state.doc.toString()}setValue(e,t=0,l=this.view.state.doc.length){this.view.dispatch({changes:{from:t,to:l,insert:e}})}getSelectedText(){const{from:e,to:t}=this.view.state.selection.main;return this.view.state.sliceDoc(e,t)}replaceSelectedText(e,t={select:!0,deviationStart:0,deviationEnd:0,replaceAll:!1}){if(t.replaceAll)return void this.setValue(e);const{from:o}=this.view.state.selection.main;if(this.view.dispatch(this.view.state.replaceSelection(e)),t.select){const n=o+e.length+t.deviationEnd;this.view.dispatch({selection:l.create([l.range(o+t.deviationStart,n),l.cursor(n)],1)}),this.view.focus()}}setTabSize(e){this.toggleTabSize([t.tabSize.of(e),h.of(" ".repeat(e))])}setPlaceholder(e){this.togglePlaceholder(r(e))}focus(){this.view.focus()}setDisabled(e){this.toggleDisabled([i.editable.of(!e)])}setReadOnly(e){this.toggleReadOnly([t.readOnly.of(e)])}setMaxLength(e){this.toggleMaxlength([t.changeFilter.of((t=>t.newDoc.length<=e))])}}const Je=l=>{const o=F("tabWidth"),n=F("editorId"),r=F("theme"),v=P(),g=R(),h=((e,t)=>[{key:"Ctrl-b",mac:"Cmd-b",run:()=>(ie.emit(e,"replace","bold"),!0)},{key:"Ctrl-d",mac:"Cmd-d",run:p,preventDefault:!0},{key:"Ctrl-s",mac:"Cmd-s",run:t=>(ie.emit(e,ce,t.state.doc.toString()),!0),shift:()=>(ie.emit(e,"replace","strikeThrough"),!0)},{key:"Ctrl-u",mac:"Cmd-u",run:()=>(ie.emit(e,"replace","underline"),!0),shift:()=>(ie.emit(e,"replace","unorderedList"),!0)},{key:"Ctrl-i",mac:"Cmd-i",run:()=>(ie.emit(e,"replace","italic"),!0),shift:()=>(ie.emit(e,"openModals","image"),!0)},{key:"Ctrl-1",mac:"Cmd-1",run:()=>(ie.emit(e,"replace","h1"),!0)},{key:"Ctrl-2",mac:"Cmd-2",run:()=>(ie.emit(e,"replace","h2"),!0)},{key:"Ctrl-3",mac:"Cmd-3",run:()=>(ie.emit(e,"replace","h3"),!0)},{key:"Ctrl-4",mac:"Cmd-4",run:()=>(ie.emit(e,"replace","h4"),!0)},{key:"Ctrl-5",mac:"Cmd-5",run:()=>(ie.emit(e,"replace","h5"),!0)},{key:"Ctrl-6",mac:"Cmd-6",run:()=>(ie.emit(e,"replace","h6"),!0)},{key:"Ctrl-ArrowUp",mac:"Cmd-ArrowUp",run:()=>(ie.emit(e,"replace","sup"),!0)},{key:"Ctrl-ArrowDown",mac:"Cmd-ArrowDown",run:()=>(ie.emit(e,"replace","sub"),!0)},{key:"Ctrl-o",mac:"Cmd-o",run:()=>(ie.emit(e,"replace","orderedList"),!0)},{key:"Ctrl-c",mac:"Cmd-c",shift:()=>(ie.emit(e,"replace","code"),!0),any:(t,l)=>!(!l.ctrlKey&&!l.metaKey||!l.altKey||"KeyC"!==l.code||(ie.emit(e,"replace","codeRow"),0))},{key:"Ctrl-l",mac:"Cmd-l",run:()=>(ie.emit(e,"openModals","link"),!0)},{key:"Ctrl-f",mac:"Cmd-f",shift:()=>!t.noPrettier&&(ie.emit(e,"replace","prettier"),!0)},{any:(t,l)=>!(!l.ctrlKey&&!l.metaKey||!l.altKey||!l.shiftKey||"KeyT"!==l.code||(ie.emit(e,"replace","table"),0))}])(n,l),f=(e=>{const t=F("editorId");return l=>{if(l.clipboardData){if(l.clipboardData.files.length>0){const{files:e}=l.clipboardData;ie.emit(t,"uploadImage",Array.from(e).filter((e=>/image\/.*/.test(e.type)))),l.preventDefault()}if(e.autoDetectCode&&l.clipboardData.types.includes("vscode-editor-data")){const e=JSON.parse(l.clipboardData.getData("vscode-editor-data"));ie.emit(t,"replace","code",{mode:e.mode,text:l.clipboardData.getData("text/plain")}),l.preventDefault()}}}})(l),b=[a.of([...h,d]),e,c({codeLanguages:s}),i.lineWrapping,i.updateListener.of((e=>{e.docChanged&&l.onChange(e.state.doc.toString())})),i.domEventHandlers({paste:f,blur:l.onBlur,focus:l.onFocus})],k=()=>"light"===r.value?te.codeMirrorExtensions(r.value,[...b,Ge],[...h]):te.codeMirrorExtensions(r.value,[...b,De],[...h]);return A((()=>{const e=t.create({doc:l.value}),a=new i({state:e,parent:v.value});g.value=new Ye(a),g.value.setTabSize(o),g.value.setExtensions(k()),g.value.setPlaceholder(l.placeholder),g.value.setDisabled(l.disabled),g.value.setReadOnly(l.readonly),l.autofocus&&a.focus(),l.maxlength&&g.value.setMaxLength(l.maxlength),ie.on(n,{name:"ctrlZ",callback(){u(a)}}),ie.on(n,{name:"ctrlShiftZ",callback(){m(a)}}),ie.on(n,{name:"replace",callback(e,t={}){var l;const{text:o,options:n}=((e,t,l)=>{var o,n,i,a,r,s;let c="",d=0,u=0,m=!0,p=!1;const v=t.getSelectedText(),g=null==(o=te.editorConfig)?void 0:o.mermaidTemplate;if(/^h[1-6]{1}$/.test(e)){const t=e.replace(/^h(\d)/,((e,t)=>new Array(Number(t)).fill("#",0,t).join("")));c=`${t} ${v}`,d=t.length+1}else if("prettier"===e){const e=window.prettier||(null==(i=null==(n=te.editorExtensions)?void 0:n.prettier)?void 0:i.prettierInstance),o=[(null==(a=window.prettierPlugins)?void 0:a.markdown)||(null==(s=null==(r=te.editorExtensions)?void 0:r.prettier)?void 0:s.parserMarkdownInstance)];e&&void 0!==o[0]?c=e.format(t.getValue(),{parser:"markdown",plugins:o}):(ie.emit(l.editorId,"errorCatcher",{name:"prettier",message:"prettier is undefined"}),c=t.getValue()),m=!1,p=!0}else switch(e){case"bold":c=`**${v}**`,d=2,u=-2;break;case"underline":c=`<u>${v}</u>`,d=3,u=-4;break;case"italic":c=`*${v}*`,d=1,u=-1;break;case"strikeThrough":c=`~~${v}~~`,d=2,u=-2;break;case"sub":c=`<sub>${v}</sub>`,d=5,u=-6;break;case"sup":c=`<sup>${v}</sup>`,d=5,u=-6;break;case"codeRow":c="`"+v+"`",d=1,u=-1;break;case"quote":c=`> ${v}`,d=2;break;case"orderedList":c=`1. ${v}`,d=3;break;case"unorderedList":c=`- ${v}`,d=2;break;case"task":c=`- [ ] ${v}`,d=6;break;case"code":{const e=l.text||v||"",t=l.mode||"language";c=`\`\`\`${t}\n${e}\n\`\`\`\n`,d=3,u=3+t.length-c.length;break}case"table":{c="|";const{selectedShape:e={x:1,y:1}}=l,{x:t,y:o}=e;for(let l=0;l<=o;l++)c+=" col |";c+="\n|";for(let l=0;l<=o;l++)c+=" - |";for(let l=0;l<=t;l++){c+="\n|";for(let e=0;e<=o;e++)c+=" content |"}d=2,u=5-c.length;break}case"link":{const{desc:e,url:t}=l;c=`[${e}](${t})`,m=!1;break}case"image":{const{desc:e,url:t,urls:o}=l;c=o instanceof Array?o.reduce(((t,l)=>t+`![${e}](${l})\n`),""):`![${e}](${t})\n`,m=!1;break}case"flow":c=`\`\`\`mermaid\n${(null==g?void 0:g.flow)||"flowchart TD \n  Start --\x3e Stop"}\n\`\`\`\n`,d=3,u=10-c.length;break;case"sequence":c=`\`\`\`mermaid\n${(null==g?void 0:g.sequence)||"sequenceDiagram\n  A->>B: hello!\n  B--\x3e>A: hi!\n  A-)B: bye!"}\n\`\`\`\n`,d=3,u=10-c.length;break;case"gantt":c=`\`\`\`mermaid\n${(null==g?void 0:g.gantt)||"gantt\ntitle A Gantt Diagram\ndateFormat  YYYY-MM-DD\nsection Section\nA task  :a1, 2014-01-01, 30d\nAnother task  :after a1, 20d"}\n\`\`\`\n`,d=3,u=10-c.length;break;case"class":c=`\`\`\`mermaid\n${(null==g?void 0:g.class)||"classDiagram\n  class Animal\n  Vehicle <|-- Car"}\n\`\`\`\n`,d=3,u=10-c.length;break;case"state":c=`\`\`\`mermaid\n${(null==g?void 0:g.state)||"stateDiagram-v2\n  s1 --\x3e s2"}\n\`\`\`\n`,d=3,u=10-c.length;break;case"pie":c=`\`\`\`mermaid\n${(null==g?void 0:g.pie)||'pie title Pets adopted by volunteers\n  "Dogs" : 386\n  "Cats" : 85\n  "Rats" : 15'}\n\`\`\`\n`,d=3,u=10-c.length;break;case"relationship":c=`\`\`\`mermaid\n${(null==g?void 0:g.relationship)||"erDiagram\n  CAR ||--o{ NAMED-DRIVER : allows\n  PERSON ||--o{ NAMED-DRIVER : is"}\n\`\`\`\n`,d=3,u=10-c.length;break;case"journey":c=`\`\`\`mermaid\n${(null==g?void 0:g.journey)||"journey\n  title My working day\n  section Go to work\n    Make tea: 5: Me\n    Go upstairs: 3: Me\n    Do work: 1: Me, Cat\n  section Go home\n    Go downstairs: 5: Me\n    Sit down: 5: Me"}\n\`\`\`\n`,d=3,u=10-c.length;break;case"katexInline":c="$$",d=1,u=-1;break;case"katexBlock":c="$$\n\n$$\n",d=3,u=-4;break;case"universal":{const{generate:e}=l,t=e(v);c=t.targetValue,m=t.select,d=t.deviationStart,u=t.deviationEnd}}return{text:c,options:{select:m,deviationStart:d,deviationEnd:u,replaceAll:p}}})(e,g.value,t);null==(l=g.value)||l.replaceSelectedText(o,n)}})})),I((()=>r.value),(()=>{var e,t;"dark"===r.value?null==(e=g.value)||e.setExtensions(k()):null==(t=g.value)||t.setExtensions(k())})),I((()=>l.value),(()=>{var e,t;(null==(e=g.value)?void 0:e.getValue())!==l.value&&(null==(t=g.value)||t.setValue(l.value))})),I((()=>l.value),(()=>{var e;null==(e=g.value)||e.setPlaceholder(l.placeholder)})),I((()=>l.disabled),(()=>{var e;null==(e=g.value)||e.setDisabled(l.disabled)})),I((()=>l.readonly),(()=>{var e;null==(e=g.value)||e.setDisabled(l.readonly)})),I((()=>l.maxlength),(()=>{var e;l.maxlength&&(null==(e=g.value)||e.setMaxLength(l.maxlength))})),(e=>{const t=F("editorId");A((()=>{ie.on(t,{name:fe,callback(){var t;null==(t=e.value)||t.focus()}})}))})(g),{inputWrapperRef:v,codeMirrorUt:g}},Ze=e=>{const t=F("theme"),{editorExtensions:l}=te,o=null==l?void 0:l.mermaid,n=R(null==o?void 0:o.instance),i=R(!1),a=new x({max:1e3,ttl:6e5}),r=()=>{const l=(null==o?void 0:o.instance)||window.mermaid;!e.noMermaid&&l&&(l.initialize({startOnLoad:!1,theme:"dark"===t.value?"dark":"default"}),i.value=!i.value)};return I((()=>t.value),(()=>{a.clear(),r()})),A((()=>{if(!(e.noMermaid||null!=o&&o.instance)){const e=document.createElement("script");e.id=`${q}-mermaid`;const t=(null==o?void 0:o.js)||Z;/\.mjs/.test(t)?(e.setAttribute("type","module"),e.innerHTML=`import mermaid from "${t}";window.mermaid=mermaid;document.getElementById('${q}-mermaid').dispatchEvent(new Event('load'));`):e.src=t,e.onload=()=>{n.value=window.mermaid,r()},ke(e,"mermaid")}})),{mermaidRef:n,reRenderRef:i,replaceMermaid:()=>{j((()=>{!e.noMermaid&&n.value&&document.querySelectorAll(`div.${q}-mermaid`).forEach((async e=>{let t=a.get(e.innerText);if(!t){const l=`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`,o=await(n.value.renderAsync||n.value.render)(l,e.innerText);t="string"==typeof o?o:o.svg,a.set(e.innerText,t)}const l=document.createElement("p");l.className=`${q}-mermaid`,l.setAttribute("data-processed",""),l.innerHTML=t,void 0!==e.dataset.line&&(l.dataset.line=e.dataset.line),e.replaceWith(l)}))}))}}},Qe=(e,t)=>{const l=e.renderer.rules.fence.bind(e.renderer.rules);e.renderer.rules.fence=(e,o,n,i,a)=>{const r=e[o],s=r.content.trim();if("mermaid"===r.info){let l;return e[o].map&&0===e[o].level&&(l=e[o].map[0],e[o].attrSet("data-line",String(l))),`<div class="${q}-mermaid" ${void 0!==l?"data-line="+l:""} data-mermaid-theme=${t.themeRef.value}>${s}</div>`}return l(e,o,n,i,a)}},et=(e,t)=>{let l=!0,o=!0;const n=e.posMax,i=t>0?e.src.charCodeAt(t-1):-1,a=t+1<=n?e.src.charCodeAt(t+1):-1;return(32===i||9===i||a>=48&&a<=57)&&(o=!1),(32===a||9===a)&&(l=!1),{can_open:l,can_close:o}},tt=(e,t)=>{let l,o,n,i;if("$"!==e.src[e.pos])return!1;if(n=et(e,e.pos),!n.can_open)return t||(e.pending+="$"),e.pos+=1,!0;const a=e.pos+1;for(l=a;-1!==(l=e.src.indexOf("$",l));){for(i=l-1;"\\"===e.src[i];)i-=1;if((l-i)%2==1)break;l+=1}return-1===l?(t||(e.pending+="$"),e.pos=a,!0):l-a==0?(t||(e.pending+="$$"),e.pos=a+1,!0):(n=et(e,l),n.can_close?(t||(o=e.push("math_inline","math",0),o.markup="$",o.content=e.src.slice(a,l)),e.pos=l+1,!0):(t||(e.pending+="$"),e.pos=a,!0))},lt=(e,t,l,o)=>{let n,i,a,r,s=!1,c=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(c+2>d||"$$"!==e.src.slice(c,c+2))return!1;if(c+=2,n=e.src.slice(c,d),o)return!0;for("$$"===n.trim().slice(-2)&&(n=n.trim().slice(0,-2),s=!0),a=t;!(s||(a++,a>=l||(c=e.bMarks[a]+e.tShift[a],d=e.eMarks[a],c<d&&e.tShift[a]<e.blkIndent)));)"$$"===e.src.slice(c,d).trim().slice(-2)&&(r=e.src.slice(0,d).lastIndexOf("$$"),i=e.src.slice(c,r),s=!0);e.line=a+1;const u=e.push("math_block","math",0);return u.block=!0,u.content=(n&&n.trim()?n+"\n":"")+e.getLines(t+1,a,e.tShift[t],!0)+(i&&i.trim()?i:""),u.map=[t,e.line],u.markup="$$",!0},ot=(e,t)=>{e.inline.ruler.after("escape","math_inline",tt),e.block.ruler.after("blockquote","math_block",lt,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=(e,l)=>(e=>{if(t.katexRef.value){const l=t.katexRef.value.renderToString(e,{throwOnError:!1});return`<span class="${q}-katex-inline" data-processed>${l}</span>`}return`<span class="${q}-katex-inline">${e}</span>`})(e[l].content),e.renderer.rules.math_block=(e,l)=>((e,l)=>{if(t.katexRef.value){const o=t.katexRef.value.renderToString(e,{throwOnError:!1,displayMode:!0});return`<p class="${q}-katex-block" data-line=${l} data-processed>${o}</p>`}return`<p class="${q}-katex-block" data-line=${l}>${e}</p>`})(e[l].content,e[l].map[0])+"\n"},nt=(e,t)=>{const l=(t=t||{}).marker||"!",o=l.charCodeAt(0),n=l.length;let i="",a="";const r=(e,t,l,o,n)=>{const i=e[t];return"admonition_open"===i.type?(e[t].attrPush(["class",`${q}-admonition ${q}-admonition-${i.info}`]),e[t].attrSet("data-line",String(e[t].map[0]))):"admonition_title_open"===i.type&&e[t].attrPush(["class",`${q}-admonition-title`]),n.renderToken(e,t,l)};e.block.ruler.before("code","admonition",((e,t,r,s)=>{let c,d,u,m=!1,p=e.bMarks[t]+e.tShift[t],v=e.eMarks[t];if(o!==e.src.charCodeAt(p))return!1;for(c=p+1;c<=v&&l[(c-p)%n]===e.src[c];c++);const g=Math.floor((c-p)/n);if(3!==g)return!1;c-=(c-p)%n;const h=e.src.slice(p,c);if((e=>{const t=e.trim().split(" ",2);a="",i=t[0],t.length>1&&(a=e.substring(i.length+2)),(""===a||!a)&&(a=i)})(e.src.slice(c,v)),s)return!0;for(d=t;d++,!(d>=r||(p=e.bMarks[d]+e.tShift[d],v=e.eMarks[d],p<v&&e.sCount[d]<e.blkIndent));)if(o===e.src.charCodeAt(p)&&!(e.sCount[d]-e.blkIndent>=4)){for(c=p+1;c<=v&&l[(c-p)%n]===e.src[c];c++);if(!(Math.floor((c-p)/n)<g||(c-=(c-p)%n,c=e.skipSpaces(c),c<v))){m=!0;break}}const f=e.parentType,b=e.lineMax;return e.parentType="root",e.lineMax=d,u=e.push("admonition_open","div",1),u.markup=h,u.block=!0,u.info=i,u.map=[t,d],u=e.push("admonition_title_open","p",1),u.markup=h+" "+i,u.map=[t,d],u=e.push("inline","",0),u.content=a,u.map=[t,e.line-1],u.children=[],u=e.push("admonition_title_close","p",-1),u.markup=h+" "+i,e.md.block.tokenize(e,t+1,d),u=e.push("admonition_close","div",-1),u.markup=e.src.slice(p,c),u.block=!0,e.parentType=f,e.lineMax=b,e.line=d+(m?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.admonition_open=r,e.renderer.rules.admonition_title_open=r,e.renderer.rules.admonition_title_close=r,e.renderer.rules.admonition_close=r},it=(e,t)=>{let l;e.core.ruler.push("headingLinks",(e=>{l||(l=e.Token)})),e.renderer.rules.heading_open=(l,o)=>{const n=l[o],i=l[o+1].content,a=n.markup.length;return t.headsRef.value.push({text:i,level:a}),n.map&&0===n.level&&(n.attrSet("data-line",String(n.map[0])),n.attrSet("id",t.mdHeadingId(i,a,t.headsRef.value.length))),e.renderer.renderToken(l,o,t)},e.renderer.rules.heading_close=(e,t,l,o,n)=>n.renderToken(e,t,l)},at=e=>{const{editorConfig:t,markdownItConfig:l}=te,o=F("editorId"),n=F("showCodeRowNumber"),i=F("previewOnly"),a=F("theme"),r=P([]),s=(e=>{var t;const l=null==(t=te.editorExtensions)?void 0:t.highlight,o=null==l?void 0:l.instance,n=F("highlight"),i=R(o);return A((()=>{if(!e.noHighlight&&!i.value){const e=document.createElement("script");e.src=n.value.js,e.onload=()=>{i.value=window.hljs},e.id=`${q}-hljs`,ke(e,"hljs");const t=document.createElement("link");t.rel="stylesheet",t.href=n.value.css,t.id=`${q}-hlCss`,ke(t)}})),I((()=>n.value.css),(e=>{ye(`${q}-hlCss`,"href",e)})),i})(e),c=(e=>{var t;const l=null==(t=te.editorExtensions)?void 0:t.katex,o=null==l?void 0:l.instance,n=R(o);return A((()=>{if(!e.noKatex&&!n.value){const e=document.createElement("script");e.src=(null==l?void 0:l.js)||Q.js,e.onload=()=>{n.value=window.katex},e.id=`${q}-katex`;const t=document.createElement("link");t.rel="stylesheet",t.href=(null==l?void 0:l.css)||Q.css,t.id=`${q}-katexCss`,ke(e,"katex"),ke(t)}})),n})(e),{reRenderRef:d,replaceMermaid:u}=Ze(e),m=y({html:!0,breaks:!0});m.use(ot,{katexRef:c}),m.use(C,{figcaption:!0}),m.use(nt),m.use($),m.use(it,{mdHeadingId:e.mdHeadingId,headsRef:r}),m.use(w),e.noMermaid||m.use(Qe,{themeRef:a}),m.set({highlight:(t,l)=>{let o;o=!e.noHighlight&&s.value?s.value.getLanguage(l)?s.value.highlight(t,{language:l,ignoreIllegals:!0}).value:s.value.highlightAuto(t).value:m.utils.escapeHtml(t);const i=n?(e=>{if(!e)return e;const t=e.split("\n"),l=['<span rn-wrapper aria-hidden="true">'];return t.forEach((()=>{l.push("<span></span>")})),l.push("</span>"),`<span class="code-block">${e}</span>${l.join("")}`})(o.trim()):`<span class="code-block">${o.trim()}</span>`;return`<pre><code class="language-${l}" language=${l}>${i}</code></pre>`}}),(e=>{["paragraph_open","table_open","ordered_list_open","bullet_list_open","blockquote_open","hr"].forEach((t=>{e.renderer.rules[t]=(e,t,l,o,n)=>{let i;return e[t].map&&0===e[t].level&&(i=e[t].map[0],e[t].attrSet("data-line",String(i))),n.renderToken(e,t,l)}})),["html_block","fence"].forEach((t=>{const l=e.renderer.rules[t];e.renderer.rules[t]=(e,t,o,n,i)=>{let a;const r=l(e,t,o,n,i);return e[t].map&&0===e[t].level?(a=e[t].map[0],r.replace(/^(<[^>]*)/,`$1 data-line="${a}"`)):r}}))})(m),l(m);const p=P(e.sanitize(m.render(e.value))),v=re((async()=>{r.value=[],p.value=e.sanitize(m.render(e.value)),ie.emit(o,"buildFinished",p.value),e.onHtmlChanged(p.value),u()}),void 0!==(null==t?void 0:t.renderDelay)?null==t?void 0:t.renderDelay:i?0:500),g=L((()=>e.noHighlight||s.value));return I([D(e,"value"),g,d],v),I((()=>r.value),(t=>{e.onGetCatalog(t),ie.emit(o,"catalogChanged",t)})),A((()=>{ie.on(o,{name:"pushCatalog",callback(){ie.emit(o,"catalogChanged",r.value)}})})),{html:p}},rt=T({name:"MDEditorContent",props:{value:{type:String,default:""},onChange:{type:Function,default:()=>{}},setting:{type:Object,default:()=>({})},onHtmlChanged:{type:Function,default:()=>{}},onGetCatalog:{type:Function,default:()=>{}},mdHeadingId:{type:Function,default:()=>""},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},scrollAuto:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},autofocus:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},maxlength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function,default:()=>{}},onFocus:{type:Function,default:()=>{}},noPrettier:{type:Boolean},noHighlight:{type:Boolean,default:!1}},setup(e){const t=F("previewOnly"),l=F("showCodeRowNumber"),o=F("previewTheme"),n=F("editorId"),i=P(),a=P(),{inputWrapperRef:r,codeMirrorUt:s}=Je(e),{html:c}=at(e);return Le(e,c,i,a,s),((e,t)=>{const l=F("editorId"),o=F("usedLanguageText"),n=()=>{document.querySelectorAll(`#${l}-preview pre`).forEach((t=>{var l,n;let i=-1;null==(l=t.querySelector(".copy-button"))||l.remove();const a=(null==(n=o.value.copyCode)?void 0:n.text)||"复制代码",r=document.createElement("span");r.setAttribute("class","copy-button"),r.dataset.tips=a,r.innerHTML=`<svg class="${q}-icon" aria-hidden="true"><use xlink:href="#${q}-icon-copy"></use></svg>`,r.addEventListener("click",(()=>{var l,n;clearTimeout(i);const s=t.querySelector("code").innerText,c=k(e.formatCopiedText(s)),d=(null==(l=o.value.copyCode)?void 0:l.successTips)||"已复制！",u=(null==(n=o.value.copyCode)?void 0:n.failTips)||"已复制！";r.dataset.tips=c?d:u,i=window.setTimeout((()=>{r.dataset.tips=a}),1500)})),t.appendChild(r)}))},i=e=>{e&&j(n)};I((()=>t.value),(()=>{j(n)})),I((()=>e.setting.preview),i),I((()=>e.setting.htmlPreview),i),I((()=>o.value),n),A(n)})(e,c),((e,t)=>{const l=F("editorId"),o=re((()=>{const e=document.querySelectorAll(`#${l}-preview img`);0!==e.length&&b(e,{background:"#00000073"})}));A(o),I([t,D(e.setting,"preview")],o)})(e,c),()=>S("div",{class:`${q}-content`},[!t&&S("div",{class:`${q}-input-wrapper`,ref:r},null),e.setting.preview&&S("div",{id:`${n}-preview-wrapper`,class:`${q}-preview-wrapper`,ref:i,key:"content-preview-wrapper"},[S("article",{id:`${n}-preview`,class:[`${q}-preview`,`${null==o?void 0:o.value}-theme`,l&&`${q}-scrn`],innerHTML:c.value},null)]),e.setting.htmlPreview&&S("div",{class:`${q}-preview-wrapper`,ref:a,key:"html-preview-wrapper"},[S("div",{class:`${q}-html`},[c.value])])])}}),st=T({props:{modelValue:{type:String,default:""}},setup(e){const t=F("usedLanguageText");return()=>{var l,o;return S("div",{class:`${q}-footer-item`},[S("label",{class:`${q}-footer-label`},[`${null==(l=t.value.footer)?void 0:l.markdownTotal}:`]),S("span",null,[(null==(o=e.modelValue)?void 0:o.length)||0])])}}}),ct=T({props:{checked:{type:Boolean,default:!1},onChange:{type:Function,default:()=>{}}},setup:e=>()=>S("div",{class:[`${q}-checkbox`,e.checked&&`${q}-checkbox-checked`],onClick:()=>{e.onChange(!e.checked)}},null)}),dt=T({props:{scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}}},setup(e){const t=F("usedLanguageText");return()=>{var l;return S("div",{class:`${q}-footer-item`},[S("label",{class:`${q}-footer-label`,onClick:()=>{e.onScrollAutoChange(!e.scrollAuto)}},[null==(l=t.value.footer)?void 0:l.scrollAuto]),S(ct,{checked:e.scrollAuto,onChange:e.onScrollAutoChange},null)])}}}),ut=T({name:"MDEditorFooter",props:{modelValue:{type:String,default:""},footers:{type:Array,default:[]},scrollAuto:{type:Boolean},onScrollAutoChange:{type:Function,default:()=>{}},defFooters:{type:Object}},setup(e){const t=L((()=>{const t=e.footers.indexOf("=");return[-1===t?e.footers:e.footers.slice(0,t),-1===t?[]:e.footers.slice(t,Number.MAX_SAFE_INTEGER)]})),l=t=>{if(!Y.includes(t))return e.defFooters instanceof Array?e.defFooters[t]||"":e.defFooters&&e.defFooters.children instanceof Array&&e.defFooters.children[t]||"";switch(t){case"markdownTotal":return S(st,{modelValue:e.modelValue},null);case"scrollSwitch":return S(dt,{scrollAuto:e.scrollAuto,onScrollAutoChange:e.onScrollAutoChange},null)}};return()=>{const e=t.value[0].map((e=>l(e))),o=t.value[1].map((e=>l(e)));return S("div",{class:`${q}-footer`},[S("div",{class:`${q}-footer-left`},[e]),S("div",{class:`${q}-footer-right`},[o])])}}}),mt=T({props:{tocItem:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:()=>{}},scrollElement:{type:[String,Object],default:""},onClick:{type:Function,default:()=>{}},scrollElementOffsetTop:{type:Number,default:0}},setup:e=>()=>{const{tocItem:t,mdHeadingId:l,scrollElement:o,onClick:n,scrollElementOffsetTop:i}=e;return S("div",{class:[`${q}-catalog-link`,t.active&&`${q}-catalog-active`],onClick:e=>{n(e,t),e.stopPropagation();const a=l(t.text,t.level,t.index),r=document.getElementById(a),s=o instanceof Element?o:document.querySelector(o);if(r&&s){let e=r.offsetParent,t=r.offsetTop;if(s.contains(e))for(;e&&s!=e;)t+=null==e?void 0:e.offsetTop,e=null==e?void 0:e.offsetParent;null==s||s.scrollTo({top:t-i,behavior:"smooth"})}}},[S("span",{title:t.text},[t.text]),S("div",{class:`${q}-catalog-wrapper`},[t.children&&t.children.map((e=>S(mt,{mdHeadingId:l,key:`${t.text}-link-${e.level}-${e.text}`,tocItem:e,scrollElement:o,onClick:n,scrollElementOffsetTop:i},null)))])])}}),pt=T({name:"MdCatalog",props:{editorId:{type:String},class:{type:String,default:""},mdHeadingId:{type:Function,default:e=>e},scrollElement:{type:[String,Object]},theme:{type:String,default:"light"},offsetTop:{type:Number,default:20},scrollElementOffsetTop:{type:Number,default:0},onClick:{type:Function}},emits:["onClick"],setup(e,t){const l=e.editorId,o=_({list:[],show:!1,scrollElement:e.scrollElement||`#${l}-preview-wrapper`}),n=L((()=>{const e=[];return o.list.forEach((({text:t,level:l,active:o},n)=>{const i={level:l,text:t,index:n+1,active:!!o};if(0===e.length)e.push(i);else{let t=e[e.length-1];if(i.level>t.level)for(let e=t.level+1;e<=6;e++){const{children:e}=t;if(!e){t.children=[i];break}if(t=e[e.length-1],i.level<=t.level){e.push(i);break}}else e.push(i)}})),e}));A((()=>{ie.on(l,{name:"catalogChanged",callback:e=>{o.list=e.map(((e,t)=>0===t?{...e,active:!0}:{...e}))}}),ie.emit(l,"pushCatalog")}));const i=()=>{var t;const l=o.scrollElement instanceof HTMLElement?o.scrollElement:document.querySelector(o.scrollElement);null==(t=l===document.documentElement?window:l)||t.addEventListener("scroll",((e,t=200)=>{let l=0,o=null;return(...n)=>{const i=n=>{0===l&&(l=n),n-l>=t?(e.apply(void 0,o),o=null,l=0):window.requestAnimationFrame(i)};null===o&&window.requestAnimationFrame(i),o=n}})((()=>{if(0===o.list.length)return!1;const{activeHead:t}=o.list.reduce(((t,o,n)=>{const i=document.getElementById(e.mdHeadingId(o.text,o.level,n+1));if(i instanceof HTMLElement){const n=((e,t)=>{const l=null==e?void 0:e.getBoundingClientRect();if(t===document.documentElement)return l.top-t.clientTop;const o=null==t?void 0:t.getBoundingClientRect();return l.top-o.top})(i,l);if(n<e.offsetTop&&n>t.minTop)return{activeHead:o,minTop:n}}return t}),{activeHead:o.list[0],minTop:Number.MIN_SAFE_INTEGER});o.list=o.list.map((e=>e===t?{...e,active:!0}:{...e,active:!1}))})))};return A((()=>{i(),ie.on(l,{name:ve,callback(e){e&&j(i)}})})),()=>S("div",{class:`${q}-catalog${"dark"===e.theme?"-dark":""} ${e.class}`},[n.value.map((l=>S(mt,{mdHeadingId:e.mdHeadingId,tocItem:l,key:`link-${l.level}-${l.text}`,scrollElement:o.scrollElement,onClick:(l,o)=>{e.onClick?e.onClick(l,o):t.emit("onClick",l,o)},scrollElementOffsetTop:e.scrollElementOffsetTop},null)))])}}),vt=T({name:"MdEditorV3",props:{modelValue:{type:String,default:""},theme:{type:String,default:"light"},class:{type:String,default:""},onChange:{type:Function},onSave:{type:Function},onUploadImg:{type:Function},pageFullscreen:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},htmlPreview:{type:Boolean,default:!1},previewOnly:{type:Boolean,default:!1},language:{type:String,default:"zh-CN"},toolbars:{type:Array,default:X},toolbarsExclude:{type:Array,default:[]},noPrettier:{type:Boolean,default:!1},onHtmlChanged:{type:Function},onGetCatalog:{type:Function},editorId:{type:String,default:"md-editor-v3"},tabWidth:{type:Number,default:2},showCodeRowNumber:{type:Boolean,default:!1},previewTheme:{type:String,default:"default"},style:{type:Object,default:()=>({})},mdHeadingId:{type:Function,default:e=>e},tableShape:{type:Array,default:()=>[6,4]},noMermaid:{type:Boolean,default:!1},sanitize:{type:Function,default:e=>e},placeholder:{type:String,default:""},noKatex:{type:Boolean,default:!1},defToolbars:{type:[String,Object]},onError:{type:Function},codeTheme:{type:String,default:"atom"},footers:{type:Array,default:Y},scrollAuto:{type:Boolean,default:!0},defFooters:{type:[String,Object]},noIconfont:{type:Boolean},formatCopiedText:{type:Function,default:e=>e},noUploadImg:{type:Boolean},codeStyleReverse:{type:Boolean,default:!0},codeStyleReverseList:{type:Array,default:["default","mk-cute"]},autoFocus:{type:Boolean},disabled:{type:Boolean},readOnly:{type:Boolean},maxLength:{type:Number},autoDetectCode:{type:Boolean},onBlur:{type:Function},onFocus:{type:Function},noHighlight:{type:Boolean,default:!1}},emits:["onChange","onSave","onUploadImg","onHtmlChanged","onGetCatalog","onError","update:modelValue","onBlur","onFocus"],setup(e,t){const{editorId:l,previewOnly:o,noKatex:n,noMermaid:i,noPrettier:a,noUploadImg:r,noHighlight:s}=e,c=_({scrollAuto:e.scrollAuto});((e,t)=>{const{editorId:l,previewOnly:o}=e,n=_({buildFinished:!1,html:""});I((()=>e.modelValue),(()=>{n.buildFinished=!1})),A((()=>{o||(ie.on(l,{name:"buildFinished",callback(e){n.buildFinished=!0,n.html=e}}),ie.on(l,{name:ce,callback(){const o=new Promise((e=>{if(n.buildFinished)e(n.html);else{const t=o=>{e(o),ie.remove(l,"buildFinished",t)};ie.on(l,{name:"buildFinished",callback:t})}}));e.onSave?e.onSave(e.modelValue,o):t.emit("onSave",e.modelValue,o)}}))}))})(e,t),(e=>{var t;const{editorId:l,previewOnly:o}=e,n=null==(t=null==te?void 0:te.editorExtensions)?void 0:t.highlight;H("editorId",l),H("tabWidth",e.tabWidth),H("theme",L((()=>e.theme))),H("highlight",L((()=>{const t={...ee,...null==n?void 0:n.css},l=e.codeStyleReverse&&e.codeStyleReverseList.includes(e.previewTheme)?"dark":e.theme;return{js:(null==n?void 0:n.js)||U,css:t[e.codeTheme]?t[e.codeTheme][l]:ee.atom[l]}}))),H("previewOnly",o),H("showCodeRowNumber",e.showCodeRowNumber);const i=L((()=>{var t;const l={...J,...null==(t=null==te?void 0:te.editorConfig)?void 0:t.languageUserDefined};return l[e.language]?l[e.language]:J["zh-CN"]}));H("usedLanguageText",i),H("previewTheme",L((()=>e.previewTheme)))})(e),(e=>{var t,l,o,n,i,a;const{noPrettier:r,previewOnly:s,noIconfont:c,noUploadImg:d}=e,{editorExtensions:u}=te,m=r||!(null==(l=null==(t=te.editorExtensions)?void 0:t.prettier)||!l.prettierInstance),p=r||!(null==(n=null==(o=te.editorExtensions)?void 0:o.prettier)||!n.parserMarkdownInstance),v=d||!(null==(a=null==(i=te.editorExtensions)?void 0:i.cropper)||!a.instance);A((()=>{var e,t,l,o;const n=document.createElement("script");n.src=(null==u?void 0:u.iconfont)||"https://at.alicdn.com/t/c/font_2605852_u82y61ve02.js",n.id=`${q}-icon`;const i=document.createElement("script"),a=document.createElement("script");i.src=(null==(e=null==u?void 0:u.prettier)?void 0:e.standaloneJs)||K.main,i.id=`${q}-prettier`,a.src=(null==(t=null==u?void 0:u.prettier)?void 0:t.parserMarkdownJs)||K.markdown,a.id=`${q}-prettierMD`;const r=document.createElement("link");r.rel="stylesheet",r.href=(null==(l=null==u?void 0:u.cropper)?void 0:l.css)||W.css,r.id=`${q}-cropperCss`;const d=document.createElement("script");d.src=(null==(o=null==u?void 0:u.cropper)?void 0:o.js)||W.js,d.id=`${q}-cropper`,c||ke(n),s||(v||(ke(r),ke(d)),m||ke(i),p||ke(a))}))})(e);const[d,u]=((e,t)=>{const{editorId:l,previewOnly:o}=e,n=_({pageFullscreen:e.pageFullscreen,fullscreen:!1,preview:e.preview,htmlPreview:!e.preview&&e.htmlPreview});let i="";const a=()=>{n.pageFullscreen||n.fullscreen?document.body.style.overflow="hidden":document.body.style.overflow=i};return I((()=>[n.pageFullscreen,n.fullscreen]),a),A((()=>{o||ie.on(l,{name:"uploadImage",callback(o,n){const i=e=>{ie.emit(l,"replace","image",{desc:"",urls:e}),n&&n()};e.onUploadImg?e.onUploadImg(o,i):t.emit("onUploadImg",o,i)}}),i=document.body.style.overflow,a()})),[n,(e,t)=>{n[e]=void 0===t?!n[e]:t,"preview"===e&&n.preview?n.htmlPreview=!1:"htmlPreview"===e&&n.htmlPreview&&(n.preview=!1)}]})(e,t),[m,p]=(e=>{const{editorId:t}=e,l=P(!1);A((()=>{ie.on(t,{name:de,callback:e=>{l.value=void 0===e?!l.value:e}})}));const o=L((()=>!e.toolbarsExclude.includes("catalog")&&e.toolbars.includes("catalog")));return[l,o]})(e);return E((()=>{ie.clear(l)})),((e,t,l,o,n)=>{const{editorId:i}=e;I((()=>o.pageFullscreen),(e=>{ie.emit(i,me,e)})),I((()=>o.fullscreen),(e=>{ie.emit(i,pe,e)})),I((()=>o.preview),(e=>{ie.emit(i,ve,e)})),I((()=>o.htmlPreview),(e=>{ie.emit(i,ge,e)})),I(l,(e=>{ie.emit(i,he,e)}));const a={on(e,t){switch(e){case"pageFullscreen":ie.on(i,{name:me,callback(e){t(e)}});break;case"fullscreen":ie.on(i,{name:pe,callback(e){t(e)}});break;case"preview":ie.on(i,{name:ve,callback(e){t(e)}});break;case"htmlPreview":ie.on(i,{name:ge,callback(e){t(e)}});break;case"catalog":ie.on(i,{name:he,callback(e){t(e)}})}},togglePageFullscreen(e){n("pageFullscreen",e)},toggleFullscreen(e){ie.emit(i,ue,e)},togglePreview(e){n("preview",e)},toggleHtmlPreview(e){n("htmlPreview",e)},toggleCatalog(e){ie.emit(i,de,e)},triggerSave(){ie.emit(i,ce)},insert(e){ie.emit(i,"replace","universal",{generate:e})},focus(){ie.emit(i,fe)}};t.expose(a)})(e,t,m,d,u),()=>{var v;const g=oe({props:e,ctx:t},"defToolbars"),h=oe({props:e,ctx:t},"defFooters");return S("div",{id:l,class:[q,e.class,"dark"===e.theme&&`${q}-dark`,d.fullscreen||d.pageFullscreen?`${q}-fullscreen`:"",o&&`${q}-previewOnly`],style:e.style},[!o&&S(Ee,{noPrettier:a,toolbars:e.toolbars,toolbarsExclude:e.toolbarsExclude,setting:d,updateSetting:u,tableShape:e.tableShape,defToolbars:g,noUploadImg:r},null),S(rt,{value:e.modelValue,setting:d,mdHeadingId:e.mdHeadingId,noMermaid:i,noPrettier:a,sanitize:e.sanitize,placeholder:e.placeholder,noKatex:n,scrollAuto:c.scrollAuto,formatCopiedText:e.formatCopiedText,autofocus:e.autoFocus,disabled:e.disabled,readonly:e.readOnly,maxlength:e.maxLength,autoDetectCode:e.autoDetectCode,noHighlight:s,onChange:l=>{e.onChange?e.onChange(l):(t.emit("update:modelValue",l),t.emit("onChange",l))},onHtmlChanged:l=>{e.onHtmlChanged?e.onHtmlChanged(l):t.emit("onHtmlChanged",l)},onGetCatalog:l=>{e.onGetCatalog?e.onGetCatalog(l):t.emit("onGetCatalog",l)},onBlur:l=>{e.onBlur?e.onBlur(l):t.emit("onBlur",l)},onFocus:l=>{e.onFocus?e.onFocus(l):t.emit("onFocus",l)}},null),!o&&(null==(v=e.footers)?void 0:v.length)>0&&S(ut,{modelValue:e.modelValue,footers:e.footers,defFooters:h,scrollAuto:c.scrollAuto,onScrollAutoChange:e=>c.scrollAuto=e},null),p.value&&!o&&S(pt,{theme:e.theme,style:{display:m.value?"block":"none"},class:`${q}-catalog-editor`,editorId:l,mdHeadingId:e.mdHeadingId},null)])}}}),gt=T({name:"NormalToolbar",props:{title:{type:String,default:""},trigger:{type:[String,Object]},onClick:{type:Function}},emits:["onClick"],setup:(e,t)=>()=>{const l=oe({props:e,ctx:t},"trigger");return S("div",{class:`${q}-toolbar-item`,title:e.title,onClick:l=>{e.onClick instanceof Function?e.onClick(l):t.emit("onClick",l)}},[l])}}),ht=T({name:"DropdownToolbar",props:{title:{type:String,default:""},visible:{type:Boolean},trigger:{type:[String,Object]},onChange:{type:Function},overlay:{type:[String,Object]}},emits:["onChange"],setup(e,t){const l=F("editorId");return()=>{const o=oe({props:e,ctx:t},"trigger"),n=oe({props:e,ctx:t},"overlay");return S(ne,{relative:`#${l}-toolbar-wrapper`,visible:e.visible,onChange:l=>{e.onChange instanceof Function?e.onChange(l):t.emit("onChange",l)},overlay:n},{default:()=>[S("div",{class:`${q}-toolbar-item`,title:e.title||""},[o])]})}}});function ft(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!O(e)}const bt=T({name:"ModalToolbar",props:{title:{type:String,default:""},modalTitle:{type:String,default:""},visible:{type:Boolean},width:{type:String,default:"auto"},height:{type:String,default:"auto"},trigger:{type:[String,Object]},onClick:{type:Function},onClose:{type:Function},showAdjust:{type:Boolean,default:!1},isFullscreen:{type:Boolean,default:!1},onAdjust:{type:Function}},emits:["onClick","onClose","onAdjust"],setup:(e,t)=>()=>{const l=oe({props:e,ctx:t},"trigger"),o=oe({props:e,ctx:t},"default");return S(M,null,[S("div",{class:`${q}-toolbar-item`,title:e.title,onClick:()=>{e.onClick instanceof Function?e.onClick():t.emit("onClick")}},[l]),S($e,{width:e.width,height:e.height,title:e.modalTitle,visible:e.visible,onClose:()=>{e.onClose instanceof Function?e.onClose():t.emit("onClose")},showAdjust:e.showAdjust,isFullscreen:e.isFullscreen,onAdjust:l=>{e.onAdjust instanceof Function?e.onAdjust(l):t.emit("onAdjust",l)}},ft(o)?o:{default:()=>[o]})])}});vt.install=e=>(e.component(vt.name,vt),e.component(gt.name,gt),e.component(ht.name,ht),e.component(pt.name,pt),e.component(bt.name,bt),e),vt.NormalToolbar=gt,vt.DropdownToolbar=ht,vt.MdCatalog=pt,vt.ModalToolbar=bt,vt.config=e=>{if(e)for(const t in e){const l=e[t];l&&(te[t]=l)}};export{vt as J};
