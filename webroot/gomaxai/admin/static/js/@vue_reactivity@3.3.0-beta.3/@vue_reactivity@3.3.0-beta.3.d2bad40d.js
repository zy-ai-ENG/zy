
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{i as t,a as e,N as s,b as i}from"../@vue_shared@3.3.0-beta.3/@vue_shared@3.3.0-beta.3.6870dbff.js";const n=t=>(t.w&o)>0,h=t=>(t.n&o)>0;let r=0,o=1;const c=30;let l;class a{constructor(t,e=null,s){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,function(t,e){e&&e.active&&e.effects.push(t)}(this,s)}run(){if(!this.active)return this.fn();let t=l,e=u;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=l,l=this,u=!0,o=1<<++r,r<=c?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=o})(this):f(this),this.fn()}finally{r<=c&&(t=>{const{deps:e}=t;if(e.length){let s=0;for(let i=0;i<e.length;i++){const r=e[i];n(r)&&!h(r)?r.delete(t):e[s++]=r,r.w&=~o,r.n&=~o}e.length=s}})(this),o=1<<--r,l=this.parent,u=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){l===this?this.deferStop=!0:this.active&&(f(this),this.onStop&&this.onStop(),this.active=!1)}}function f(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}let u=!0;function d(t,e){(t!==l||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function p(t){const e=t&&t.__v_raw;return e?p(e):t}function _(t){u&&l&&function(t,e){let s=!1;r<=c?h(t)||(t.n|=o,s=!n(t)):s=!t.has(l),s&&(t.add(l),l.deps.push(t))}((t=p(t)).dep||(t.dep=(t=>{const e=new Set(t);return e.w=0,e.n=0,e})()))}function v(t,e){const s=(t=p(t)).dep;s&&function(t,e){const s=i(t)?t:[...t];for(const i of s)i.computed&&d(i);for(const i of s)i.computed||d(i)}(s)}new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(t));class g{constructor(t,e,s,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new a(t,(()=>{this._dirty||(this._dirty=!0,v(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=p(this);return _(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function y(t,i,n=!1){let h,r;const o=e(t);o?(h=t,r=s):(h=t.get,r=t.set);return new g(h,r,o||!r,n)}export{y as c};
