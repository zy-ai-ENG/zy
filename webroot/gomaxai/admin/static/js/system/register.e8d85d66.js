
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.55992ed4.js";import{a as l}from"../config/config.0065ad3e.js";import{d as t,Q as a,r as d,B as u,x as n,h as r,o as i,c as s,e as o,f,a as S,l as g,b as m,E as p,q as v}from"../main-1d1da8fb.js";const c={class:"flex justify-between"},M=S("b",null,"注册设置",-1),C={style:{height:"61vh","overflow-y":"auto","overflow-x":"hidden"}},V=S("h5",null,"邮件校验状态",-1),_=S("h5",null,"注册赠送",-1),x=S("h5",null,"限定注册赠送",-1),b=S("h5",null,"邀请注册赠送",-1),R=t({__name:"register",setup(t){const v=a({isVerifyEmail:"",emailRegisterStatus:"",registerSendStatus:"",registerSendModel3Count:"",registerSendModel4Count:"",registerSendDrawMjCount:"",firstRegisterSendStatus:0,firstRegisterSendRank:"",firstRregisterSendModel3Count:"",firstRregisterSendModel4Count:"",firstRregisterSendDrawMjCount:"",inviteSendStatus:1,inviteGiveSendModel3Count:"",inviteGiveSendModel4Count:"",inviteGiveSendDrawMjCount:"",invitedGuestSendModel3Count:"",invitedGuestSendModel4Count:"",invitedGuestSendDrawMjCount:""}),R=d({isVerifyEmail:[{required:!0,trigger:"change",message:"请确认是否开启邮箱验证"}],registerSendStatus:[{required:!0,trigger:"change",message:"请确认是否开启注册赠送"}],firstRegisterSendStatus:[{required:!0,trigger:"change",message:"请确认是否开启优先注册赠送"}],inviteSendStatus:[{required:!0,trigger:"change",message:"请确认是否开启邀请注册赠送"}]}),h=d();async function G(){const e=await l.queryConfig({keys:["isVerifyEmail","registerSendStatus","registerSendModel3Count","registerSendModel4Count","registerSendDrawMjCount","firstRegisterSendStatus","firstRegisterSendRank","firstRregisterSendModel3Count","firstRregisterSendModel4Count","firstRregisterSendDrawMjCount","inviteSendStatus","inviteGiveSendModel3Count","inviteGiveSendModel4Count","inviteGiveSendDrawMjCount","invitedGuestSendModel3Count","invitedGuestSendModel4Count","invitedGuestSendDrawMjCount"]});e.data.firstRegisterSendStatus&&(e.data.firstRegisterSendStatus=Number(e.data.firstRegisterSendStatus)),e.data.registerSendStatus&&(e.data.registerSendStatus=Number(e.data.registerSendStatus)),e.data.isVerifyEmail&&(e.data.isVerifyEmail=Number(e.data.isVerifyEmail)),Object.assign(v,e.data)}function w(){var e;null==(e=h.value)||e.validate((async e=>{if(e){try{await l.setConfig({settings:(t=v,Object.keys(t).map((e=>({configKey:e,configVal:t[e]}))))}),p.success("变更配置信息成功")}catch(a){}G()}else p.error("请填写完整信息");var t}))}const j=u((()=>[{required:v.firstRegisterSendStatus,message:"开启优先注册赠送选项后需填写此项",trigger:"change"}])),y=u((()=>[{required:1===Number(v.inviteSendStatus),message:"开启邀请赠送选项后需填写此项",trigger:"change"}])),D=u((()=>[{required:v.registerSendStatus,message:"开启注册赠送选项后需填写此项",trigger:"change"}]));return n((()=>{G()})),(l,t)=>{const a=r("el-alert"),d=e,u=r("el-button"),n=r("el-switch"),p=r("el-tooltip"),G=r("el-form-item"),U=r("el-col"),k=r("el-row"),E=r("el-divider"),q=r("el-input"),J=r("el-form"),N=r("el-card");return i(),s("div",null,[o(d,{bottomPadding:"20px"},{default:f((()=>[o(a,{closable:!1,"show-icon":"",title:"注册设置说明",description:"可以设置注册赠送的默认额度、包含对话次数、普通绘画额度、MJ绘画额度、并且可以设置前x名用户获得更多额度、包含设置邀请和被邀请次数等！",type:"success"})])),_:1}),o(N,{style:{margin:"20px 20px 0 20px"}},{header:f((()=>[S("div",c,[M,o(u,{class:"button",onClick:w},{default:f((()=>[g(" 保存设置 ")])),_:1})])])),default:f((()=>[S("div",C,[o(J,{ref_key:"formRef",ref:h,rules:R.value,model:v,"label-width":"214px"},{default:f((()=>[V,o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"是否关闭邮箱验证",prop:"isVerifyEmail"},{default:f((()=>[o(p,{class:"box-item",effect:"dark",content:"打开即为关闭邮箱校验、后续注册将直接成功、请谨慎打开此功能！",placement:"right"},{default:f((()=>[o(n,{modelValue:v.isVerifyEmail,"onUpdate:modelValue":t[0]||(t[0]=e=>v.isVerifyEmail=e),"active-value":0,"inactive-value":1},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),o(E),_,o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"是否开启注册赠送",prop:"registerSendStatus"},{default:f((()=>[o(n,{modelValue:v.registerSendStatus,"onUpdate:modelValue":t[1]||(t[1]=e=>v.registerSendStatus=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"注册赠送基础模型对话额度",prop:"registerSendModel3Count",rules:m(D)},{default:f((()=>[o(q,{modelValue:v.registerSendModel3Count,"onUpdate:modelValue":t[2]||(t[2]=e=>v.registerSendModel3Count=e),placeholder:"首次注册赠基础模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"注册赠送高级模型对话额度",prop:"registerSendModel4Count",rules:m(D)},{default:f((()=>[o(q,{modelValue:v.registerSendModel4Count,"onUpdate:modelValue":t[3]||(t[3]=e=>v.registerSendModel4Count=e),placeholder:"首次注册赠高级模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"注册赠送MJ绘画额度",prop:"registerSendDrawMjCount",rules:m(D)},{default:f((()=>[o(q,{modelValue:v.registerSendDrawMjCount,"onUpdate:modelValue":t[4]||(t[4]=e=>v.registerSendDrawMjCount=e),placeholder:"首次注册赠送MJ额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(E),x,o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"开启优先注册赠送",prop:"firstRegisterSendStatus"},{default:f((()=>[o(n,{modelValue:v.firstRegisterSendStatus,"onUpdate:modelValue":t[5]||(t[5]=e=>v.firstRegisterSendStatus=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"前多少名获得奖励",prop:"firstRegisterSendRank",rules:m(j)},{default:f((()=>[o(q,{modelValue:v.firstRegisterSendRank,"onUpdate:modelValue":t[6]||(t[6]=e=>v.firstRegisterSendRank=e),placeholder:"设置优先注册前N名可以获得奖励",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"优先赠基础模型送对话额度",prop:"firstRregisterSendModel3Count",rules:m(j)},{default:f((()=>[o(q,{modelValue:v.firstRregisterSendModel3Count,"onUpdate:modelValue":t[7]||(t[7]=e=>v.firstRregisterSendModel3Count=e),placeholder:"优先注册用户额外赠送基础模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"优先赠高级模型送对话额度",prop:"firstRregisterSendModel4Count",rules:m(j)},{default:f((()=>[o(q,{modelValue:v.firstRregisterSendModel4Count,"onUpdate:modelValue":t[8]||(t[8]=e=>v.firstRregisterSendModel4Count=e),placeholder:"优先注册用户额外赠送高级模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"优先赠送MJ绘画额度",prop:"firstRregisterSendDrawMjCount",rules:m(j)},{default:f((()=>[o(q,{modelValue:v.firstRregisterSendDrawMjCount,"onUpdate:modelValue":t[9]||(t[9]=e=>v.firstRregisterSendDrawMjCount=e),placeholder:"优先注册用户额外赠送MJ额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(E),b,o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"开启邀请注册赠送",prop:"inviteSendStatus"},{default:f((()=>[o(n,{modelValue:v.inviteSendStatus,"onUpdate:modelValue":t[10]||(t[10]=e=>v.inviteSendStatus=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"邀请赠送基础模型对话额度",prop:"inviteGiveSendModel3Count",rules:m(y)},{default:f((()=>[o(q,{modelValue:v.inviteGiveSendModel3Count,"onUpdate:modelValue":t[11]||(t[11]=e=>v.inviteGiveSendModel3Count=e),placeholder:"邀请注册用户赠送基础模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"邀请赠送高级模型对话额度",prop:"inviteGiveSendModel4Count",rules:m(y)},{default:f((()=>[o(q,{modelValue:v.inviteGiveSendModel4Count,"onUpdate:modelValue":t[12]||(t[12]=e=>v.inviteGiveSendModel4Count=e),placeholder:"邀请注册用户赠送高级模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"邀请赠送MJ绘画额度",prop:"inviteGiveSendDrawMjCount",rules:m(y)},{default:f((()=>[o(q,{modelValue:v.inviteGiveSendDrawMjCount,"onUpdate:modelValue":t[13]||(t[13]=e=>v.inviteGiveSendDrawMjCount=e),placeholder:"邀请注册用户赠送MJ额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"被邀请赠送基础模型对话额度",prop:"invitedGuestSendModel3Count",rules:m(y)},{default:f((()=>[o(q,{modelValue:v.invitedGuestSendModel3Count,"onUpdate:modelValue":t[14]||(t[14]=e=>v.invitedGuestSendModel3Count=e),placeholder:"被邀请注册用户赠送基础模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"被邀请赠送高级模型对话额度",prop:"invitedGuestSendModel4Count",rules:m(y)},{default:f((()=>[o(q,{modelValue:v.invitedGuestSendModel4Count,"onUpdate:modelValue":t[15]||(t[15]=e=>v.invitedGuestSendModel4Count=e),placeholder:"被邀请注册用户赠送高级模型对话额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),o(k,null,{default:f((()=>[o(U,{xs:24,md:20,lg:15,xl:12},{default:f((()=>[o(G,{label:"被邀请赠送MJ绘画额度",prop:"invitedGuestSendDrawMjCount",rules:m(y)},{default:f((()=>[o(q,{modelValue:v.invitedGuestSendDrawMjCount,"onUpdate:modelValue":t[16]||(t[16]=e=>v.invitedGuestSendDrawMjCount=e),placeholder:"被邀请注册用户赠送MJ额度",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1})])),_:1},8,["rules","model"])])])),_:1})])}}});"function"==typeof v&&v(R);export{R as default};
