
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as l}from"../index/index.3ad5ed39.js";import{a as e}from"../config/config.4e576922.js";import{d as a,Q as i,r,x as o,h as u,o as t,c,e as d,f as s,a as n,l as p,E as m,q as g}from"../main-01383ffb.js";const f={class:"flex justify-between"},b=n("b",null,"底部版权设置",-1),_=a({__name:"copyright",setup(a){const g=i({copyrightTitle:"",icpNumber:"",policeFilingNumber:"",icpUrl:"",policeFilingUrl:""}),_=r({copyrightTitle:[{required:!0,trigger:"blur",message:"请填写点击版权内容"}],icpNumber:[{required:!1,trigger:"blur",message:"请填写ICP备案号"}],policeFilingNumber:[{required:!1,trigger:"blur",message:"请填写公安网备案号"}],icpUrl:[{required:!1,trigger:"blur",message:"请填写ICP备案号查询跳转地址"}],policeFilingUrl:[{required:!1,trigger:"blur",message:"请填写公安网备案号查询跳转地址"}]}),y=r();async function x(){const l=await e.queryConfig({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]});Object.assign(g,l.data)}function h(){var l;null==(l=y.value)||l.validate((async l=>{if(l){try{await e.setConfig({settings:(a=g,Object.keys(a).map((l=>({configKey:l,configVal:a[l]}))))}),m.success("变更配置信息成功")}catch(i){}x()}else m.error("请填写完整信息");var a}))}return o((()=>{x()})),(e,a)=>{const i=u("el-alert"),r=l,o=u("el-button"),m=u("el-input"),x=u("el-form-item"),U=u("el-col"),V=u("el-row"),F=u("el-form"),N=u("el-card");return t(),c("div",null,[d(r,{bottomPadding:"20px"},{default:s((()=>[d(i,{closable:!1,"show-icon":"",title:"底部版权参数说明",description:"当前程序的版权信息、文字用于展示、地址用于点击文字的跳转地址",type:"success"})])),_:1}),d(N,{style:{margin:"20px"}},{header:s((()=>[n("div",f,[b,d(o,{class:"button",onClick:h},{default:s((()=>[p(" 保存设置 ")])),_:1})])])),default:s((()=>[d(F,{ref_key:"formRef",ref:y,rules:_.value,model:g,"label-width":"130px"},{default:s((()=>[d(V,null,{default:s((()=>[d(U,{xs:24,md:20,lg:15,xl:12},{default:s((()=>[d(x,{label:"版权内容",prop:"copyrightTitle"},{default:s((()=>[d(m,{modelValue:g.copyrightTitle,"onUpdate:modelValue":a[0]||(a[0]=l=>g.copyrightTitle=l),placeholder:"请填写版权内容",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(V,null,{default:s((()=>[d(U,{xs:24,md:20,lg:15,xl:12},{default:s((()=>[d(x,{label:"ICP备案号",prop:"icpNumber"},{default:s((()=>[d(m,{modelValue:g.icpNumber,"onUpdate:modelValue":a[1]||(a[1]=l=>g.icpNumber=l),placeholder:"请填写ICP备案号",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(V,null,{default:s((()=>[d(U,{xs:24,md:20,lg:15,xl:12},{default:s((()=>[d(x,{label:"公安网备案号",prop:"policeFilingNumber"},{default:s((()=>[d(m,{modelValue:g.policeFilingNumber,"onUpdate:modelValue":a[2]||(a[2]=l=>g.policeFilingNumber=l),placeholder:"请填写公安网备案号",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(V,null,{default:s((()=>[d(U,{xs:24,md:20,lg:15,xl:12},{default:s((()=>[d(x,{label:"ICP备案地址",prop:"icpUrl"},{default:s((()=>[d(m,{modelValue:g.icpUrl,"onUpdate:modelValue":a[3]||(a[3]=l=>g.icpUrl=l),placeholder:"请填写ICP备案地址",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(V,null,{default:s((()=>[d(U,{xs:24,md:20,lg:15,xl:12},{default:s((()=>[d(x,{label:"公安网备案地址",prop:"policeFilingUrl"},{default:s((()=>[d(m,{modelValue:g.policeFilingUrl,"onUpdate:modelValue":a[4]||(a[4]=l=>g.policeFilingUrl=l),placeholder:"请填写公安网备案地址",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"])])),_:1})])}}});"function"==typeof g&&g(_);export{_ as default};
