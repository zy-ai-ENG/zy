'use strict';function _0x2e98(){const _0x756c04=['HttpException','/gpts','./menu.entity','MenuService','Repository','12fbjbwU','240UZLlGu','concat','对话聊天','affected','save','ri:account-pin-box-line','__metadata','专业绘画','findOne','typeorm','/chat','function','MenuEntity','mingcute:music-line','length','__param','26286rUbsUa','@nestjs/common','10NKqapN','@nestjs/typeorm','decorate','/mind','icon-park-outline:mindmap-map','updateIcon','initMenu','操作菜单失败!','mdi:paint-outline','/app-store','/share','tdesign:letters-g','onModuleInit','getOwnPropertyDescriptor','/user-center','GPTS','fluent:chat-16-regular','ASC','update','14RWYlCz','8945612qTmwxk','menuEntity','1290hHIack','思维导图','design:paramtypes','metadata','menuIframeUrl','/midjourney','16715DecTIY','缺失必要参数!','AI音乐','menuPath','delMenu','HttpStatus','find','812454BoOSro','238713atRYFb','174159HJzenh','64whkLZt','isSystem','defineProperty','queryMenu','31273ORHCOm','menuPlatform','/music','BAD_REQUEST','object','__esModule'];_0x2e98=function(){return _0x756c04;};return _0x2e98();}const _0x3b338c=_0x4dca;(function(_0x30f171,_0x32bd37){const _0x3c3e23=_0x4dca,_0xd2b4cd=_0x30f171();while(!![]){try{const _0x57eb12=parseInt(_0x3c3e23(0xb9))/0x1*(parseInt(_0x3c3e23(0xbb))/0x2)+parseInt(_0x3c3e23(0xdf))/0x3+parseInt(_0x3c3e23(0xf1))/0x4*(-parseInt(_0x3c3e23(0xd7))/0x5)+-parseInt(_0x3c3e23(0xde))/0x6*(parseInt(_0x3c3e23(0xce))/0x7)+parseInt(_0x3c3e23(0xe1))/0x8*(parseInt(_0x3c3e23(0xe0))/0x9)+parseInt(_0x3c3e23(0xd1))/0xa*(-parseInt(_0x3c3e23(0xe5))/0xb)+parseInt(_0x3c3e23(0xf0))/0xc*(parseInt(_0x3c3e23(0xcf))/0xd);if(_0x57eb12===_0x32bd37)break;else _0xd2b4cd['push'](_0xd2b4cd['shift']());}catch(_0x2506a1){_0xd2b4cd['push'](_0xd2b4cd['shift']());}}}(_0x2e98,0x34aec));var __decorate=this&&this['__decorate']||function(_0x2ad5e5,_0x18d536,_0x390059,_0x3598ac){const _0x2a0b18=_0x4dca;var _0x595210=arguments[_0x2a0b18(0xb7)],_0x44de3c=_0x595210<0x3?_0x18d536:_0x3598ac===null?_0x3598ac=Object[_0x2a0b18(0xc8)](_0x18d536,_0x390059):_0x3598ac,_0x4871a8;if(typeof Reflect===_0x2a0b18(0xe9)&&typeof Reflect[_0x2a0b18(0xbd)]==='function')_0x44de3c=Reflect[_0x2a0b18(0xbd)](_0x2ad5e5,_0x18d536,_0x390059,_0x3598ac);else{for(var _0x5cf760=_0x2ad5e5['length']-0x1;_0x5cf760>=0x0;_0x5cf760--)if(_0x4871a8=_0x2ad5e5[_0x5cf760])_0x44de3c=(_0x595210<0x3?_0x4871a8(_0x44de3c):_0x595210>0x3?_0x4871a8(_0x18d536,_0x390059,_0x44de3c):_0x4871a8(_0x18d536,_0x390059))||_0x44de3c;}return _0x595210>0x3&&_0x44de3c&&Object[_0x2a0b18(0xe3)](_0x18d536,_0x390059,_0x44de3c),_0x44de3c;},__metadata=this&&this[_0x3b338c(0xf7)]||function(_0x4a99a5,_0x460af9){const _0x1c61ef=_0x3b338c;if(typeof Reflect===_0x1c61ef(0xe9)&&typeof Reflect[_0x1c61ef(0xd4)]===_0x1c61ef(0xb4))return Reflect[_0x1c61ef(0xd4)](_0x4a99a5,_0x460af9);},__param=this&&this[_0x3b338c(0xb8)]||function(_0x2b49db,_0x3932a8){return function(_0x5ceaef,_0xd54be5){_0x3932a8(_0x5ceaef,_0xd54be5,_0x2b49db);};};Object[_0x3b338c(0xe3)](exports,_0x3b338c(0xea),{'value':!![]}),exports[_0x3b338c(0xee)]=void 0x0;const common_1=require(_0x3b338c(0xba)),typeorm_1=require(_0x3b338c(0xbc)),typeorm_2=require(_0x3b338c(0xfa)),menu_entity_1=require(_0x3b338c(0xed));let MenuService=class MenuService{constructor(_0x33b576){this['menuEntity']=_0x33b576;}async[_0x3b338c(0xc7)](){const _0x199753=_0x3b338c;await this[_0x199753(0xc1)]();}async[_0x3b338c(0xc1)](){const _0x38fd26=_0x3b338c,_0x3fd8d6=[{'menuTipText':_0x38fd26(0xf3),'menuIcon':_0x38fd26(0xcb),'menuName':'聊天','menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x38fd26(0xf8),'menuIcon':'mdi:paint-outline','menuName':'绘画','menuPath':_0x38fd26(0xd6),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x38fd26(0xca),'menuIcon':'tdesign:letters-g','menuName':_0x38fd26(0xca),'menuPath':_0x38fd26(0xec),'menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x38fd26(0xd2),'menuIcon':_0x38fd26(0xbf),'menuName':'导图','menuPath':_0x38fd26(0xbe),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':'推广计划','menuIcon':'pajamas:bullhorn','menuName':'推广','menuPath':_0x38fd26(0xc5),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x38fd26(0xd9),'menuIcon':_0x38fd26(0xb6),'menuName':_0x38fd26(0xd9),'menuPath':_0x38fd26(0xe7),'menuType':0x0,'menuPlatform':0x1,'order':0x258}],_0x2f261e=[{'menuTipText':'聊天','menuIcon':_0x38fd26(0xcb),'menuName':'聊天','menuPath':_0x38fd26(0xb3),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'绘画','menuIcon':_0x38fd26(0xc3),'menuName':'绘画','menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'应用','menuIcon':'ant-design:appstore-outlined','menuName':'应用','menuPath':_0x38fd26(0xc4),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'GPTS','menuIcon':_0x38fd26(0xc6),'menuName':_0x38fd26(0xca),'menuPath':_0x38fd26(0xec),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'我的','menuIcon':_0x38fd26(0xf6),'menuName':'我的','menuPath':_0x38fd26(0xc9),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x1315fd=_0x3fd8d6[_0x38fd26(0xf2)](_0x2f261e),_0x3d9ccd=await this[_0x38fd26(0xd0)]['find']({'where':{'menuType':0x0}});for(let _0x191ad6=0x0;_0x191ad6<_0x1315fd[_0x38fd26(0xb7)];_0x191ad6++){const _0x2ee5ac=_0x1315fd[_0x191ad6],_0x427c35=_0x3d9ccd[_0x38fd26(0xdd)](_0x1a3c70=>_0x1a3c70['menuPath']===_0x2ee5ac['menuPath']&&_0x1a3c70[_0x38fd26(0xe6)]===_0x2ee5ac[_0x38fd26(0xe6)]);!_0x427c35&&await this[_0x38fd26(0xd0)]['save'](_0x2ee5ac);}}async[_0x3b338c(0xe4)](_0x3695e4){const _0x327f99=_0x3b338c,{menuPlatform:_0x405708}=_0x3695e4;let _0x49e7a0={};return _0x405708&&(_0x49e7a0['menuPlatform']=_0x405708),await this[_0x327f99(0xd0)]['find']({'where':_0x49e7a0,'order':{'order':_0x327f99(0xcc)}});}async['menuListFront'](_0x5887a2){const _0x501a77=_0x3b338c,{menuPlatform:_0x5523b1}=_0x5887a2;let _0x264e5b={'isShow':!![]};return _0x5523b1&&(_0x264e5b[_0x501a77(0xe6)]=_0x5523b1),await this[_0x501a77(0xd0)]['find']({'where':_0x264e5b,'order':{'order':'ASC'}});}async['visibleMenu'](_0xf26421){const _0x396a27=_0x3b338c,{id:_0x39f2db}=_0xf26421;if(!_0x39f2db)return;const _0x2b102b=await this['menuEntity'][_0x396a27(0xf9)]({'where':{'id':_0x39f2db}});if(!_0x2b102b)return;const {isShow:_0x4aaa55}=_0x2b102b,_0x57bba3=await this['menuEntity'][_0x396a27(0xcd)]({'id':_0x39f2db},{'isShow':!_0x4aaa55});return _0x57bba3[_0x396a27(0xf4)]>0x0;}async['setMenu'](_0x9f9cd6){const _0x4297ef=_0x3b338c,{id:_0x3d21b4}=_0x9f9cd6;_0x9f9cd6[_0x4297ef(0xe2)]?_0x9f9cd6[_0x4297ef(0xda)]='':_0x9f9cd6[_0x4297ef(0xd5)]='';delete _0x9f9cd6[_0x4297ef(0xe2)];try{if(_0x3d21b4){const _0x291470=await this[_0x4297ef(0xd0)][_0x4297ef(0xcd)]({'id':_0x3d21b4},_0x9f9cd6);return _0x291470[_0x4297ef(0xf4)]>0x0;}else{const _0x3bdca1=await this[_0x4297ef(0xd0)][_0x4297ef(0xf5)](_0x9f9cd6);return _0x3bdca1;}}catch(_0x347bc7){throw new common_1[(_0x4297ef(0xeb))](_0x4297ef(0xc2),common_1[_0x4297ef(0xdc)][_0x4297ef(0xe8)]);}}async[_0x3b338c(0xdb)](_0x4122f9){const _0x2beecc=_0x3b338c,{id:_0x53da2c}=_0x4122f9;if(!_0x53da2c)throw new common_1[(_0x2beecc(0xeb))]('缺失必要参数!',common_1[_0x2beecc(0xdc)][_0x2beecc(0xe8)]);const _0x4037b7=await this[_0x2beecc(0xd0)]['delete']({'id':_0x53da2c});return _0x4037b7;}async[_0x3b338c(0xc0)](_0x64536){const _0x1ea22a=_0x3b338c,{id:_0x5df049,menuIcon:_0x153695,menuName:_0x59b3d8,order:_0x413fcb}=_0x64536;if(!_0x5df049||!_0x153695||!_0x59b3d8||!_0x413fcb)throw new common_1[(_0x1ea22a(0xeb))](_0x1ea22a(0xd8),common_1['HttpStatus'][_0x1ea22a(0xe8)]);const _0x537ff7=await this[_0x1ea22a(0xd0)][_0x1ea22a(0xcd)]({'id':_0x5df049},{'menuIcon':_0x153695,'menuName':_0x59b3d8,'order':_0x413fcb});return _0x537ff7[_0x1ea22a(0xf4)]>0x0;}};function _0x4dca(_0x2a534c,_0x1f3e8e){const _0x2e986f=_0x2e98();return _0x4dca=function(_0x4dcafe,_0x17dc0b){_0x4dcafe=_0x4dcafe-0xb3;let _0x3cc4f1=_0x2e986f[_0x4dcafe];return _0x3cc4f1;},_0x4dca(_0x2a534c,_0x1f3e8e);}MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(menu_entity_1[_0x3b338c(0xb5)])),__metadata(_0x3b338c(0xd3),[typeorm_2[_0x3b338c(0xef)]])],MenuService),exports[_0x3b338c(0xee)]=MenuService;