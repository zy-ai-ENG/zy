'use strict';const _0xa5823=_0x431d;function _0x1ae5(){const _0x28779b=['Logger','DB_USER','log','321811ZEaTuP','424789eCSqbw','execute','mysql2/promise','length','initDatabase','@nestjs/common','2syLaci','834792uhloeC','DB_DATABASE','then','2735190hnfZBX','252738cFlbqT','10361944QNOKGy','decrypt','DB_HOST','SHOW\x20DATABASES\x20LIKE\x20\x27','DB_PASS','isArray','../../common/utils','end','env','Ap3mlSNYaf9hCKV1xUzmNrDhzl0yW2WRhBNqeZpjT5OQdKvLMy6+ZYT4hhvu5dPDAEDug32yM3J8F50XxP8CbA==','919353VovHUN','DB_PORT'];_0x1ae5=function(){return _0x28779b;};return _0x1ae5();}(function(_0x59f84b,_0x392083){const _0x376662=_0x431d,_0x45bff3=_0x59f84b();while(!![]){try{const _0x5e28a7=parseInt(_0x376662(0x106))/0x1*(-parseInt(_0x376662(0xf0))/0x2)+parseInt(_0x376662(0x100))/0x3+-parseInt(_0x376662(0xf1))/0x4+-parseInt(_0x376662(0xf4))/0x5+-parseInt(_0x376662(0xf5))/0x6+-parseInt(_0x376662(0x105))/0x7+parseInt(_0x376662(0xf6))/0x8;if(_0x5e28a7===_0x392083)break;else _0x45bff3['push'](_0x45bff3['shift']());}catch(_0x670f9f){_0x45bff3['push'](_0x45bff3['shift']());}}}(_0x1ae5,0x51511));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['initDatabase']=void 0x0;function _0x431d(_0xdd70c1,_0xfdc020){const _0x1ae536=_0x1ae5();return _0x431d=function(_0x431d41,_0xd7da1b){_0x431d41=_0x431d41-0xeb;let _0x1d9754=_0x1ae536[_0x431d41];return _0x1d9754;},_0x431d(_0xdd70c1,_0xfdc020);}const mysql=require(_0xa5823(0xec)),common_1=require(_0xa5823(0xef)),utils_1=require(_0xa5823(0xfc));async function initDatabase(){const _0x4ef54d=_0xa5823;return mysql['createConnection']({'host':process[_0x4ef54d(0xfe)][_0x4ef54d(0xf8)],'user':process['env'][_0x4ef54d(0x103)],'password':process['env'][_0x4ef54d(0xfa)],'port':parseInt(process[_0x4ef54d(0xfe)][_0x4ef54d(0x101)])})[_0x4ef54d(0xf3)](async _0x679d7e=>{const _0x521a59=_0x4ef54d,[_0x35a965]=await _0x679d7e[_0x521a59(0xeb)](_0x521a59(0xf9)+process[_0x521a59(0xfe)]['DB_DATABASE']+'\x27');return Array[_0x521a59(0xfb)](_0x35a965)&&_0x35a965[_0x521a59(0xed)]===0x0&&(await _0x679d7e[_0x521a59(0xeb)]('CREATE\x20DATABASE\x20'+process[_0x521a59(0xfe)]['DB_DATABASE']),common_1[_0x521a59(0x102)][_0x521a59(0x104)]((0x0,utils_1[_0x521a59(0xf7)])(_0x521a59(0xff))+'['+process[_0x521a59(0xfe)][_0x521a59(0xf2)]+']')),await _0x679d7e[_0x521a59(0xfd)]();});}exports[_0xa5823(0xee)]=initDatabase;